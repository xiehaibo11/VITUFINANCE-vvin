"use strict";require("source-map-support/register");var Command=require("./lib/command");var downloader=require("./downloader");var command=new Command(require("./lib/commands"));var options={logger:console};var commands=process.argv.slice(2);if(commands[0]==="--download-compiler"&&commands[1]){downloader(commands[1],commands[2])}else{command.run(commands,options,function(err){if(err){if(typeof err==="number"){process.exit(err)}else if(err instanceof Error){console.error(err.stack||err.message)}else{console.error(err.message||err.toString()||String(err))}process.exit(1)}var handles=process._getActiveHandles();handles.forEach(function(handle){if(typeof handle.close==="function"){handle.close()}})})}