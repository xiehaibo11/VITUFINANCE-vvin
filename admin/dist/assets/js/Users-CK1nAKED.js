import{r as a,_ as e,x as l,A as t,o as s,D as d,J as n,B as u,C as r,Y as o,ay as i,aI as c,m as _,M as p,u as m,O as f,K as w,F as b,P as v}from"./vue-vendor-CCmsYA1Y.js";import{S as g,I as h,T as y,U as k,b as V,N as x}from"./element-plus-BZcENYie.js";import{bC as z}from"./vendor-BQF3adi-.js";import{a as S,b as C,d as U,c as T,u as D,e as F,f as B}from"./index-DcuAk0vn.js";import{_ as $}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-BxKU4Ero.js";const j={class:"page-container"},N={class:"search-area"},H=["onClick"],L={class:"amount"},O={class:"amount warning"},R={class:"amount"},W={class:"amount positive"},q={class:"amount negative"},E={class:"pagination-wrapper"},P={class:"amount positive"},Y={style:{"font-size":"12px","word-break":"break-all"}},M={key:0,class:"diagnose-loading"},I={class:"amount"},J={class:"card-header"},A={class:"amount positive"},K={class:"amount negative"},G={class:"amount negative"},Q={class:"amount positive"},X={class:"amount positive"},Z={class:"amount positive"},aa={class:"amount"},ea={key:0,class:"diagnose-loading"},la={class:"card-header"},ta={key:0},sa={key:1},da=$({__name:"Users",setup($){const da=a(!1),na=a(!1),ua=a(!1),ra=a([]),oa=a(!1),ia=a(null),ca=e({wallet_address:"",current_balance:"0.0000",amount:0,chain:"BSC",admin_remark:""}),_a={amount:[{required:!0,message:"è¯·è¾“å…¥æ‰£è´¹é‡‘é¢",trigger:"blur"},{type:"number",min:.01,message:"æ‰£è´¹é‡‘é¢å¿…é¡»å¤§äº0.01",trigger:"blur"}],chain:[{required:!0,message:"è¯·é€‰æ‹©æ‰£è´¹é“¾",trigger:"change"}]},pa=e({wallet_address:""}),ma=e({page:1,pageSize:10,total:0}),fa=a(!1),wa=a(null),ba=e({wallet_address:"",usdt_balance:0,wld_balance:0,remark:""}),va={usdt_balance:[{required:!0,message:"è¯·è¾“å…¥USDTä½™é¢",trigger:"blur"}],wld_balance:[{required:!0,message:"è¯·è¾“å…¥WLDä½™é¢",trigger:"blur"}],remark:[{required:!0,message:"è¯·è¾“å…¥æ“ä½œå¤‡æ³¨",trigger:"blur"}]},ga=a(!1),ha=a(null),ya=a(!1),ka=a(!1),Va=a(null),xa=a(!1),za=a(!1),Sa=a(null),Ca=a(!1),Ua=a(!1),Ta=e({wallet_address:"",chain:"BSC"}),Da=a(null),Fa=async()=>{da.value=!0;try{const a=await S({page:ma.page,pageSize:ma.pageSize,wallet_address:pa.wallet_address||void 0});a.success&&(ra.value=a.data.list||[],ma.total=a.data.total||0)}catch(a){}finally{da.value=!1}},Ba=()=>{ma.page=1,Fa()},$a=()=>{pa.wallet_address="",ma.page=1,Fa()},ja=()=>{ma.page=1,Fa()},Na=()=>{Fa()},Ha=async()=>{if(await wa.value.validate().catch(()=>!1)){na.value=!0;try{const a=await B(ba.wallet_address,{usdt_balance:ba.usdt_balance,wld_balance:ba.wld_balance,remark:ba.remark});a.success?(V.success("æ›´æ–°æˆåŠŸ"),fa.value=!1,Fa()):V.error(a.message||"æ›´æ–°å¤±è´¥")}catch(a){}finally{na.value=!1}}},La=async()=>{if(await ia.value.validate().catch(()=>!1)){try{await x.confirm(`ç¡®è®¤ä»ç”¨æˆ·é’±åŒ… ${Ra(ca.wallet_address)} æ‰£é™¤ ${ca.amount} USDTï¼Ÿ\n\næ­¤æ“ä½œå°†ç›´æ¥ä»ç”¨æˆ·æˆæƒçš„é’±åŒ…ä¸­è½¬è´¦ï¼Œæ— æ³•æ’¤é”€ï¼`,"ç¡®è®¤æ‰£è´¹",{confirmButtonText:"ç¡®è®¤æ‰£è´¹",cancelButtonText:"å–æ¶ˆ",type:"warning",dangerouslyUseHTMLString:!1})}catch{return}ua.value=!0;try{const a=await fetch("/api/admin/users/deduct-from-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:ca.wallet_address,amount:ca.amount,chain:ca.chain,admin_remark:ca.admin_remark})}),e=await a.json();e.success?(V.success(`æ‰£è´¹æˆåŠŸï¼äº¤æ˜“å“ˆå¸Œï¼š${e.data.txHash}`),oa.value=!1,Fa()):V.error(e.message||"æ‰£è´¹å¤±è´¥")}catch(a){V.error("æ‰£è´¹å¤±è´¥ï¼š"+a.message)}finally{ua.value=!1}}},Oa=async()=>{Ua.value=!0,Da.value=null;try{const a=await fetch(`/api/admin/users/check-allowance?wallet_address=${Ta.wallet_address}&chain=${Ta.chain}`),e=await a.json();e.success?Da.value=e.data:V.error(e.message||"æŸ¥è¯¢å¤±è´¥")}catch(a){V.error("æŸ¥è¯¢å¤±è´¥")}finally{Ua.value=!1}},Ra=a=>a?`${a.slice(0,10)}...${a.slice(-8)}`:"",Wa=a=>parseFloat(a||0).toFixed(4),qa=a=>z(a).format("YYYY-MM-DD HH:mm:ss");return l(()=>{Fa()}),(a,e)=>{const l=i("el-input"),z=i("el-form-item"),S=i("el-icon"),B=i("el-button"),$=i("el-form"),Ea=i("el-table-column"),Pa=i("el-tooltip"),Ya=i("el-tag"),Ma=i("el-table"),Ia=i("el-pagination"),Ja=i("el-input-number"),Aa=i("el-dialog"),Ka=i("el-alert"),Ga=i("el-radio"),Qa=i("el-radio-group"),Xa=i("el-descriptions-item"),Za=i("el-descriptions"),ae=i("el-card"),ee=i("el-drawer"),le=c("loading");return s(),t("div",j,[e[65]||(e[65]=d("div",{class:"page-header"},[d("h2",null,"ç”¨æˆ·ç®¡ç†"),d("p",{class:"description"},"ç®¡ç†å¹³å°æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯å’Œä½™é¢")],-1)),d("div",N,[u($,{inline:!0,model:pa,onSubmit:o(Ba,["prevent"])},{default:r(()=>[u(z,{label:"é’±åŒ…åœ°å€"},{default:r(()=>[u(l,{modelValue:pa.wallet_address,"onUpdate:modelValue":e[0]||(e[0]=a=>pa.wallet_address=a),placeholder:"è¯·è¾“å…¥é’±åŒ…åœ°å€",clearable:"",style:{width:"280px"}},null,8,["modelValue"])]),_:1}),u(z,null,{default:r(()=>[u(B,{type:"primary",onClick:Ba},{default:r(()=>[u(S,null,{default:r(()=>[u(m(g))]),_:1}),e[23]||(e[23]=p(" æœç´¢ ",-1))]),_:1}),u(B,{onClick:$a},{default:r(()=>[u(S,null,{default:r(()=>[u(m(h))]),_:1}),e[24]||(e[24]=p(" é‡ç½® ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),n((s(),_(Ma,{data:ra.value,stripe:"",border:"",style:{width:"100%"}},{default:r(()=>[u(Ea,{type:"index",label:"åºå·",width:"60",align:"center"}),u(Ea,{prop:"wallet_address",label:"é’±åŒ…åœ°å€","min-width":"200"},{default:r(({row:a})=>[u(Pa,{content:a.wallet_address,placement:"top"},{default:r(()=>[d("span",{class:"wallet-address",onClick:e=>{return l=a.wallet_address,navigator.clipboard.writeText(l),void V.success("åœ°å€å·²å¤åˆ¶");var l}},[p(f(Ra(a.wallet_address))+" ",1),u(S,null,{default:r(()=>[u(m(y))]),_:1})],8,H)]),_:2},1032,["content"])]),_:1}),u(Ea,{prop:"is_banned",label:"çŠ¶æ€",width:"100",align:"center"},{default:r(({row:a})=>[1===Number(a.is_banned)?(s(),_(Pa,{key:0,content:`å†»ç»“åŸå› ï¼š${a.ban_reason||"-"}\nå†»ç»“æ—¶é—´ï¼š${a.banned_at?qa(a.banned_at):"-"}\næ“ä½œå‘˜ï¼š${a.banned_by||"-"}`,placement:"top"},{default:r(()=>[u(Ya,{type:"danger",size:"small"},{default:r(()=>[...e[25]||(e[25]=[p("å†»ç»“",-1)])]),_:1})]),_:1},8,["content"])):(s(),_(Ya,{key:1,type:"success",size:"small"},{default:r(()=>[...e[26]||(e[26]=[p("æ­£å¸¸",-1)])]),_:1}))]),_:1}),u(Ea,{prop:"usdt_balance",label:"USDTä½™é¢",width:"140",align:"right"},{default:r(({row:a})=>[d("span",L,f(Wa(a.usdt_balance)),1)]),_:1}),u(Ea,{prop:"frozen_usdt",label:"å†»ç»“USDT",width:"140",align:"right"},{default:r(({row:a})=>[d("span",O,f(Wa(a.frozen_usdt)),1)]),_:1}),u(Ea,{prop:"wld_balance",label:"WLDä½™é¢",width:"140",align:"right"},{default:r(({row:a})=>[d("span",R,f(Wa(a.wld_balance)),1)]),_:1}),u(Ea,{prop:"total_deposit",label:"æ€»å……å€¼",width:"140",align:"right"},{default:r(({row:a})=>[d("span",W,f(Wa(a.total_deposit)),1)]),_:1}),u(Ea,{prop:"total_withdraw",label:"æ€»ææ¬¾",width:"140",align:"right"},{default:r(({row:a})=>[d("span",q,f(Wa(a.total_withdraw)),1)]),_:1}),u(Ea,{prop:"created_at",label:"æ³¨å†Œæ—¶é—´",width:"170"},{default:r(({row:a})=>[p(f(qa(a.created_at)),1)]),_:1}),u(Ea,{label:"æ“ä½œ",width:"500",fixed:"right",align:"center"},{default:r(({row:a})=>[u(B,{type:"primary",link:"",size:"small",onClick:e=>(a=>{ba.wallet_address=a.wallet_address,ba.usdt_balance=parseFloat(a.usdt_balance),ba.wld_balance=parseFloat(a.wld_balance),ba.remark="",fa.value=!0})(a)},{default:r(()=>[...e[27]||(e[27]=[p(" ç¼–è¾‘ ",-1)])]),_:1},8,["onClick"]),u(B,{type:"success",link:"",size:"small",onClick:e=>(async a=>{xa.value=!0,za.value=!0,Sa.value=null;try{const e=await C(a.wallet_address);e.success?Sa.value=e.data:V.error(e.message||"è·å–æ˜ç»†å¤±è´¥")}catch(e){V.error("è·å–æ˜ç»†å¤±è´¥")}finally{za.value=!1}})(a)},{default:r(()=>[...e[28]||(e[28]=[p(" æ˜ç»† ",-1)])]),_:1},8,["onClick"]),u(B,{type:"info",link:"",size:"small",onClick:e=>(a=>{Ta.wallet_address=a.wallet_address,Ta.chain="BSC",Da.value=null,Ca.value=!0,Oa()})(a)},{default:r(()=>[...e[29]||(e[29]=[p(" æŸ¥ä½™é¢ ",-1)])]),_:1},8,["onClick"]),u(B,{type:"warning",link:"",size:"small",onClick:e=>(async a=>{ya.value=!0,ka.value=!0,Va.value=null;try{const e=await U(a.wallet_address);e.success?Va.value=e.data:V.error(e.message||"è¯Šæ–­å¤±è´¥")}catch(e){V.error("è¯Šæ–­å¤±è´¥")}finally{ka.value=!1}})(a)},{default:r(()=>[...e[30]||(e[30]=[p(" è¯Šæ–­ ",-1)])]),_:1},8,["onClick"]),u(B,{type:"danger",link:"",size:"small",onClick:e=>(a=>{ca.wallet_address=a.wallet_address,ca.current_balance=Wa(a.usdt_balance),ca.amount=0,ca.chain="BSC",ca.admin_remark="",oa.value=!0})(a)},{default:r(()=>[...e[31]||(e[31]=[p(" æ‰£è´¹ ",-1)])]),_:1},8,["onClick"]),Number(a.frozen_usdt)>0&&0===Number(a.is_banned)?(s(),_(B,{key:0,type:"info",link:"",size:"small",onClick:e=>(async a=>{var e;try{if(!(null==a?void 0:a.wallet_address))return;const l=parseFloat(a.frozen_usdt||0);if(!isFinite(l)||l<=0)return void V.warning("å†»ç»“USDTä½™é¢ä¸º 0ï¼Œæ— éœ€é‡Šæ”¾");const{value:t}=await x.prompt(`è¯·è¾“å…¥è¦é‡Šæ”¾çš„é‡‘é¢ï¼ˆç•™ç©º=å…¨éƒ¨é‡Šæ”¾ï¼‰\né’±åŒ…åœ°å€ï¼š${Ra(a.wallet_address)}\nå½“å‰å†»ç»“ï¼š${Wa(a.frozen_usdt)} USDT`,"é‡Šæ”¾å†»ç»“ä½™é¢",{confirmButtonText:"é‡Šæ”¾",cancelButtonText:"å–æ¶ˆ",inputPlaceholder:"ç•™ç©ºåˆ™å…¨éƒ¨é‡Šæ”¾",inputValue:"",inputValidator:a=>{const e=String(a??"").trim();if(!e)return!0;const t=parseFloat(e);return!isFinite(t)||t<=0?"é‡Šæ”¾é‡‘é¢ä¸åˆæ³•":!(t>l)||`é‡Šæ”¾é‡‘é¢è¶…è¿‡å†»ç»“ä½™é¢ï¼ˆå†»ç»“ï¼š${l.toFixed(4)}ï¼‰`},type:"warning"}),s=String(t??"").trim(),d=s?{amount:parseFloat(s)}:{},n=await T(a.wallet_address,d);(null==n?void 0:n.success)?(V.success(`å·²é‡Šæ”¾å†»ç»“ä½™é¢ï¼š${(null==(e=n.data)?void 0:e.released)||s||l.toFixed(4)} USDT`),Fa()):V.error((null==n?void 0:n.message)||"é‡Šæ”¾å¤±è´¥")}catch(l){}})(a)},{default:r(()=>[...e[32]||(e[32]=[p(" é‡Šæ”¾å†»ç»“ ",-1)])]),_:1},8,["onClick"])):w("",!0),1===Number(a.is_banned)?(s(),_(B,{key:1,type:"success",link:"",size:"small",onClick:e=>(async a=>{try{await x.confirm(`ç¡®å®šè¦è§£å†»è¯¥ç”¨æˆ·å—ï¼Ÿ\né’±åŒ…åœ°å€ï¼š${Ra(a.wallet_address)}`,"ç¡®è®¤è§£å†»",{type:"warning",confirmButtonText:"è§£å†»",cancelButtonText:"å–æ¶ˆ"});const e=await D(a.wallet_address);e.success?(V.success("å·²è§£å†»ç”¨æˆ·"),Fa()):V.error(e.message||"è§£å†»å¤±è´¥")}catch(e){}})(a)},{default:r(()=>[...e[33]||(e[33]=[p(" è§£å†» ",-1)])]),_:1},8,["onClick"])):(s(),_(B,{key:2,type:"danger",link:"",size:"small",onClick:e=>(async a=>{try{const{value:e}=await x.prompt(`ç¡®å®šè¦å†»ç»“è¯¥ç”¨æˆ·å—ï¼Ÿ\né’±åŒ…åœ°å€ï¼š${Ra(a.wallet_address)}`,"ç¡®è®¤å†»ç»“",{confirmButtonText:"å†»ç»“",cancelButtonText:"å–æ¶ˆ",inputPlaceholder:"è¯·è¾“å…¥å†»ç»“åŸå› ï¼ˆå¿…å¡«ï¼‰",inputType:"textarea",inputValidator:a=>a&&String(a).trim()?!(String(a).trim().length<3)||"åŸå› å¤ªçŸ­ï¼ˆè‡³å°‘ 3 ä¸ªå­—ç¬¦ï¼‰":"å†»ç»“åŸå› ä¸èƒ½ä¸ºç©º",type:"warning"}),l=await F(a.wallet_address,{reason:String(e).trim()});l.success?(V.success("å·²å†»ç»“ç”¨æˆ·"),Fa()):V.error(l.message||"å†»ç»“å¤±è´¥")}catch(e){}})(a)},{default:r(()=>[...e[34]||(e[34]=[p(" å†»ç»“ ",-1)])]),_:1},8,["onClick"]))]),_:1})]),_:1},8,["data"])),[[le,da.value]]),d("div",E,[u(Ia,{"current-page":ma.page,"onUpdate:currentPage":e[1]||(e[1]=a=>ma.page=a),"page-size":ma.pageSize,"onUpdate:pageSize":e[2]||(e[2]=a=>ma.pageSize=a),"page-sizes":[10,20,50,100],total:ma.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ja,onCurrentChange:Na},null,8,["current-page","page-size","total"])]),u(Aa,{modelValue:fa.value,"onUpdate:modelValue":e[8]||(e[8]=a=>fa.value=a),title:"ç¼–è¾‘ç”¨æˆ·ä½™é¢",width:"500px","destroy-on-close":""},{footer:r(()=>[u(B,{onClick:e[7]||(e[7]=a=>fa.value=!1)},{default:r(()=>[...e[35]||(e[35]=[p("å–æ¶ˆ",-1)])]),_:1}),u(B,{type:"primary",loading:na.value,onClick:Ha},{default:r(()=>[...e[36]||(e[36]=[p(" ç¡®å®š ",-1)])]),_:1},8,["loading"])]),default:r(()=>[u($,{ref_key:"editFormRef",ref:wa,model:ba,rules:va,"label-width":"100px"},{default:r(()=>[u(z,{label:"é’±åŒ…åœ°å€"},{default:r(()=>[u(l,{modelValue:ba.wallet_address,"onUpdate:modelValue":e[3]||(e[3]=a=>ba.wallet_address=a),disabled:""},null,8,["modelValue"])]),_:1}),u(z,{label:"USDTä½™é¢",prop:"usdt_balance"},{default:r(()=>[u(Ja,{modelValue:ba.usdt_balance,"onUpdate:modelValue":e[4]||(e[4]=a=>ba.usdt_balance=a),precision:4,step:1,min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(z,{label:"WLDä½™é¢",prop:"wld_balance"},{default:r(()=>[u(Ja,{modelValue:ba.wld_balance,"onUpdate:modelValue":e[5]||(e[5]=a=>ba.wld_balance=a),precision:4,step:1,min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(z,{label:"æ“ä½œå¤‡æ³¨",prop:"remark"},{default:r(()=>[u(l,{modelValue:ba.remark,"onUpdate:modelValue":e[6]||(e[6]=a=>ba.remark=a),type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥æ“ä½œå¤‡æ³¨ï¼ˆå¿…å¡«ï¼‰"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),u(Aa,{modelValue:oa.value,"onUpdate:modelValue":e[15]||(e[15]=a=>oa.value=a),title:"ä»ç”¨æˆ·é’±åŒ…æ‰£è´¹",width:"600px","destroy-on-close":""},{footer:r(()=>[u(B,{onClick:e[14]||(e[14]=a=>oa.value=!1)},{default:r(()=>[...e[43]||(e[43]=[p("å–æ¶ˆ",-1)])]),_:1}),u(B,{type:"danger",loading:ua.value,onClick:La},{default:r(()=>[...e[44]||(e[44]=[p(" ç¡®è®¤æ‰£è´¹ ",-1)])]),_:1},8,["loading"])]),default:r(()=>[u(Ka,{title:"é‡è¦æç¤º",type:"warning",closable:!1,style:{"margin-bottom":"20px"}},{default:r(()=>[...e[37]||(e[37]=[d("p",null,"æ­¤æ“ä½œå°†ç›´æ¥ä»ç”¨æˆ·æˆæƒçš„é’±åŒ…ä¸­æ‰£é™¤ USDT",-1),d("p",null,"å‰ææ¡ä»¶ï¼šç”¨æˆ·å¿…é¡»å·²ç»æˆæƒå¹³å°é’±åŒ…åœ°å€",-1),d("p",null,"æ‰£è´¹å°†ä½¿ç”¨ transferFrom æ–¹æ³•ï¼Œä»ç”¨æˆ·é’±åŒ…è½¬è´¦åˆ°å¹³å°é’±åŒ…",-1)])]),_:1}),u($,{ref_key:"deductFormRef",ref:ia,model:ca,rules:_a,"label-width":"120px"},{default:r(()=>[u(z,{label:"ç”¨æˆ·åœ°å€"},{default:r(()=>[u(l,{modelValue:ca.wallet_address,"onUpdate:modelValue":e[9]||(e[9]=a=>ca.wallet_address=a),disabled:""},null,8,["modelValue"])]),_:1}),u(z,{label:"å½“å‰USDTä½™é¢"},{default:r(()=>[u(l,{modelValue:ca.current_balance,"onUpdate:modelValue":e[10]||(e[10]=a=>ca.current_balance=a),disabled:""},{append:r(()=>[...e[38]||(e[38]=[p("USDT",-1)])]),_:1},8,["modelValue"])]),_:1}),u(z,{label:"æ‰£è´¹é‡‘é¢",prop:"amount"},{default:r(()=>[u(Ja,{modelValue:ca.amount,"onUpdate:modelValue":e[11]||(e[11]=a=>ca.amount=a),precision:2,step:10,min:.01,max:1e4,style:{width:"100%"}},null,8,["modelValue"]),e[39]||(e[39]=d("div",{style:{color:"#909399","font-size":"12px","margin-top":"5px"}}," å»ºè®®é‡‘é¢ï¼š10-1000 USDT ",-1))]),_:1}),u(z,{label:"æ‰£è´¹é“¾",prop:"chain"},{default:r(()=>[u(Qa,{modelValue:ca.chain,"onUpdate:modelValue":e[12]||(e[12]=a=>ca.chain=a)},{default:r(()=>[u(Ga,{label:"BSC"},{default:r(()=>[...e[40]||(e[40]=[p("BSC (BNB Smart Chain)",-1)])]),_:1}),u(Ga,{label:"ETH"},{default:r(()=>[...e[41]||(e[41]=[p("ETH (Ethereum)",-1)])]),_:1}),u(Ga,{label:"TRON"},{default:r(()=>[...e[42]||(e[42]=[p("TRON",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(z,{label:"æ“ä½œå‘˜å¤‡æ³¨"},{default:r(()=>[u(l,{modelValue:ca.admin_remark,"onUpdate:modelValue":e[13]||(e[13]=a=>ca.admin_remark=a),type:"textarea",rows:3,placeholder:"å†…éƒ¨å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),u(Aa,{modelValue:Ca.value,"onUpdate:modelValue":e[19]||(e[19]=a=>Ca.value=a),title:"æŸ¥è¯¢é’±åŒ…ä½™é¢",width:"600px","destroy-on-close":""},{footer:r(()=>[u(B,{onClick:e[18]||(e[18]=a=>Ca.value=!1)},{default:r(()=>[...e[51]||(e[51]=[p("å…³é—­",-1)])]),_:1}),u(B,{type:"primary",onClick:Oa},{default:r(()=>[...e[52]||(e[52]=[p("åˆ·æ–°",-1)])]),_:1})]),default:r(()=>[n((s(),t("div",null,[u($,{"label-width":"120px"},{default:r(()=>[u(z,{label:"ç”¨æˆ·åœ°å€"},{default:r(()=>[u(l,{modelValue:Ta.wallet_address,"onUpdate:modelValue":e[16]||(e[16]=a=>Ta.wallet_address=a),disabled:""},null,8,["modelValue"])]),_:1}),u(z,{label:"æŸ¥è¯¢é“¾"},{default:r(()=>[u(Qa,{modelValue:Ta.chain,"onUpdate:modelValue":e[17]||(e[17]=a=>Ta.chain=a),onChange:Oa},{default:r(()=>[u(Ga,{label:"BSC"},{default:r(()=>[...e[45]||(e[45]=[p("BSC",-1)])]),_:1}),u(Ga,{label:"ETH"},{default:r(()=>[...e[46]||(e[46]=[p("ETH",-1)])]),_:1}),u(Ga,{label:"TRON"},{default:r(()=>[...e[47]||(e[47]=[p("TRON",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),Da.value?(s(),_(ae,{key:0,style:{"margin-top":"20px"}},{header:r(()=>[d("span",null,"ğŸ’° "+f(Ta.chain)+" é“¾ä½™é¢",1)]),default:r(()=>[u(Za,{column:1,border:""},{default:r(()=>[u(Xa,{label:"USDT ä½™é¢"},{default:r(()=>[d("span",P,f(Da.value.balance)+" USDT",1)]),_:1}),u(Xa,{label:"æˆæƒé¢åº¦"},{default:r(()=>[d("span",{class:b(parseFloat(Da.value.allowance)>0?"amount positive":"amount")},f(Da.value.allowance)+" USDT ",3)]),_:1}),u(Xa,{label:"å¹³å°åœ°å€"},{default:r(()=>[d("span",Y,f(Da.value.platform_address),1)]),_:1})]),_:1}),0===parseFloat(Da.value.allowance)?(s(),_(Ka,{key:0,type:"warning",title:"ç”¨æˆ·å°šæœªæˆæƒå¹³å°åœ°å€",style:{"margin-top":"15px"},closable:!1},{default:r(()=>[...e[48]||(e[48]=[d("p",null,"ç”¨æˆ·éœ€è¦å…ˆæˆæƒå¹³å°åœ°å€æ‰èƒ½è¿›è¡Œæ‰£è´¹æ“ä½œ",-1)])]),_:1})):parseFloat(Da.value.allowance)<100?(s(),_(Ka,{key:1,type:"info",title:"æˆæƒé¢åº¦è¾ƒä½",style:{"margin-top":"15px"},closable:!1},{default:r(()=>[d("p",null,"å½“å‰æˆæƒé¢åº¦ï¼š"+f(Da.value.allowance)+" USDT",1),e[49]||(e[49]=d("p",null,"å»ºè®®ç”¨æˆ·å¢åŠ æˆæƒé¢åº¦",-1))]),_:1})):(s(),_(Ka,{key:2,type:"success",title:"æˆæƒé¢åº¦å……è¶³",style:{"margin-top":"15px"},closable:!1},{default:r(()=>[...e[50]||(e[50]=[d("p",null,"å¯ä»¥è¿›è¡Œæ‰£è´¹æ“ä½œ",-1)])]),_:1}))]),_:1})):w("",!0)])),[[le,Ua.value]])]),_:1},8,["modelValue"]),u(ee,{modelValue:ga.value,"onUpdate:modelValue":e[20]||(e[20]=a=>ga.value=a),title:"ç”¨æˆ·è¯¦æƒ…",size:"500px"},{default:r(()=>[ha.value?(s(),_(Za,{key:0,column:1,border:""},{default:r(()=>[u(Xa,{label:"é’±åŒ…åœ°å€"},{default:r(()=>[p(f(ha.value.wallet_address),1)]),_:1}),u(Xa,{label:"USDTä½™é¢"},{default:r(()=>[p(f(Wa(ha.value.usdt_balance)),1)]),_:1}),u(Xa,{label:"WLDä½™é¢"},{default:r(()=>[p(f(Wa(ha.value.wld_balance)),1)]),_:1}),u(Xa,{label:"æ€»å……å€¼"},{default:r(()=>[p(f(Wa(ha.value.total_deposit)),1)]),_:1}),u(Xa,{label:"æ€»ææ¬¾"},{default:r(()=>[p(f(Wa(ha.value.total_withdraw)),1)]),_:1}),u(Xa,{label:"æ³¨å†Œæ—¶é—´"},{default:r(()=>[p(f(qa(ha.value.created_at)),1)]),_:1}),u(Xa,{label:"æœ€åæ›´æ–°"},{default:r(()=>[p(f(qa(ha.value.updated_at)),1)]),_:1})]),_:1})):w("",!0)]),_:1},8,["modelValue"]),u(ee,{modelValue:xa.value,"onUpdate:modelValue":e[21]||(e[21]=a=>xa.value=a),title:"ğŸ’° ç”¨æˆ·ä½™é¢æ˜ç»†",size:"800px"},{default:r(()=>[za.value?(s(),t("div",M,[u(S,{class:"is-loading"},{default:r(()=>[u(m(k))]),_:1}),e[53]||(e[53]=d("span",null,"æ­£åœ¨åŠ è½½...",-1))])):Sa.value?(s(),t(v,{key:1},[u(ae,{class:"diagnose-card"},{header:r(()=>[...e[54]||(e[54]=[d("span",null,"ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯",-1)])]),default:r(()=>[u(Za,{column:2,border:"",size:"small"},{default:r(()=>[u(Xa,{label:"é’±åŒ…åœ°å€",span:2},{default:r(()=>[p(f(Sa.value.user.wallet_address),1)]),_:1}),u(Xa,{label:"å½“å‰USDTä½™é¢"},{default:r(()=>[d("span",I,f(Sa.value.user.current_usdt_balance),1)]),_:1}),u(Xa,{label:"å½“å‰WLDä½™é¢"},{default:r(()=>[p(f(Sa.value.user.current_wld_balance),1)]),_:1})]),_:1})]),_:1}),u(ae,{class:b(["diagnose-card",{"card-warning":0!==parseFloat(Sa.value.totals.balance_difference)}])},{header:r(()=>[d("div",J,[e[56]||(e[56]=d("span",null,"ğŸ“Š ä½™é¢æ±‡æ€»",-1)),0!==parseFloat(Sa.value.totals.balance_difference)?(s(),_(Ya,{key:0,type:"danger",size:"small"},{default:r(()=>[p(" å·®å¼‚: "+f(Sa.value.totals.balance_difference),1)]),_:1})):(s(),_(Ya,{key:1,type:"success",size:"small"},{default:r(()=>[...e[55]||(e[55]=[p("æ•°æ®ä¸€è‡´",-1)])]),_:1}))])]),default:r(()=>[u(Za,{column:2,border:"",size:"small"},{default:r(()=>[u(Xa,{label:"æ€»å……å€¼"},{default:r(()=>[d("span",A,"+"+f(Sa.value.totals.deposits),1)]),_:1}),u(Xa,{label:"æ€»ææ¬¾"},{default:r(()=>[d("span",K,"-"+f(Sa.value.totals.withdrawals),1)]),_:1}),u(Xa,{label:"æœºå™¨äººè´­ä¹°"},{default:r(()=>[d("span",G,"-"+f(Sa.value.totals.robot_purchases),1)]),_:1}),u(Xa,{label:"é‡åŒ–æ”¶ç›Š"},{default:r(()=>[d("span",Q,"+"+f(Sa.value.totals.robot_earnings),1)]),_:1}),u(Xa,{label:"æ¨èå¥–åŠ±"},{default:r(()=>[d("span",X,"+"+f(Sa.value.totals.referral_rewards),1)]),_:1}),u(Xa,{label:"å›¢é˜Ÿå¥–åŠ±"},{default:r(()=>[d("span",Z,"+"+f(Sa.value.totals.team_rewards),1)]),_:1}),u(Xa,{label:"ç®¡ç†å‘˜è°ƒæ•´"},{default:r(()=>[d("span",{class:b(parseFloat(Sa.value.totals.admin_adjustments)>=0?"amount positive":"amount negative")},f(parseFloat(Sa.value.totals.admin_adjustments)>=0?"+":"")+f(Sa.value.totals.admin_adjustments),3)]),_:1}),u(Xa,{label:"è®¡ç®—ä½™é¢"},{default:r(()=>[d("span",aa,f(Sa.value.totals.calculated_balance),1)]),_:1})]),_:1})]),_:1},8,["class"]),u(ae,{class:"diagnose-card"},{header:r(()=>[d("span",null,"ğŸ“ äº¤æ˜“è®°å½• ("+f(Sa.value.transaction_count)+"æ¡)",1)]),default:r(()=>[u(Ma,{data:Sa.value.transactions,"max-height":"400",size:"small",stripe:""},{default:r(()=>[u(Ea,{prop:"type_cn",label:"ç±»å‹",width:"100"},{default:r(({row:a})=>{return[u(Ya,{type:(e=a.type,{deposit:"success",withdraw:"danger",robot_purchase:"warning",robot_earning:"success",referral_reward:"primary",team_reward:"primary",admin_adjustment:"info"}[e]||"info"),size:"small"},{default:r(()=>[p(f(a.type_cn),1)]),_:2},1032,["type"])];var e}),_:1}),u(Ea,{prop:"amount",label:"é‡‘é¢",width:"120",align:"right"},{default:r(({row:a})=>[d("span",{class:b(a.amount>=0?"amount positive":"amount negative")},f(a.amount>=0?"+":"")+f(a.amount.toFixed(4)),3)]),_:1}),u(Ea,{prop:"running_balance",label:"ä½™é¢",width:"100",align:"right"},{default:r(({row:a})=>[p(f(a.running_balance.toFixed(4)),1)]),_:1}),u(Ea,{prop:"description",label:"æè¿°","min-width":"200","show-overflow-tooltip":""}),u(Ea,{prop:"status",label:"çŠ¶æ€",width:"80"},{default:r(({row:a})=>[u(Ya,{type:"completed"===a.status?"success":"pending"===a.status?"warning":"info",size:"small"},{default:r(()=>[p(f(a.status),1)]),_:2},1032,["type"])]),_:1}),u(Ea,{prop:"created_at",label:"æ—¶é—´",width:"160"},{default:r(({row:a})=>[p(f(qa(a.created_at)),1)]),_:1})]),_:1},8,["data"])]),_:1})],64)):w("",!0)]),_:1},8,["modelValue"]),u(ee,{modelValue:ya.value,"onUpdate:modelValue":e[22]||(e[22]=a=>ya.value=a),title:"ä½™é¢è¯Šæ–­",size:"600px"},{default:r(()=>[ka.value?(s(),t("div",ea,[u(S,{class:"is-loading"},{default:r(()=>[u(m(k))]),_:1}),e[57]||(e[57]=d("span",null,"æ­£åœ¨è¯Šæ–­...",-1))])):Va.value?(s(),t(v,{key:1},[u(ae,{class:"diagnose-card"},{header:r(()=>[d("div",la,[e[60]||(e[60]=d("span",null,"ğŸ’° å½“å‰ä½™é¢",-1)),Va.value.analysis.is_mismatch?(s(),_(Ya,{key:0,type:"danger",size:"small"},{default:r(()=>[...e[58]||(e[58]=[p("æ•°æ®å¼‚å¸¸",-1)])]),_:1})):(s(),_(Ya,{key:1,type:"success",size:"small"},{default:r(()=>[...e[59]||(e[59]=[p("æ­£å¸¸",-1)])]),_:1}))])]),default:r(()=>[u(Za,{column:2,border:"",size:"small"},{default:r(()=>[u(Xa,{label:"USDT"},{default:r(()=>[p(f(Va.value.current_balance.usdt),1)]),_:1}),u(Xa,{label:"WLD"},{default:r(()=>[p(f(Va.value.current_balance.wld),1)]),_:1})]),_:1})]),_:1}),u(ae,{class:"diagnose-card"},{header:r(()=>[...e[61]||(e[61]=[d("span",null,"ğŸ“¥ æ”¶å…¥æ˜ç»†",-1)])]),default:r(()=>[u(Za,{column:1,border:"",size:"small"},{default:r(()=>[u(Xa,{label:"å……å€¼ (completed)"},{default:r(()=>[p(" +"+f(Va.value.calculated.deposits.total)+" ("+f(Va.value.calculated.deposits.count)+"ç¬”) ",1)]),_:1}),u(Xa,{label:"æœºå™¨äººæ”¶ç›Š"},{default:r(()=>[p(" +"+f(Va.value.calculated.robots.profit),1)]),_:1}),u(Xa,{label:"æ¨èå¥–åŠ±"},{default:r(()=>[p(" +"+f(Va.value.calculated.referral_reward),1)]),_:1}),u(Xa,{label:"å›¢é˜Ÿå¥–åŠ±"},{default:r(()=>[p(" +"+f(Va.value.calculated.team_reward),1)]),_:1}),u(Xa,{label:"æ‰‹åŠ¨æ·»åŠ "},{default:r(()=>[p(" +"+f(Va.value.stored_totals.manual_added),1)]),_:1})]),_:1})]),_:1}),u(ae,{class:"diagnose-card"},{header:r(()=>[...e[62]||(e[62]=[d("span",null,"ğŸ“¤ æ”¯å‡ºæ˜ç»†",-1)])]),default:r(()=>[u(Za,{column:1,border:"",size:"small"},{default:r(()=>[u(Xa,{label:"ææ¬¾ (completed)"},{default:r(()=>[p(" -"+f(Va.value.calculated.withdrawals.total)+" ("+f(Va.value.calculated.withdrawals.count)+"ç¬”) ",1)]),_:1}),u(Xa,{label:"æœºå™¨äººè´­ä¹°"},{default:r(()=>[p(" -"+f(Va.value.calculated.robots.cost)+" ("+f(Va.value.calculated.robots.count)+"ä¸ª) ",1)]),_:1})]),_:1})]),_:1}),u(ae,{class:b(["diagnose-card",{"card-warning":Va.value.analysis.is_mismatch}])},{header:r(()=>[...e[63]||(e[63]=[d("span",null,"ğŸ“Š ä½™é¢åˆ†æ",-1)])]),default:r(()=>[u(Za,{column:1,border:"",size:"small"},{default:r(()=>[u(Xa,{label:"é¢„æœŸä½™é¢"},{default:r(()=>[p(f(Va.value.analysis.expected_balance),1)]),_:1}),u(Xa,{label:"å®é™…ä½™é¢"},{default:r(()=>[p(f(Va.value.analysis.actual_balance),1)]),_:1}),u(Xa,{label:"å·®å¼‚"},{default:r(()=>[d("span",{class:b({"text-danger":Va.value.analysis.is_mismatch})},f(Va.value.analysis.difference),3)]),_:1})]),_:1}),Va.value.analysis.has_negative_expected?(s(),_(Ka,{key:0,type:"warning",title:"é¢„æœŸä½™é¢ä¸ºè´Ÿæ•°ï¼Œè¯´æ˜å­˜åœ¨æœªè®°å½•çš„æ”¶å…¥æ¥æº",closable:!1,"show-icon":"",style:{"margin-top":"10px"}})):w("",!0)]),_:1},8,["class"]),Va.value.field_mismatches.total_deposit||Va.value.field_mismatches.total_withdraw?(s(),_(ae,{key:0,class:"diagnose-card card-warning"},{header:r(()=>[...e[64]||(e[64]=[d("span",null,"âš ï¸ å­—æ®µä¸åŒ¹é…",-1)])]),default:r(()=>[Va.value.field_mismatches.total_deposit?(s(),t("div",ta,[d("p",null,"total_deposit: å­˜å‚¨å€¼ "+f(Va.value.field_mismatches.total_deposit.stored)+" â‰  è®¡ç®—å€¼ "+f(Va.value.field_mismatches.total_deposit.calculated),1)])):w("",!0),Va.value.field_mismatches.total_withdraw?(s(),t("div",sa,[d("p",null,"total_withdraw: å­˜å‚¨å€¼ "+f(Va.value.field_mismatches.total_withdraw.stored)+" â‰  è®¡ç®—å€¼ "+f(Va.value.field_mismatches.total_withdraw.calculated),1)])):w("",!0)]),_:1})):w("",!0)],64)):w("",!0)]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-ed1a1c42"]]);export{da as default};
