import{c8 as e}from"./vendor-BQF3adi-.js";import{l as s,b as a}from"./index-BxKU4Ero.js";import{b as t}from"./element-plus-BZcENYie.js";const r=e.create({baseURL:"/api/admin",timeout:15e3,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{const s=localStorage.getItem("admin_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e.metadata={startTime:Date.now()},e},e=>{var a,t,r;return s({url:(null==(a=e.config)?void 0:a.url)||"unknown",method:(null==(r=null==(t=e.config)?void 0:t.method)?void 0:r.toUpperCase())||"UNKNOWN",status:0,statusText:"Request Config Error",responseData:null,requestData:null}),Promise.reject(e)}),r.interceptors.response.use(e=>{e.config.metadata&&(Date.now(),e.config.metadata.startTime);return e.data},e=>{var r,o,n,i,l,u,d;const p=(null==(r=e.config)?void 0:r.url)||"",c=(null==(n=null==(o=e.config)?void 0:o.method)?void 0:n.toUpperCase())||"UNKNOWN",m=(null==(i=e.response)?void 0:i.status)||0,g=(null==(l=e.response)?void 0:l.statusText)||"Unknown Error",v=null==(u=e.response)?void 0:u.data,f=(null==v?void 0:v.message)||"Request failed";return s({url:p,method:c,status:m,statusText:g,responseData:v,requestData:(null==(d=e.config)?void 0:d.data)?JSON.parse(e.config.data):null}),401===m?p.includes("/login")?(a({action:"login",errorMessage:"Invalid credentials",statusCode:401}),Promise.reject(e)):(a({action:"token_expired",errorMessage:"Token expired or invalid",statusCode:401}),localStorage.removeItem("admin_token"),t.error("Session expired, please login again"),window.location.href="/admin/login",Promise.reject(e)):403===m?(a({action:"access_denied",errorMessage:"Permission denied",statusCode:403}),t.error("Permission denied"),Promise.reject(e)):m>=500?(t.error("Server error, please try again later"),Promise.reject(e)):(p.includes("/login")||t.error(f),Promise.reject(e))});const o=e=>r.post("/login",e),n=e=>r.post("/2fa/verify",e),i=()=>r.get("/dashboard/stats"),l=e=>r.get("/users",{params:e}),u=(e,s)=>r.put(`/users/${e}/balance`,s),d=(e,s)=>r.post(`/users/${e}/ban`,s),p=e=>r.post(`/users/${e}/unban`),c=(e,s={})=>r.post(`/users/${e}/release-frozen`,s),m=e=>r.get(`/users/${e}/diagnose`),g=e=>r.get(`/users/${e}/balance-details`),v=e=>r.get("/deposits",{params:e}),f=(e,s)=>r.put(`/deposits/${e}/status`,{status:s}),b=e=>r.get("/withdrawals",{params:e}),$=(e,s)=>r.put(`/withdrawals/${e}/process`,s),h=()=>r.get("/robots/stats"),j=e=>r.get("/robots",{params:e}),w=e=>r.get(`/robots/${e}`),x=e=>r.get(`/robots/user/${e}`),P=(e,s)=>r.post(`/robots/${e}/cancel`,s),k=e=>r.post("/robots/batch-cancel",e),C=e=>r.get("/announcements",{params:e}),N=e=>r.post("/announcements",e),T=(e,s)=>r.put(`/announcements/${e}`,s),q=e=>r.delete(`/announcements/${e}`),D=e=>r.get("/referrals",{params:e}),U=()=>r.get("/documents");export{U as A,l as a,g as b,c,m as d,d as e,u as f,i as g,v as h,f as i,b as j,h as k,o as l,j as m,w as n,x as o,$ as p,P as q,r,k as s,D as t,p as u,n as v,C as w,T as x,q as y,N as z};
