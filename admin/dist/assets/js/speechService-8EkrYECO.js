import{r as e}from"./vue-vendor-CCmsYA1Y.js";const t=e(!1),a=e(.8),n=e(.85),i=e(!1);let o=null,s=[],r=null;const l=()=>"speechSynthesis"in window&&(o=window.speechSynthesis,c(),void 0!==o.onvoiceschanged&&(o.onvoiceschanged=c),u(),!0),c=()=>{s=o.getVoices(),r=s.find(e=>e.lang.includes("zh")||e.lang.includes("CN")||e.name.includes("Chinese")||e.name.includes("中文")),!r&&s.length>0&&(r=s[0])},u=()=>{try{const e=localStorage.getItem("admin_speech_enabled"),i=localStorage.getItem("admin_speech_volume"),o=localStorage.getItem("admin_speech_rate");null!==e&&(t.value="true"===e),null!==i&&(a.value=parseFloat(i)||.8),null!==o&&(n.value=parseFloat(o)||1)}catch(e){}},v=()=>{try{localStorage.setItem("admin_speech_enabled",String(t.value)),localStorage.setItem("admin_speech_volume",String(a.value)),localStorage.setItem("admin_speech_rate",String(n.value))}catch(e){}};let d=!1;const h=()=>new Promise((e,t)=>{if(!o)return void t(new Error("语音合成不可用"));if(d)return void e();const a=new SpeechSynthesisUtterance("");a.volume=0,a.rate=2,a.onend=()=>{d=!0,e()},a.onerror=t=>{d=!0,e()},o.speak(a)}),m=(e,s={})=>new Promise(l=>{if(!t.value)return void l();if(!o)return void l();if(!d)return void l();o.cancel();const c=new SpeechSynthesisUtterance(e);r&&(c.voice=r),c.lang="zh-CN",c.volume=void 0!==s.volume?s.volume:a.value,c.rate=void 0!==s.rate?s.rate:n.value,c.pitch=void 0!==s.pitch?s.pitch:1,c.onstart=()=>{i.value=!0},c.onend=()=>{i.value=!1,l()},c.onerror=e=>{i.value=!1,l()},o.speak(c)}),S=async()=>{const e="你有一笔充值订单来啦";await m(e),await new Promise(e=>setTimeout(e,800)),await m(e)},g=(e,t,a="USDT")=>{let n=f(e);const i=$(t),o=y(a);return m(`用户 ${n}，充值了 ${i} ${o}，充值完成`)},p=(e,t,a="USDT")=>{const n=f(e),i=$(t),o=y(a);return m(`用户 ${n}，申请提现 ${i} ${o}`)},w=async(e,t,a)=>{const n={sql_injection:"SQL注入",xss:"XSS攻击",brute_force:"暴力破解",rate_limit:"流量攻击",bot_detection:"机器人攻击",ddos:"DDOS攻击",other:"恶意攻击"}[t]||"恶意攻击";let i;i=e>5?`警告，检测到大量攻击，${e}次${n}，请立即处理`:`警告，检测到${{low:"低级",medium:"中级",high:"高级",critical:"严重"}[a]||"中级"}${n}，共${e}次`,await m(i,{rate:1,volume:1}),("critical"===a||"high"===a||e>5)&&(await new Promise(e=>setTimeout(e,500)),await m(i,{rate:1,volume:1}))},_=e=>{const t=e.split("."),a=t[t.length-1]||e.slice(-6);return m(`IP地址 ${a} 已被自动封禁`)},f=e=>{if(!e)return"未知用户";let t=String(e);t.length>10&&(t=t.slice(-6));return t.toUpperCase().split("").map(e=>(/[0-9]/.test(e),e)).join(" ")},$=e=>{const t=parseFloat(e)||0;if(Number.isInteger(t))return t.toString();const a=t.toFixed(2);return a.endsWith(".00")?Math.floor(t).toString():a.replace(/\.?0+$/,"")},y=e=>({USDT:"U S D T",USDC:"U S D C",BTC:"比特币",ETH:"以太坊",BNB:"B N B"}[null==e?void 0:e.toUpperCase()]||e||"U S D T"),U=async()=>{await h();const e=t.value;t.value=!0;try{await m("语音播报测试成功")}finally{t.value=e}},D=async()=>{t.value=!0,v(),await h(),await m("语音通知已开启")};export{g as a,p as b,w as c,_ as d,D as e,h as f,t as g,a as h,l as i,n as j,v as k,S as s,U as t};
