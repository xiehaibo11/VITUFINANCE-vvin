import{b as a,j as e,y as l,g as t,a7 as s,t as n,T as i,I as c,N as o}from"./element-plus-BZcENYie.js";import{r,u as d,e as u}from"./index-CCj7ctyJ.js";import{bC as p}from"./vendor-BQF3adi-.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{r as g,_ as f,x as m,A as _,o as w,D as h,B as y,M as b,C as k,ay as x,aI as z,u as C,O as S,J as T,m as D,F as U,K as B}from"./vue-vendor-CCmsYA1Y.js";import"./index-BArJCJm5.js";const $={class:"fake-accounts-page"},j={class:"page-header"},V={class:"page-title"},F={class:"stat-card warning"},L={class:"stat-icon"},P={class:"stat-info"},A={class:"stat-value"},W={class:"stat-card danger"},Y={class:"stat-icon"},I={class:"stat-info"},M={class:"stat-value"},H={class:"stat-card primary"},O={class:"stat-icon"},J={class:"stat-info"},K={class:"stat-value"},N={class:"stat-card success"},R={class:"stat-icon"},q={class:"stat-info"},E={class:"stat-value"},G={class:"card-header"},Q={class:"header-actions"},X={class:"wallet-cell"},Z={class:"wallet-addr"},aa={class:"related-data"},ea={key:0,class:"text-muted"},la={class:"pagination-wrap"},ta={class:"card-header"},sa={class:"header-actions"},na={class:"wallet-addr"},ia={class:"pagination-wrap"},ca=v({__name:"FakeAccounts",setup(v){const ca=g(!1),oa=g(!1),ra=g(!1),da=g(!1),ua=g(""),pa=g(1),va=g(50),ga=g(0),fa=g(0),ma=g(1),_a=g(50),wa=g(0),ha=g(30),ya=g([]),ba=g([]),ka=g([]),xa=g([]),za=f({fakeAccountCount:0,totalUSDT:0,totalWLD:0,totalProfit:0}),Ca=a=>a?parseFloat(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4}):"0",Sa=a=>a?`${a.slice(0,8)}...${a.slice(-6)}`:"",Ta=a=>a?p(a).format("YYYY-MM-DD HH:mm"):"-",Da=async e=>{try{await navigator.clipboard.writeText(e),a.success("å·²å¤åˆ¶")}catch{a.error("å¤åˆ¶å¤±è´¥")}},Ua=a=>{ka.value=a},Ba=a=>{xa.value=a},$a=async()=>{var e;ca.value=!0;try{const a=await r.get("/fake-accounts",{params:{page:pa.value,limit:va.value,minBalance:fa.value||0}});a.success&&(ya.value=a.data||[],ga.value=(null==(e=a.pagination)?void 0:e.total)||0,Object.assign(za,a.summary||{}))}catch(l){a.error("èŽ·å–æ•°æ®å¤±è´¥")}finally{ca.value=!1}},ja=async()=>{var a;ra.value=!0;try{const e=await r.get("/fake-accounts/zero-balance",{params:{page:ma.value,limit:_a.value,days:ha.value}});e.success&&(ba.value=e.data||[],wa.value=(null==(a=e.pagination)?void 0:a.total)||0)}catch(e){}finally{ra.value=!1}},Va=async e=>{ua.value=e;try{const l=await r.delete(`/fake-accounts/${e}`);l.success?(a.success("æ¸…ç†æˆåŠŸ"),$a(),ja()):a.error(l.message||"æ¸…ç†å¤±è´¥")}catch(l){a.error("æ¸…ç†å¤±è´¥")}finally{ua.value=""}},Fa=async()=>{try{await o.confirm(`ç¡®å®šè¦æ¸…ç†é€‰ä¸­çš„ ${ka.value.length} ä¸ªè´¦æˆ·å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼`,"æ‰¹é‡æ¸…ç†ç¡®è®¤",{confirmButtonText:"ç¡®å®šæ¸…ç†",cancelButtonText:"å–æ¶ˆ",type:"warning"}),oa.value=!0;const e=ka.value.map(a=>a.wallet_address),l=await r.post("/fake-accounts/batch-clean",{wallet_addresses:e});l.success?(a.success(`æˆåŠŸæ¸…ç† ${l.cleaned} ä¸ªè´¦æˆ·ï¼Œè·³è¿‡ ${l.skipped} ä¸ª`),ka.value=[],$a()):a.error(l.message||"æ‰¹é‡æ¸…ç†å¤±è´¥")}catch(e){"cancel"!==e&&a.error("æ‰¹é‡æ¸…ç†å¤±è´¥")}finally{oa.value=!1}},La=async()=>{try{await o.confirm(`ç¡®å®šè¦æ¸…ç†é€‰ä¸­çš„ ${xa.value.length} ä¸ªé›¶ä½™é¢è´¦æˆ·å—ï¼Ÿ`,"æ‰¹é‡æ¸…ç†ç¡®è®¤",{confirmButtonText:"ç¡®å®šæ¸…ç†",cancelButtonText:"å–æ¶ˆ",type:"warning"}),da.value=!0;const e=xa.value.map(a=>a.wallet_address),l=await r.post("/fake-accounts/batch-clean",{wallet_addresses:e});l.success&&(a.success(`æˆåŠŸæ¸…ç† ${l.cleaned} ä¸ªè´¦æˆ·`),xa.value=[],ja())}catch(e){"cancel"!==e&&a.error("æ‰¹é‡æ¸…ç†å¤±è´¥")}finally{da.value=!1}};return m(()=>{$a(),ja()}),(r,p)=>{const v=x("el-icon"),g=x("el-col"),f=x("el-row"),m=x("el-input"),Pa=x("el-button"),Aa=x("el-table-column"),Wa=x("el-tag"),Ya=x("el-tooltip"),Ia=x("el-popconfirm"),Ma=x("el-table"),Ha=x("el-pagination"),Oa=x("el-card"),Ja=x("el-option"),Ka=x("el-select"),Na=z("loading");return w(),_("div",$,[h("div",j,[h("h2",V,[y(v,null,{default:k(()=>[y(C(e))]),_:1}),p[6]||(p[6]=b(" è™šå‡è´¦æˆ·æ£€æµ‹ ",-1))]),p[7]||(p[7]=h("p",{class:"page-desc"},"æ£€æµ‹æ²¡æœ‰å……å€¼è®°å½•çš„ç”¨æˆ·è´¦æˆ·ï¼Œå¯æ‰¹é‡æ¸…ç†è™šå‡æ•°æ®",-1))]),y(f,{gutter:16,class:"stat-row"},{default:k(()=>[y(g,{xs:12,sm:6},{default:k(()=>[h("div",F,[h("div",L,[y(v,null,{default:k(()=>[y(C(l))]),_:1})]),h("div",P,[h("div",A,S(za.fakeAccountCount),1),p[8]||(p[8]=h("div",{class:"stat-label"},"è™šå‡è´¦æˆ·",-1))])])]),_:1}),y(g,{xs:12,sm:6},{default:k(()=>[h("div",W,[h("div",Y,[y(v,null,{default:k(()=>[y(C(t))]),_:1})]),h("div",I,[h("div",M,S(Ca(za.totalUSDT)),1),p[9]||(p[9]=h("div",{class:"stat-label"},"è™šå‡USDT",-1))])])]),_:1}),y(g,{xs:12,sm:6},{default:k(()=>[h("div",H,[h("div",O,[y(v,null,{default:k(()=>[y(C(s))]),_:1})]),h("div",J,[h("div",K,S(Ca(za.totalWLD)),1),p[10]||(p[10]=h("div",{class:"stat-label"},"è™šå‡WLD",-1))])])]),_:1}),y(g,{xs:12,sm:6},{default:k(()=>[h("div",N,[h("div",R,[y(v,null,{default:k(()=>[y(C(n))]),_:1})]),h("div",q,[h("div",E,S(Ca(za.totalProfit)),1),p[11]||(p[11]=h("div",{class:"stat-label"},"è™šå‡æ”¶ç›Š",-1))])])]),_:1})]),_:1}),y(Oa,{class:"table-card",shadow:"hover"},{header:k(()=>[h("div",G,[p[14]||(p[14]=h("span",{class:"header-title"},"âš ï¸ æ— å……å€¼è®°å½•è´¦æˆ·",-1)),h("div",Q,[y(m,{modelValue:fa.value,"onUpdate:modelValue":p[0]||(p[0]=a=>fa.value=a),type:"number",placeholder:"æœ€å°ä½™é¢è¿‡æ»¤",style:{width:"140px"},size:"small",onChange:$a},{prepend:k(()=>[...p[12]||(p[12]=[b("â‰¥",-1)])]),_:1},8,["modelValue"]),ka.value.length>0?(w(),D(Pa,{key:0,type:"danger",size:"small",onClick:Fa,loading:oa.value},{default:k(()=>[b(" æ‰¹é‡æ¸…ç† ("+S(ka.value.length)+") ",1)]),_:1},8,["loading"])):B("",!0),y(Pa,{type:"primary",size:"small",onClick:$a,loading:ca.value},{default:k(()=>[y(v,null,{default:k(()=>[y(C(c))]),_:1}),p[13]||(p[13]=b(" åˆ·æ–° ",-1))]),_:1},8,["loading"])])])]),default:k(()=>[T((w(),D(Ma,{ref:"tableRef",data:ya.value,stripe:"",onSelectionChange:Ua,"max-height":500,size:"small"},{default:k(()=>[y(Aa,{type:"selection",width:"45"}),y(Aa,{prop:"wallet_address",label:"é’±åŒ…åœ°å€","min-width":"180"},{default:k(({row:a})=>[h("div",X,[h("span",Z,S(Sa(a.wallet_address)),1),y(Pa,{link:"",type:"primary",size:"small",onClick:e=>Da(a.wallet_address)},{default:k(()=>[y(v,{size:"12"},{default:k(()=>[y(C(i))]),_:1})]),_:1},8,["onClick"])])]),_:1}),y(Aa,{prop:"usdt_balance",label:"USDTä½™é¢",width:"110",align:"right"},{default:k(({row:a})=>[h("span",{class:U(a.usdt_balance>0?"text-danger":"")},S(Ca(a.usdt_balance)),3)]),_:1}),y(Aa,{prop:"wld_balance",label:"WLDä½™é¢",width:"100",align:"right"},{default:k(({row:a})=>[h("span",{class:U(a.wld_balance>0?"text-warning":"")},S(Ca(a.wld_balance)),3)]),_:1}),y(Aa,{prop:"total_profit",label:"ç´¯è®¡æ”¶ç›Š",width:"110",align:"right"},{default:k(({row:a})=>[h("span",{class:U(a.total_profit>0?"text-success":"")},S(Ca(a.total_profit)),3)]),_:1}),y(Aa,{label:"å…³è”æ•°æ®",width:"120",align:"center"},{default:k(({row:a})=>[h("div",aa,[y(Ya,{content:"æœºå™¨äºº",placement:"top"},{default:k(()=>[a.robot_count>0?(w(),D(Wa,{key:0,type:"primary",size:"small"},{default:k(()=>[b(" ðŸ¤– "+S(a.robot_count),1)]),_:2},1024)):B("",!0)]),_:2},1024),y(Ya,{content:"è´¨æŠ¼",placement:"top"},{default:k(()=>[a.pledge_count>0?(w(),D(Wa,{key:0,type:"warning",size:"small"},{default:k(()=>[b(" ðŸ’° "+S(a.pledge_count),1)]),_:2},1024)):B("",!0)]),_:2},1024),y(Ya,{content:"è·Ÿå•",placement:"top"},{default:k(()=>[a.follow_count>0?(w(),D(Wa,{key:0,type:"success",size:"small"},{default:k(()=>[b(" ðŸ“ˆ "+S(a.follow_count),1)]),_:2},1024)):B("",!0)]),_:2},1024),a.robot_count||a.pledge_count||a.follow_count?B("",!0):(w(),_("span",ea," æ—  "))])]),_:1}),y(Aa,{prop:"created_at",label:"æ³¨å†Œæ—¶é—´",width:"160"},{default:k(({row:a})=>[b(S(Ta(a.created_at)),1)]),_:1}),y(Aa,{label:"çŠ¶æ€",width:"80",align:"center"},{default:k(({row:a})=>[y(Wa,{type:a.is_banned?"danger":"success",size:"small"},{default:k(()=>[b(S(a.is_banned?"å°ç¦":"æ­£å¸¸"),1)]),_:2},1032,["type"])]),_:1}),y(Aa,{label:"æ“ä½œ",width:"160",align:"center",fixed:"right"},{default:k(({row:e})=>[e.is_banned?(w(),D(Pa,{key:0,type:"success",size:"small",link:"",onClick:l=>(async e=>{try{await o.confirm(`ç¡®å®šè¦è§£å†»è¯¥ç”¨æˆ·å—ï¼Ÿ\né’±åŒ…åœ°å€ï¼š${Sa(e)}`,"ç¡®è®¤è§£å†»",{type:"warning",confirmButtonText:"è§£å†»",cancelButtonText:"å–æ¶ˆ"});const l=await d(e);(null==l?void 0:l.success)?(a.success("å·²è§£å†»ç”¨æˆ·"),$a()):a.error((null==l?void 0:l.message)||"è§£å†»å¤±è´¥")}catch(l){}})(e.wallet_address)},{default:k(()=>[...p[15]||(p[15]=[b(" è§£å†» ",-1)])]),_:1},8,["onClick"])):(w(),D(Pa,{key:1,type:"danger",size:"small",link:"",onClick:l=>(async e=>{try{const{value:l}=await o.prompt(`ç¡®å®šè¦å†»ç»“è¯¥ç”¨æˆ·å—ï¼Ÿ\né’±åŒ…åœ°å€ï¼š${Sa(e)}`,"ç¡®è®¤å†»ç»“",{confirmButtonText:"å†»ç»“",cancelButtonText:"å–æ¶ˆ",inputPlaceholder:"è¯·è¾“å…¥å†»ç»“åŽŸå› ï¼ˆå¿…å¡«ï¼‰",inputType:"textarea",inputValidator:a=>a&&String(a).trim()?!(String(a).trim().length<3)||"åŽŸå› å¤ªçŸ­ï¼ˆè‡³å°‘ 3 ä¸ªå­—ç¬¦ï¼‰":"å†»ç»“åŽŸå› ä¸èƒ½ä¸ºç©º",type:"warning"}),t=await u(e,{reason:String(l).trim()});(null==t?void 0:t.success)?(a.success("å·²å†»ç»“ç”¨æˆ·"),$a()):a.error((null==t?void 0:t.message)||"å†»ç»“å¤±è´¥")}catch(l){}})(e.wallet_address)},{default:k(()=>[...p[16]||(p[16]=[b(" å†»ç»“ ",-1)])]),_:1},8,["onClick"])),y(Ia,{title:"ç¡®å®šè¦æ¸…ç†æ­¤è´¦æˆ·å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼","confirm-button-text":"ç¡®å®š","cancel-button-text":"å–æ¶ˆ",onConfirm:a=>Va(e.wallet_address)},{reference:k(()=>[y(Pa,{type:"danger",size:"small",link:"",loading:ua.value===e.wallet_address},{default:k(()=>[...p[17]||(p[17]=[b(" æ¸…ç† ",-1)])]),_:1},8,["loading"])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[Na,ca.value]]),h("div",la,[y(Ha,{"current-page":pa.value,"onUpdate:currentPage":p[1]||(p[1]=a=>pa.value=a),"page-size":va.value,"onUpdate:pageSize":p[2]||(p[2]=a=>va.value=a),total:ga.value,"page-sizes":[20,50,100,200],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:$a,onCurrentChange:$a},null,8,["current-page","page-size","total"])])]),_:1}),y(Oa,{class:"table-card",shadow:"hover",style:{"margin-top":"20px"}},{header:k(()=>[h("div",ta,[p[19]||(p[19]=h("span",{class:"header-title"},"ðŸ—‘ï¸ é›¶ä½™é¢æ— æ´»åŠ¨è´¦æˆ·",-1)),h("div",sa,[y(Ka,{modelValue:ha.value,"onUpdate:modelValue":p[3]||(p[3]=a=>ha.value=a),placeholder:"ä¸æ´»è·ƒå¤©æ•°",style:{width:"130px"},size:"small",onChange:ja},{default:k(()=>[y(Ja,{label:"30å¤©",value:30}),y(Ja,{label:"60å¤©",value:60}),y(Ja,{label:"90å¤©",value:90})]),_:1},8,["modelValue"]),xa.value.length>0?(w(),D(Pa,{key:0,type:"danger",size:"small",onClick:La,loading:da.value},{default:k(()=>[b(" æ‰¹é‡æ¸…ç† ("+S(xa.value.length)+") ",1)]),_:1},8,["loading"])):B("",!0),y(Pa,{type:"info",size:"small",onClick:ja,loading:ra.value},{default:k(()=>[y(v,null,{default:k(()=>[y(C(c))]),_:1}),p[18]||(p[18]=b(" æ£€æµ‹ ",-1))]),_:1},8,["loading"])])])]),default:k(()=>[T((w(),D(Ma,{data:ba.value,stripe:"",onSelectionChange:Ba,"max-height":300,size:"small"},{default:k(()=>[y(Aa,{type:"selection",width:"45"}),y(Aa,{prop:"wallet_address",label:"é’±åŒ…åœ°å€","min-width":"200"},{default:k(({row:a})=>[h("span",na,S(Sa(a.wallet_address)),1),y(Pa,{link:"",type:"primary",size:"small",onClick:e=>Da(a.wallet_address)},{default:k(()=>[y(v,{size:"12"},{default:k(()=>[y(C(i))]),_:1})]),_:1},8,["onClick"])]),_:1}),y(Aa,{prop:"created_at",label:"æ³¨å†Œæ—¶é—´",width:"180"},{default:k(({row:a})=>[b(S(Ta(a.created_at)),1)]),_:1}),y(Aa,{label:"æ“ä½œ",width:"100",align:"center",fixed:"right"},{default:k(({row:a})=>[y(Ia,{title:"ç¡®å®šè¦æ¸…ç†æ­¤è´¦æˆ·å—ï¼Ÿ",onConfirm:e=>Va(a.wallet_address)},{reference:k(()=>[y(Pa,{type:"danger",size:"small",link:""},{default:k(()=>[...p[20]||(p[20]=[b("æ¸…ç†",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[Na,ra.value]]),h("div",ia,[y(Ha,{"current-page":ma.value,"onUpdate:currentPage":p[4]||(p[4]=a=>ma.value=a),"page-size":_a.value,"onUpdate:pageSize":p[5]||(p[5]=a=>_a.value=a),total:wa.value,"page-sizes":[20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:ja,onCurrentChange:ja,small:""},null,8,["current-page","page-size","total"])])]),_:1})])}}},[["__scopeId","data-v-10c4840d"]]);export{ca as default};
