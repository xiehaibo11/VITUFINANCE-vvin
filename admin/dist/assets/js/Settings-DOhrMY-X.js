import{r as e,_ as a,c as l,x as s,A as t,o as r,D as d,J as o,B as n,aI as i,m as u,C as c,ay as p,aX as w,F as m,L as f,M as _,u as g,ap as v,K as h,O as y}from"./vue-vendor-CCmsYA1Y.js";import{b,x as V,a3 as P,X as x,I as C,w as S,j as k,e as T,n as D,r as U,d as F,ab as B,ac as E,N as z}from"./element-plus-BZcENYie.js";import{bC as j}from"./vendor-BQF3adi-.js";import{r as N}from"./index-DcuAk0vn.js";import{i as H,g as R,h as G,j as I,k as A,t as O,f as M,s as Y,a as q,b as $}from"./speechService-8EkrYECO.js";import{_ as Z}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-BxKU4Ero.js";const J={class:"page-container"},K={class:"card-header"},L={class:"security-protection-section"},X={class:"security-status"},W={key:0,class:"status-text secure"},Q={key:1,class:"status-text warning"},ee={key:1,class:"security-actions"},ae={class:"card-header"},le={class:"avatar-section"},se={class:"avatar-preview"},te={class:"avatar-upload"},re={class:"card-header"},de={class:"password-strength"},oe={class:"card-header"},ne={class:"speech-switch-wrapper"},ie={class:"slider-wrapper"},ue={class:"slider-value"},ce={class:"slider-wrapper"},pe={class:"slider-value"},we={class:"card-header"},me=Z({__name:"Settings",setup(Z){const me=w(),fe=e(!1),_e=e(!1),ge=e(!1),ve=a({wallet_address:"",wallet_address_bsc:"",wallet_address_eth:"",wallet_address_tron:"",network:"BSC",token:"USDT"}),he=a({isPasswordSet:!1,loading:!1,verifyDialogVisible:!1,changeDialogVisible:!1,verifyPassword:"",initForm:{password:"",confirmPassword:""},changeForm:{oldPassword:"",newPassword:"",confirmPassword:""}}),ye=e(""),be={Authorization:`Bearer ${localStorage.getItem("admin_token")}`},Ve=e(null),Pe=a({oldPassword:"",newPassword:"",confirmPassword:""}),xe=a({username:"admin",role:"super_admin"}),Ce=e(j().format("YYYY-MM-DD HH:mm:ss")),Se=l(()=>{const e=Pe.newPassword;if(!e)return{text:"-",class:""};let a=0;return e.length>=8&&(a+=1),e.length>=12&&(a+=1),/[a-z]/.test(e)&&(a+=1),/[A-Z]/.test(e)&&(a+=1),/[0-9]/.test(e)&&(a+=1),/[!@#$%^&*(),.?":{}|<>]/.test(e)&&(a+=1),a<=2?{text:"å¼±",class:"weak"}:a<=4?{text:"ä¸­",class:"medium"}:{text:"å¼º",class:"strong"}}),ke={oldPassword:[{required:!0,message:"è¯·è¾“å…¥å½“å‰å¯†ç ",trigger:"blur"}],newPassword:[{required:!0,message:"è¯·è¾“å…¥æ–°å¯†ç ",trigger:"blur"},{min:8,message:"å¯†ç é•¿åº¦è‡³å°‘8ä½",trigger:"blur"},{validator:(e,a,l)=>{a===Pe.oldPassword?l(new Error("æ–°å¯†ç ä¸èƒ½ä¸å½“å‰å¯†ç ç›¸åŒ")):a.length<8?l(new Error("å¯†ç é•¿åº¦è‡³å°‘8ä½")):l()},trigger:"blur"}],confirmPassword:[{required:!0,message:"è¯·ç¡®è®¤æ–°å¯†ç ",trigger:"blur"},{validator:(e,a,l)=>{a!==Pe.newPassword?l(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):l()},trigger:"blur"}]},Te=async()=>{if(await Ve.value.validate().catch(()=>!1)){try{await z.confirm("ç¡®å®šè¦ä¿®æ”¹å¯†ç å—ï¼Ÿä¿®æ”¹åéœ€è¦é‡æ–°ç™»å½•ã€‚","ç¡®è®¤ä¿®æ”¹",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})}catch{return}fe.value=!0;try{const e=await N.post("/change-password",{oldPassword:Pe.oldPassword,newPassword:Pe.newPassword});e.success?(b.success("å¯†ç ä¿®æ”¹æˆåŠŸï¼Œè¯·é‡æ–°ç™»å½•"),localStorage.removeItem("admin_token"),setTimeout(()=>{me.push("/login")},1500)):b.error(e.message||"å¯†ç ä¿®æ”¹å¤±è´¥")}catch(e){b.error("ä¿®æ”¹å¯†ç å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{fe.value=!1}}},De=()=>{var e;null==(e=Ve.value)||e.resetFields()},Ue=e=>{const a=["image/jpeg","image/png","image/gif"].includes(e.type),l=e.size/1024/1024<2;return a?!!l||(b.error("å¤´åƒå¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),!1):(b.error("å¤´åƒåªèƒ½æ˜¯ JPG/PNG/GIF æ ¼å¼!"),!1)},Fe=e=>{e.success?(ye.value=e.data.avatar_url,b.success("å¤´åƒä¸Šä¼ æˆåŠŸ"),window.dispatchEvent(new CustomEvent("avatar-updated",{detail:e.data.avatar_url}))):b.error(e.message||"ä¸Šä¼ å¤±è´¥")},Be=()=>{b.error("å¤´åƒä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•")},Ee=async()=>{try{await z.confirm("ç¡®å®šè¦æ¢å¤é»˜è®¤å¤´åƒå—ï¼Ÿ","æç¤º",{type:"warning"});const e=await N.delete("/settings/avatar");e.success?(ye.value="",b.success("å·²æ¢å¤é»˜è®¤å¤´åƒ"),window.dispatchEvent(new CustomEvent("avatar-updated",{detail:""}))):b.error(e.message||"æ“ä½œå¤±è´¥")}catch{}},ze=async()=>{var e,a,l,s,t,r,d,o;_e.value=!0;try{const n=await N.get("/settings");if(n.success&&(null==(e=n.data)?void 0:e.map)){const e=n.data.map;ve.wallet_address=(null==(a=e.platform_wallet_address)?void 0:a.value)||"",ve.wallet_address_bsc=(null==(l=e.platform_wallet_bsc)?void 0:l.value)||(null==(s=e.platform_wallet_address)?void 0:s.value)||"",ve.wallet_address_eth=(null==(t=e.platform_wallet_eth)?void 0:t.value)||"",ve.wallet_address_tron=(null==(r=e.platform_wallet_tron)?void 0:r.value)||"",ve.network=(null==(d=e.platform_network)?void 0:d.value)||"BSC",ve.token=(null==(o=e.platform_token)?void 0:o.value)||"USDT"}}catch(n){b.error("è·å–è®¾ç½®å¤±è´¥")}finally{_e.value=!1}},je=async()=>{const{password:e,confirmPassword:a}=he.initForm;if(!e||e.length<6)b.warning("å®‰å…¨å¯†ç è‡³å°‘éœ€è¦6ä½");else if(e===a){he.loading=!0;try{const a=await N.post("/wallet-security/init",{password:e});a.success?(b.success("å®‰å…¨å¯†ç è®¾ç½®æˆåŠŸ"),he.isPasswordSet=!0,he.initForm.password="",he.initForm.confirmPassword=""):b.error(a.message||"è®¾ç½®å¤±è´¥")}catch(l){b.error("è®¾ç½®å®‰å…¨å¯†ç å¤±è´¥")}finally{he.loading=!1}}else b.warning("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")},Ne=()=>{he.changeForm.oldPassword="",he.changeForm.newPassword="",he.changeForm.confirmPassword="",he.changeDialogVisible=!0},He=async()=>{var e,a;const{oldPassword:l,newPassword:s,confirmPassword:t}=he.changeForm;if(l)if(!s||s.length<6)b.warning("æ–°å¯†ç è‡³å°‘éœ€è¦6ä½");else if(s===t){he.loading=!0;try{const e=await N.post("/wallet-security/change",{oldPassword:l,newPassword:s});e.success?(b.success("å®‰å…¨å¯†ç ä¿®æ”¹æˆåŠŸ"),he.changeDialogVisible=!1):b.error(e.message||"ä¿®æ”¹å¤±è´¥")}catch(r){b.error((null==(a=null==(e=r.response)?void 0:e.data)?void 0:a.message)||"ä¿®æ”¹å®‰å…¨å¯†ç å¤±è´¥")}finally{he.loading=!1}}else b.warning("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´");else b.warning("è¯·è¾“å…¥å½“å‰å®‰å…¨å¯†ç ")},Re=async()=>{if(!ve.wallet_address_bsc&&!ve.wallet_address_eth&&!ve.wallet_address_tron)return void b.warning("è¯·è‡³å°‘è¾“å…¥ä¸€ä¸ªæ”¶æ¬¾åœ°å€");const e=/^0x[a-fA-F0-9]{40}$/;!ve.wallet_address_bsc||e.test(ve.wallet_address_bsc)?!ve.wallet_address_eth||e.test(ve.wallet_address_eth)?!ve.wallet_address_tron||/^T[a-zA-Z0-9]{33}$/.test(ve.wallet_address_tron)?he.isPasswordSet?(he.verifyPassword="",he.verifyDialogVisible=!0):await Ie(""):b.error("TRONæ”¶æ¬¾åœ°å€æ ¼å¼æ— æ•ˆï¼ˆTå¼€å¤´ï¼Œ34ä½å­—ç¬¦ï¼‰"):b.error("ETHæ”¶æ¬¾åœ°å€æ ¼å¼æ— æ•ˆï¼ˆ0xå¼€å¤´ï¼Œ40ä½åå…­è¿›åˆ¶ï¼‰"):b.error("BSCæ”¶æ¬¾åœ°å€æ ¼å¼æ— æ•ˆï¼ˆ0xå¼€å¤´ï¼Œ40ä½åå…­è¿›åˆ¶ï¼‰")},Ge=async()=>{he.verifyPassword?await Ie(he.verifyPassword):b.warning("è¯·è¾“å…¥å®‰å…¨å¯†ç ")},Ie=async e=>{var a,l;ge.value=!0;try{const a=await N.post("/wallet-config",{securityPassword:e,settings:{platform_wallet_address:ve.wallet_address_bsc||ve.wallet_address_eth,platform_wallet_bsc:ve.wallet_address_bsc,platform_wallet_eth:ve.wallet_address_eth,platform_wallet_tron:ve.wallet_address_tron,platform_network:ve.network,platform_token:ve.token}});a.success?(b.success("å¤šé“¾æ”¶æ¬¾åœ°å€é…ç½®ä¿å­˜æˆåŠŸ"),he.verifyDialogVisible=!1,he.verifyPassword=""):b.error(a.message||"ä¿å­˜å¤±è´¥")}catch(s){b.error((null==(l=null==(a=s.response)?void 0:a.data)?void 0:l.message)||"ä¿å­˜è®¾ç½®å¤±è´¥")}finally{ge.value=!1}},Ae=a({enabled:!1,volume:80,rate:85}),Oe=e=>{R.value=e,A(),e?O().then(()=>{b.success("è¯­éŸ³æ’­æŠ¥å·²å¼€å¯")}).catch(()=>{b.warning("è¯­éŸ³åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®")}):b.info("è¯­éŸ³æ’­æŠ¥å·²å…³é—­")},Me=e=>{G.value=e/100,A()},Ye=e=>{I.value=e/100,A()},qe=async()=>{try{await M(),await Y(),setTimeout(async()=>{await q("ABC123",100,"USDT")},500),b.success("æ­£åœ¨æ’­æ”¾å……å€¼è¯­éŸ³æµ‹è¯•")}catch(e){b.error("è¯­éŸ³æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®")}},$e=async()=>{try{await M(),await $("XYZ789",50,"USDT"),b.success("æ­£åœ¨æ’­æ”¾ææ¬¾è¯­éŸ³æµ‹è¯•")}catch(e){b.error("è¯­éŸ³æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®")}};return s(()=>{H(),Ae.enabled=R.value,Ae.volume=Math.round(100*G.value),Ae.rate=Math.round(100*I.value)}),ze(),(async()=>{var e;try{const a=await N.get("/settings/avatar");a.success&&(null==(e=a.data)?void 0:e.avatar_url)&&(ye.value=a.data.avatar_url)}catch(a){}})(),(async()=>{try{const e=await N.get("/wallet-security/status");e.success&&(he.isPasswordSet=e.data.isPasswordSet)}catch(e){}})(),(e,a)=>{const l=p("el-icon"),s=p("el-tag"),w=p("el-divider"),b=p("el-input"),z=p("el-form-item"),j=p("el-button"),N=p("el-form"),H=p("el-option"),R=p("el-select"),G=p("el-alert"),I=p("el-card"),A=p("el-dialog"),O=p("el-avatar"),M=p("el-upload"),Y=p("el-switch"),q=p("el-slider"),$=p("el-button-group"),Z=p("el-descriptions-item"),me=p("el-descriptions"),Ie=i("loading");return r(),t("div",J,[a[60]||(a[60]=d("div",{class:"page-header"},[d("h2",null,"ç³»ç»Ÿè®¾ç½®"),d("p",{class:"description"},"ç®¡ç†ç³»ç»Ÿé…ç½®å’Œå®‰å…¨è®¾ç½®")],-1)),o((r(),u(I,{class:"settings-card"},{header:c(()=>[d("div",K,[n(l,{size:20},{default:c(()=>[n(g(S))]),_:1}),a[22]||(a[22]=d("span",null,"å¹³å°æ”¶æ¬¾åœ°å€é…ç½®",-1)),n(s,{type:"success",size:"small",style:{"margin-left":"10px"}},{default:c(()=>[...a[21]||(a[21]=[_("å¤šé“¾æ”¯æŒ",-1)])]),_:1})])]),default:c(()=>[d("div",L,[n(w,{"content-position":"left"},{default:c(()=>[...a[23]||(a[23]=[d("span",{class:"chain-divider"},"ğŸ” å®‰å…¨ä¿æŠ¤",-1)])]),_:1}),d("div",X,[n(l,{size:18,class:m(he.isPasswordSet?"status-secure":"status-warning")},{default:c(()=>[(r(),u(f(he.isPasswordSet?"CircleCheck":"Warning")))]),_:1},8,["class"]),he.isPasswordSet?(r(),t("span",W,"å®‰å…¨å¯†ç å·²è®¾ç½®")):(r(),t("span",Q,"å®‰å…¨å¯†ç æœªè®¾ç½®ï¼Œå»ºè®®ç«‹å³è®¾ç½®ä»¥ä¿æŠ¤æ”¶æ¬¾åœ°å€"))]),he.isPasswordSet?(r(),t("div",ee,[n(j,{type:"warning",plain:"",size:"small",onClick:Ne},{default:c(()=>[n(l,null,{default:c(()=>[n(g(P))]),_:1}),a[25]||(a[25]=_(" ä¿®æ”¹å®‰å…¨å¯†ç  ",-1))]),_:1})])):(r(),u(N,{key:0,model:he.initForm,"label-width":"120px",style:{"max-width":"500px","margin-top":"16px"}},{default:c(()=>[n(z,{label:"è®¾ç½®å®‰å…¨å¯†ç "},{default:c(()=>[n(b,{modelValue:he.initForm.password,"onUpdate:modelValue":a[0]||(a[0]=e=>he.initForm.password=e),type:"password",placeholder:"è¯·è®¾ç½®å®‰å…¨å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰","show-password":""},null,8,["modelValue"])]),_:1}),n(z,{label:"ç¡®è®¤å¯†ç "},{default:c(()=>[n(b,{modelValue:he.initForm.confirmPassword,"onUpdate:modelValue":a[1]||(a[1]=e=>he.initForm.confirmPassword=e),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å®‰å…¨å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),n(z,null,{default:c(()=>[n(j,{type:"success",loading:he.loading,onClick:je},{default:c(()=>[n(l,null,{default:c(()=>[n(g(V))]),_:1}),a[24]||(a[24]=_(" è®¾ç½®å®‰å…¨å¯†ç  ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]))]),n(N,{"label-width":"140px",style:{"max-width":"700px"}},{default:c(()=>[n(w,{"content-position":"left"},{default:c(()=>[...a[26]||(a[26]=[d("span",{class:"chain-divider"},"ğŸŸ¡ BSC (BNB Smart Chain)",-1)])]),_:1}),n(z,{label:"BSC æ”¶æ¬¾åœ°å€"},{default:c(()=>[n(b,{modelValue:ve.wallet_address_bsc,"onUpdate:modelValue":a[2]||(a[2]=e=>ve.wallet_address_bsc=e),placeholder:"è¯·è¾“å…¥BSCé“¾USDTæ”¶æ¬¾åœ°å€",clearable:""},{prepend:c(()=>[...a[27]||(a[27]=[_("BSC",-1)])]),_:1},8,["modelValue"]),a[28]||(a[28]=d("div",{class:"form-tip"},"BSCé“¾ USDT åˆçº¦: 0x55d398326f99059fF775485246999027B3197955 (18ä½ç²¾åº¦)",-1))]),_:1}),n(w,{"content-position":"left"},{default:c(()=>[...a[29]||(a[29]=[d("span",{class:"chain-divider"},"ğŸ”· Ethereum (ETH)",-1)])]),_:1}),n(z,{label:"ETH æ”¶æ¬¾åœ°å€"},{default:c(()=>[n(b,{modelValue:ve.wallet_address_eth,"onUpdate:modelValue":a[3]||(a[3]=e=>ve.wallet_address_eth=e),placeholder:"è¯·è¾“å…¥ä»¥å¤ªåŠé“¾USDTæ”¶æ¬¾åœ°å€",clearable:""},{prepend:c(()=>[...a[30]||(a[30]=[_("ETH",-1)])]),_:1},8,["modelValue"]),a[31]||(a[31]=d("div",{class:"form-tip"},"ETHé“¾ USDT åˆçº¦: 0xdAC17F958D2ee523a2206206994597C13D831ec7 (6ä½ç²¾åº¦)",-1))]),_:1}),n(w,{"content-position":"left"},{default:c(()=>[...a[32]||(a[32]=[d("span",{class:"chain-divider"},"ğŸ”´ TRON",-1)])]),_:1}),n(z,{label:"TRON æ”¶æ¬¾åœ°å€"},{default:c(()=>[n(b,{modelValue:ve.wallet_address_tron,"onUpdate:modelValue":a[4]||(a[4]=e=>ve.wallet_address_tron=e),placeholder:"è¯·è¾“å…¥TRONé“¾USDTæ”¶æ¬¾åœ°å€ (Tå¼€å¤´)",clearable:""},{prepend:c(()=>[...a[33]||(a[33]=[_("TRON",-1)])]),_:1},8,["modelValue"]),a[34]||(a[34]=d("div",{class:"form-tip"},"TRONé“¾ USDT åˆçº¦: TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t (6ä½ç²¾åº¦)",-1))]),_:1}),n(w,{"content-position":"left"},{default:c(()=>[...a[35]||(a[35]=[d("span",{class:"chain-divider"},"âš™ï¸ é»˜è®¤è®¾ç½®",-1)])]),_:1}),n(z,{label:"é»˜è®¤ç½‘ç»œ"},{default:c(()=>[n(R,{modelValue:ve.network,"onUpdate:modelValue":a[5]||(a[5]=e=>ve.network=e),style:{width:"200px"}},{default:c(()=>[n(H,{label:"BSC (BNB Smart Chain)",value:"BSC"}),n(H,{label:"ETH (Ethereum)",value:"ETH"})]),_:1},8,["modelValue"]),a[36]||(a[36]=d("div",{class:"form-tip"},"ç”¨æˆ·æ‰“å¼€å……å€¼é¡µé¢æ—¶é»˜è®¤é€‰ä¸­çš„ç½‘ç»œ",-1))]),_:1}),n(z,{label:"ä»£å¸"},{default:c(()=>[n(R,{modelValue:ve.token,"onUpdate:modelValue":a[6]||(a[6]=e=>ve.token=e),style:{width:"200px"}},{default:c(()=>[n(H,{label:"USDT",value:"USDT"}),n(H,{label:"USDC",value:"USDC"})]),_:1},8,["modelValue"])]),_:1}),n(z,null,{default:c(()=>[n(j,{type:"primary",loading:ge.value,onClick:Re},{default:c(()=>[n(l,null,{default:c(()=>[n(g(x))]),_:1}),a[37]||(a[37]=_(" ä¿å­˜é…ç½® ",-1))]),_:1},8,["loading"]),n(j,{onClick:ze},{default:c(()=>[n(l,null,{default:c(()=>[n(g(C))]),_:1}),a[38]||(a[38]=_(" é‡æ–°åŠ è½½ ",-1))]),_:1})]),_:1})]),_:1}),n(G,{title:"å¤šé“¾æ”¶æ¬¾åœ°å€è¯´æ˜",type:"warning",closable:!1,"show-icon":"",style:{"margin-top":"20px"}},{default:c(()=>[...a[39]||(a[39]=[d("ul",{class:"security-tips"},[d("li",null,[d("strong",null,"BSCé“¾"),_("ï¼šGasè´¹ä½ï¼Œç¡®è®¤å¿«ï¼Œæ¨èå¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨")]),d("li",null,[d("strong",null,"ETHé“¾"),_("ï¼šä¸»æµå…¬é“¾ï¼Œä½†Gasè´¹è¾ƒé«˜ï¼Œé€‚åˆå¤§é¢å……å€¼")]),d("li",null,[d("strong",null,"TRONé“¾"),_("ï¼šå…å¯†è½¬è´¦ï¼ŒGasè´¹æä½ï¼Œæ”¯æŒTRC-20 USDT")]),d("li",null,"ä¿®æ”¹åç«‹å³ç”Ÿæ•ˆï¼Œç”¨æˆ·å……å€¼æ—¶å¯é€‰æ‹©ä»»ä¸€ç½‘ç»œ"),d("li",null,"è¯·åŠ¡å¿…ä»”ç»†æ ¸å¯¹åœ°å€ï¼Œé”™è¯¯çš„åœ°å€å¯èƒ½å¯¼è‡´èµ„äº§ä¸¢å¤±"),d("li",null,[d("strong",{style:{color:"var(--admin-danger)"}},"é‡è¦ï¼š"),_("è®¾ç½®å®‰å…¨å¯†ç åï¼Œä¿®æ”¹æ”¶æ¬¾åœ°å€éœ€è¦éªŒè¯å®‰å…¨å¯†ç ")])],-1)])]),_:1})]),_:1})),[[Ie,_e.value]]),n(A,{modelValue:he.verifyDialogVisible,"onUpdate:modelValue":a[9]||(a[9]=e=>he.verifyDialogVisible=e),title:"ğŸ” å®‰å…¨éªŒè¯",width:"400px","close-on-click-modal":!1},{footer:c(()=>[n(j,{onClick:a[8]||(a[8]=e=>he.verifyDialogVisible=!1)},{default:c(()=>[...a[40]||(a[40]=[_("å–æ¶ˆ",-1)])]),_:1}),n(j,{type:"primary",loading:ge.value,onClick:Ge},{default:c(()=>[...a[41]||(a[41]=[_(" ç¡®è®¤ä¿å­˜ ",-1)])]),_:1},8,["loading"])]),default:c(()=>[n(N,{"label-width":"100px"},{default:c(()=>[n(z,{label:"å®‰å…¨å¯†ç "},{default:c(()=>[n(b,{modelValue:he.verifyPassword,"onUpdate:modelValue":a[7]||(a[7]=e=>he.verifyPassword=e),type:"password",placeholder:"è¯·è¾“å…¥å®‰å…¨å¯†ç ","show-password":"",onKeyup:v(Ge,["enter"])},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(A,{modelValue:he.changeDialogVisible,"onUpdate:modelValue":a[14]||(a[14]=e=>he.changeDialogVisible=e),title:"ğŸ” ä¿®æ”¹å®‰å…¨å¯†ç ",width:"450px","close-on-click-modal":!1},{footer:c(()=>[n(j,{onClick:a[13]||(a[13]=e=>he.changeDialogVisible=!1)},{default:c(()=>[...a[42]||(a[42]=[_("å–æ¶ˆ",-1)])]),_:1}),n(j,{type:"primary",loading:he.loading,onClick:He},{default:c(()=>[...a[43]||(a[43]=[_(" ç¡®è®¤ä¿®æ”¹ ",-1)])]),_:1},8,["loading"])]),default:c(()=>[n(N,{model:he.changeForm,"label-width":"100px"},{default:c(()=>[n(z,{label:"æ—§å¯†ç "},{default:c(()=>[n(b,{modelValue:he.changeForm.oldPassword,"onUpdate:modelValue":a[10]||(a[10]=e=>he.changeForm.oldPassword=e),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å®‰å…¨å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),n(z,{label:"æ–°å¯†ç "},{default:c(()=>[n(b,{modelValue:he.changeForm.newPassword,"onUpdate:modelValue":a[11]||(a[11]=e=>he.changeForm.newPassword=e),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰","show-password":""},null,8,["modelValue"])]),_:1}),n(z,{label:"ç¡®è®¤æ–°å¯†ç "},{default:c(()=>[n(b,{modelValue:he.changeForm.confirmPassword,"onUpdate:modelValue":a[12]||(a[12]=e=>he.changeForm.confirmPassword=e),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),n(I,{class:"settings-card",style:{"margin-top":"20px"}},{header:c(()=>[d("div",ae,[n(l,{size:20},{default:c(()=>[n(g(U))]),_:1}),a[44]||(a[44]=d("span",null,"ç®¡ç†å‘˜å¤´åƒè®¾ç½®",-1))])]),default:c(()=>[d("div",le,[d("div",se,[n(O,{size:120,src:ye.value,class:"current-avatar"},{default:c(()=>[n(l,{size:48},{default:c(()=>[n(g(k))]),_:1})]),_:1},8,["src"]),a[45]||(a[45]=d("div",{class:"avatar-info"},[d("p",{class:"avatar-title"},"å½“å‰å¤´åƒ"),d("p",{class:"avatar-tip"},"æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ 200x200")],-1))]),d("div",te,[n(M,{class:"avatar-uploader",action:"/api/admin/upload-avatar",headers:be,"show-file-list":!1,"on-success":Fe,"on-error":Be,"before-upload":Ue,accept:"image/jpeg,image/png,image/gif"},{default:c(()=>[n(j,{type:"primary"},{default:c(()=>[n(l,null,{default:c(()=>[n(g(T))]),_:1}),a[46]||(a[46]=_(" ä¸Šä¼ æ–°å¤´åƒ ",-1))]),_:1})]),_:1}),ye.value?(r(),u(j,{key:0,type:"danger",plain:"",onClick:Ee,style:{"margin-left":"12px"}},{default:c(()=>[n(l,null,{default:c(()=>[n(g(D))]),_:1}),a[47]||(a[47]=_(" æ¢å¤é»˜è®¤ ",-1))]),_:1})):h("",!0)])])]),_:1}),n(I,{class:"settings-card",style:{"margin-top":"20px"}},{header:c(()=>[d("div",re,[n(l,{size:20},{default:c(()=>[n(g(V))]),_:1}),a[48]||(a[48]=d("span",null,"ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ",-1))])]),default:c(()=>[n(N,{ref_key:"passwordFormRef",ref:Ve,model:Pe,rules:ke,"label-width":"120px",style:{"max-width":"500px"}},{default:c(()=>[n(z,{label:"å½“å‰å¯†ç ",prop:"oldPassword"},{default:c(()=>[n(b,{modelValue:Pe.oldPassword,"onUpdate:modelValue":a[15]||(a[15]=e=>Pe.oldPassword=e),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),n(z,{label:"æ–°å¯†ç ",prop:"newPassword"},{default:c(()=>[n(b,{modelValue:Pe.newPassword,"onUpdate:modelValue":a[16]||(a[16]=e=>Pe.newPassword=e),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘8ä½ï¼‰","show-password":""},null,8,["modelValue"]),d("div",de,[a[49]||(a[49]=d("span",{class:"strength-label"},"å¯†ç å¼ºåº¦ï¼š",-1)),d("span",{class:m(["strength-value",Se.value.class])},y(Se.value.text),3)])]),_:1}),n(z,{label:"ç¡®è®¤æ–°å¯†ç ",prop:"confirmPassword"},{default:c(()=>[n(b,{modelValue:Pe.confirmPassword,"onUpdate:modelValue":a[17]||(a[17]=e=>Pe.confirmPassword=e),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),n(z,null,{default:c(()=>[n(j,{type:"primary",loading:fe.value,onClick:Te},{default:c(()=>[n(l,null,{default:c(()=>[n(g(x))]),_:1}),a[50]||(a[50]=_(" ç¡®è®¤ä¿®æ”¹ ",-1))]),_:1},8,["loading"]),n(j,{onClick:De},{default:c(()=>[n(l,null,{default:c(()=>[n(g(C))]),_:1}),a[51]||(a[51]=_(" é‡ç½® ",-1))]),_:1})]),_:1})]),_:1},8,["model"]),n(G,{title:"å¯†ç å®‰å…¨æç¤º",type:"info",closable:!1,"show-icon":"",style:{"margin-top":"20px"}},{default:c(()=>[...a[52]||(a[52]=[d("ul",{class:"security-tips"},[d("li",null,"å¯†ç é•¿åº¦è‡³å°‘8ä½ï¼Œå»ºè®®åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦"),d("li",null,"å®šæœŸæ›´æ¢å¯†ç å¯æé«˜è´¦æˆ·å®‰å…¨æ€§"),d("li",null,"è¯·å‹¿ä½¿ç”¨ä¸å…¶ä»–ç½‘ç«™ç›¸åŒçš„å¯†ç "),d("li",null,"ä¿®æ”¹å¯†ç åéœ€è¦é‡æ–°ç™»å½•")],-1)])]),_:1})]),_:1}),n(I,{class:"settings-card",style:{"margin-top":"20px"}},{header:c(()=>[d("div",oe,[n(l,{size:20},{default:c(()=>[n(g(B))]),_:1}),a[53]||(a[53]=d("span",null,"è¯­éŸ³æ’­æŠ¥è®¾ç½®",-1))])]),default:c(()=>[n(N,{"label-width":"120px",style:{"max-width":"600px"}},{default:c(()=>[n(z,{label:"è¯­éŸ³æ’­æŠ¥"},{default:c(()=>[d("div",ne,[n(Y,{modelValue:Ae.enabled,"onUpdate:modelValue":a[18]||(a[18]=e=>Ae.enabled=e),"active-text":"å·²å¼€å¯","inactive-text":"å·²å…³é—­",onChange:Oe},null,8,["modelValue"]),a[54]||(a[54]=d("span",{class:"switch-tip"},"å¼€å¯åï¼Œæ–°å……å€¼å’Œææ¬¾ä¼šæœ‰è¯­éŸ³æç¤º",-1))])]),_:1}),n(z,{label:"æ’­æŠ¥éŸ³é‡"},{default:c(()=>[d("div",ie,[n(q,{modelValue:Ae.volume,"onUpdate:modelValue":a[19]||(a[19]=e=>Ae.volume=e),min:0,max:100,disabled:!Ae.enabled,onChange:Me},null,8,["modelValue","disabled"]),d("span",ue,y(Ae.volume)+"%",1)])]),_:1}),n(z,{label:"æ’­æŠ¥è¯­é€Ÿ"},{default:c(()=>[d("div",ce,[n(q,{modelValue:Ae.rate,"onUpdate:modelValue":a[20]||(a[20]=e=>Ae.rate=e),min:50,max:200,disabled:!Ae.enabled,"format-tooltip":e=>`${e}%`,onChange:Ye},null,8,["modelValue","disabled","format-tooltip"]),d("span",pe,y(Ae.rate)+"%",1)])]),_:1}),n(z,{label:"æµ‹è¯•æ’­æŠ¥"},{default:c(()=>[n($,null,{default:c(()=>[n(j,{type:"primary",disabled:!Ae.enabled,onClick:qe},{default:c(()=>[n(l,null,{default:c(()=>[n(g(F))]),_:1}),a[55]||(a[55]=_(" æµ‹è¯•å……å€¼æ’­æŠ¥ ",-1))]),_:1},8,["disabled"]),n(j,{type:"warning",disabled:!Ae.enabled,onClick:$e},{default:c(()=>[n(l,null,{default:c(()=>[n(g(T))]),_:1}),a[56]||(a[56]=_(" æµ‹è¯•ææ¬¾æ’­æŠ¥ ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),n(G,{title:"è¯­éŸ³æ’­æŠ¥è¯´æ˜",type:"info",closable:!1,"show-icon":"",style:{"margin-top":"20px"}},{default:c(()=>[...a[57]||(a[57]=[d("ul",{class:"security-tips"},[d("li",null,[d("strong",null,"å……å€¼é€šçŸ¥"),_('ï¼šæ”¶åˆ°æ–°å……å€¼æ—¶ï¼Œæ’­æŠ¥"ä½ æœ‰ä¸€ç¬”å……å€¼è®¢å•æ¥å•¦"ï¼Œç„¶åæ’­æŠ¥ç”¨æˆ·IDå’Œé‡‘é¢')]),d("li",null,[d("strong",null,"ææ¬¾é€šçŸ¥"),_("ï¼šæ”¶åˆ°æ–°ææ¬¾ç”³è¯·æ—¶ï¼Œæ’­æŠ¥ç”¨æˆ·IDå’Œææ¬¾é‡‘é¢")]),d("li",null,"éœ€è¦æµè§ˆå™¨æ”¯æŒ Web Speech APIï¼Œå»ºè®®ä½¿ç”¨ Chrome æµè§ˆå™¨"),d("li",null,"é¦–æ¬¡å¯ç”¨å¯èƒ½éœ€è¦å…è®¸æµè§ˆå™¨ä½¿ç”¨è¯­éŸ³åŠŸèƒ½")],-1)])]),_:1})]),_:1}),n(I,{class:"settings-card",style:{"margin-top":"20px"}},{header:c(()=>[d("div",we,[n(l,{size:20},{default:c(()=>[n(g(E))]),_:1}),a[58]||(a[58]=d("span",null,"ç³»ç»Ÿä¿¡æ¯",-1))])]),default:c(()=>[n(me,{column:2,border:""},{default:c(()=>[n(Z,{label:"ç³»ç»Ÿç‰ˆæœ¬"},{default:c(()=>[...a[59]||(a[59]=[_("v1.0.0",-1)])]),_:1}),n(Z,{label:"å½“å‰ç”¨æˆ·"},{default:c(()=>[_(y(xe.username),1)]),_:1}),n(Z,{label:"ç”¨æˆ·è§’è‰²"},{default:c(()=>[n(s,{type:"primary"},{default:c(()=>[_(y("super_admin"===xe.role?"è¶…çº§ç®¡ç†å‘˜":"ç®¡ç†å‘˜"),1)]),_:1})]),_:1}),n(Z,{label:"ç™»å½•æ—¶é—´"},{default:c(()=>[_(y(Ce.value),1)]),_:1})]),_:1})]),_:1})])}}},[["__scopeId","data-v-05b76902"]]);export{me as default};
