import{_ as e,u as a,A as t,a as s,R as l,C as o,T as n,B as i,D as r,b as c,F as d,Y as u,c as v,d as p,e as g,S as m,I as f,f as w,L as y,W as h,g as b,h as P,U as k,i as _,M as x,E as S,j as C,p as D,t as T,k as F,l as A,m as L,n as $,o as R,q,r as E,Q as I,s as B,v as U,w as j,x as W}from"./components-BAgzu-ay.js";import{u as M,r as N,f as O,g as H,h as z,w as K,c as V,i as Q,p as X,b as J,t as Y,j as G,s as Z,o as ee,a as ae,F as te,k as se,n as le,d as oe,y as ne,a1 as ie,a6 as re,q as ce,l as de,v as ue,z as ve,A as pe,B as ge,T as me,x as fe}from"./vue-vendor-Th7sVZCl.js";import{E as we,a as ye}from"./element-plus-C1TJYqcy.js";import{d as he,a0 as be}from"./vendor-DgqwP95p.js";const Pe="debug",ke="info",_e="warn",xe="error",Se="critical",Ce="vue",De="api",Te="network",Fe="system",Ae=100,Le="vitu_error_logs",$e="/api/log/error",Re=_e,qe={[Pe]:0,[ke]:1,[_e]:2,[xe]:3,[Se]:4};function Ee(){try{const e=localStorage.getItem("wallet_address")||null,a=localStorage.getItem("referral_code")||null;return{walletAddress:e?e.slice(0,10)+"...":null,referralCode:a,url:window.location.href,userAgent:navigator.userAgent.substring(0,200),timestamp:(new Date).toISOString(),language:navigator.language,screenSize:`${window.screen.width}x${window.screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`}}catch(e){return{error:"Failed to get user context"}}}function Ie(){try{const e=localStorage.getItem(Le);return e?JSON.parse(e):[]}catch(e){return[]}}function Be(e){try{const a=e.slice(-Ae);localStorage.setItem(Le,JSON.stringify(a))}catch(a){console.warn("[ErrorLogger] Failed to save errors to localStorage:",a)}}async function Ue(e){try{if(!(await fetch($e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok){const a=Ie();a.push({...e,pendingSync:!0}),Be(a)}}catch(a){const t=Ie();t.push({...e,pendingSync:!0}),Be(t)}}function je({level:e=xe,source:a=Fe,message:t,stack:s=null,metadata:l=null,componentName:o=null}){if(qe[e]<qe[Re])return;const n={id:`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,level:e,source:a,message:t,stack:s,metadata:l,componentName:o,context:Ee(),createdAt:(new Date).toISOString()};(e===Se||e===xe?console.error:e===_e?console.warn:console.log)(`[${a.toUpperCase()}] [${e.toUpperCase()}] ${t}`,{stack:s,metadata:l,context:n.context});const i=Ie();return i.push(n),Be(i),Ue(n),n}function We({url:e,method:a,status:t,statusText:s,responseData:l,requestData:o}){return je({level:t>=500?xe:_e,source:De,message:`API Error: ${a} ${e} - ${t} ${s}`,metadata:{url:e,method:a,status:t,statusText:s,responseData:"object"==typeof l?JSON.stringify(l).substring(0,500):l?.substring?.(0,500),requestData:o?JSON.stringify({...o,password:void 0}).substring(0,500):null}})}function Me({url:e,method:a,errorMessage:t}){return je({level:xe,source:Te,message:`Network Error: ${a} ${e} - ${t}`,metadata:{url:e,method:a}})}function Ne(){return{install(e){e.config.errorHandler=(e,a,t)=>{!function(e,a,t){const s=a?.$options?.name||a?.$options?.__name||"Unknown";je({level:xe,source:Ce,message:`Vue Error in ${s}: ${e.message}`,stack:e.stack,componentName:s,metadata:{vueInfo:t,props:a?.$props?Object.keys(a.$props):[],route:a?.$route?.path}})}(e,a,t)}}}}function Oe(){window.addEventListener("error",e=>{je({level:xe,source:Fe,message:`Uncaught Error: ${e.message}`,stack:e.error?.stack,metadata:{filename:e.filename,lineno:e.lineno,colno:e.colno}})}),window.addEventListener("unhandledrejection",e=>{const a=e.reason;je({level:xe,source:Fe,message:`Unhandled Promise Rejection: ${a?.message||a}`,stack:a?.stack,metadata:{reason:String(a)}})}),console.log("[ErrorLogger] Global error handlers initialized")}async function He(){const e=Ie(),a=e.filter(e=>e.pendingSync);if(0!==a.length){console.log(`[ErrorLogger] Syncing ${a.length} pending errors...`);for(const e of a)try{await Ue({...e,pendingSync:void 0}),e.pendingSync=!1}catch(t){}Be(e)}}const ze="/static/two/twobj11.png",Ke="/static/one/em.png",Ve={class:"home-page"},Qe={class:"intro-card"},Xe={class:"intro-text"},Je={class:"worldcoin-card"},Ye={class:"worldcoin-content"},Ge={class:"worldcoin-text worldcoin-text-1"},Ze={class:"worldcoin-text worldcoin-text-2"},ea={class:"worldcoin-footer"},aa={class:"wld-price"},ta={class:"center-logo"},sa={class:"energy-section"},la={class:"pledge-text"},oa={class:"tasks-section"},na={class:"section-title"},ia={class:"tasks-section"},ra={class:"section-title"},ca={class:"tasks-section"},da={class:"section-title"},ua="wallet_signature_timestamp",va="wallet_signature_address",pa="biometric_tip_shown",ga=864e5,ma=e({__name:"Home",setup(e){const{t:p}=M(),g=Z(),m=a(),f=N(!1),w=N(!1),y=N(!1),h=N(""),b=N(""),P=async e=>{if(!window.ethereum)throw new Error(p("signatureAuthPopup.noWallet")||"ËØ∑Âú®Èí±ÂåÖÊµèËßàÂô®‰∏≠ÊâìÂºÄ");const a=(e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}))(Date.now()),t=`${p("signatureAuthPopup.signTitle")||"VituFinance Security Verification"}\n\n${p("signatureAuthPopup.walletLabel")||"Wallet Address"}: ${e}\n${p("signatureAuthPopup.timeLabel")||"Time"}: ${a}\n\n${p("signatureAuthPopup.signNote")||"This signature is only used to verify wallet ownership and will not transfer any assets."}`;return console.log("[Signature] Requesting signature..."),await window.ethereum.request({method:"personal_sign",params:[t,e]})},k=async()=>{f.value=!0,h.value="";try{console.log("[Signature] Starting signature process...");const e=await(async()=>{if(!window.ethereum)throw new Error("ËØ∑Âú®Èí±ÂåÖÊµèËßàÂô®‰∏≠ÊâìÂºÄ");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||0===e.length)throw new Error("Êú™Ëé∑ÂèñÂà∞Èí±ÂåÖÂú∞ÂùÄ");return e[0]})();console.log("[Signature] Wallet connected:",e),b.value=e,m.setWallet(e,"TokenPocket"),await P(e),(e=>{localStorage.setItem(ua,String(Date.now())),localStorage.setItem(va,e.toLowerCase())})(e),y.value=!0,console.log("[Signature] ‚úÖ Authentication successful"),we.success(p("signatureAuthPopup.success")||"Á≠æÂêçËÆ§ËØÅÊàêÂäü"),localStorage.getItem(pa)||(localStorage.setItem(pa,"true"),setTimeout(()=>{ye.confirm(p("signatureAuthPopup.biometricDesc"),"üí° "+p("signatureAuthPopup.biometricTitle"),{confirmButtonText:p("signatureAuthPopup.biometricConfirm"),cancelButtonText:p("signatureAuthPopup.biometricDontRemind"),type:"info",center:!0}).catch(()=>{})},500))}catch(e){console.error("[Signature] Error:",e),4001===e.code?h.value="ÊÇ®ÂèñÊ∂à‰∫ÜÁ≠æÂêçËØ∑Ê±ÇÔºåËØ∑ÈáçÊñ∞Á≠æÂêç":-32002===e.code?h.value="ËØ∑Âú®Èí±ÂåÖ‰∏≠ÂÆåÊàêÁ≠æÂêçÊìç‰Ωú":h.value=e.message||"Á≠æÂêçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",we.error(h.value)}finally{f.value=!1}},_=async()=>{if(console.log("[Signature] Initializing..."),await new Promise(e=>setTimeout(e,1e3)),"undefined"==typeof window||!window.ethereum)return console.log("[Signature] No wallet provider, allowing access"),w.value=!1,void(y.value=!0);console.log("[Signature] ‚úÖ Wallet provider detected"),w.value=!0;try{const e=await window.ethereum.request({method:"eth_accounts"});if(e&&e.length>0){const a=e[0];if(b.value=a,(e=>{const a=localStorage.getItem(ua),t=localStorage.getItem(va);if(!a||!t)return!1;if(t.toLowerCase()!==e.toLowerCase())return!1;const s=parseInt(a,10);return Date.now()-s<ga})(a))return console.log("[Signature] Valid cache, granting access"),y.value=!0,void m.setWallet(a,"TokenPocket")}console.log("[Signature] üîê Signature required"),y.value=!1,setTimeout(()=>{y.value||(console.log("[Signature] Auto-triggering..."),k())},1500)}catch(e){console.error("[Signature] Init error:",e),y.value=!1}};let x=null;const S=N("0"),C=N(0),D=O(()=>(parseFloat(C.value)||0).toFixed(2)),T=N(!1),F=N(!1),A=N(!1),L=N(!1),$=N(!1),R=()=>{g.push("/pledge")},q=()=>{T.value?alert(p("dailyReward.alreadyClaimedToday")||"Already claimed today"):F.value=!0},E=()=>{T.value=!0,F.value=!1},I=()=>{A.value=!0},B=()=>{L.value=!0},U=()=>{$.value=!0},j=e=>{console.log("Ê£ÄÊü• Telegram ‰ªªÂä°",e)},W=e=>{console.log("Ê£ÄÊü• Facebook ‰ªªÂä°",e)},ae=e=>{console.log("Ê£ÄÊü• YouTube ‰ªªÂä°",e)},te=async()=>{if(m.isConnected&&m.walletAddress)try{const e=await fetch(`/api/checkin/status?wallet=${m.walletAddress}`),a=await e.json();a.success&&(T.value=a.data.claimedToday)}catch(e){console.error("Ê£ÄÊü•Á≠æÂà∞Áä∂ÊÄÅÂ§±Ë¥•:",e)}},se=async()=>{try{const e="https://bocail.com",a=await fetch(`${e}/api/market/ticker?symbols=["WLDUSDT"]`),t=await a.json();Array.isArray(t)&&t.length>0?(C.value=parseFloat(t[0].lastPrice)||0,console.log("[Home] WLD price fetched:",C.value)):t.success&&t.data&&t.data.length>0&&(C.value=parseFloat(t.data[0].lastPrice)||0)}catch(e){console.error("Ëé∑ÂèñWLD‰ª∑Ê†ºÂ§±Ë¥•:",e),C.value=0}},le=async()=>{if(m.isConnected&&m.walletAddress)try{const e=await fetch(`/api/user/balance?wallet_address=${m.walletAddress}`),a=await e.json();a.success&&a.data&&(S.value=parseFloat(a.data.wld_balance||0).toFixed(4))}catch(e){console.error("Ëé∑ÂèñWLD‰ΩôÈ¢ùÂ§±Ë¥•:",e),S.value="0"}else S.value="0"},oe=async()=>{console.log("[Home] Ëá™Âä®Âà∑Êñ∞Êï∞ÊçÆ..."),await se(),m.isConnected&&await Promise.all([le(),te()])},ne=()=>{x&&(clearInterval(x),x=null)},ie=()=>{"visible"===document.visibilityState&&(console.log("[Home] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),oe())};return H(async()=>{_(),await se(),m.isConnected&&await Promise.all([te(),le()]),ne(),x=setInterval(oe,3e4),document.addEventListener("visibilitychange",ie)}),z(()=>{ne(),document.removeEventListener("visibilitychange",ie)}),K(()=>m.isConnected,async e=>{e?(await le(),await te()):S.value="0"}),(e,a)=>(ee(),V("div",Ve,[Q(t),a[11]||(a[11]=X('<section class="hero-section" data-v-738462c3><img src="/static/one/4.png" alt="Background" class="hero-bg-image" data-v-738462c3><div class="logo-container" data-v-738462c3><img src="'+v+'" alt="Logo" class="hero-logo" data-v-738462c3><h1 class="hero-title" data-v-738462c3>Vitu Finance</h1></div></section>',1)),J("section",Qe,[J("p",Xe,Y(G(p)("homePage.introText")),1)]),J("section",Je,[a[8]||(a[8]=J("img",{src:ze,alt:"Earth Background",class:"worldcoin-bg"},null,-1)),J("div",Ye,[J("p",Ge,Y(G(p)("homePage.worldcoinText1")),1),J("p",Ze,Y(G(p)("homePage.worldcoinText2")),1)]),J("div",ea,[a[4]||(a[4]=J("img",{src:s,alt:"WLD",class:"wld-icon"},null,-1)),a[5]||(a[5]=J("span",{class:"wld-amount"},"1",-1)),a[6]||(a[6]=J("span",{class:"wld-label"},"WLD",-1)),a[7]||(a[7]=J("span",{class:"wld-separator"},"‚âà",-1)),J("span",aa,"$"+Y(D.value),1)])]),J("section",ta,[Q(l)]),J("section",sa,[a[10]||(a[10]=J("div",{class:"energy-item"},[J("span",{class:"energy-icon"},"‚ö°"),J("span",{class:"energy-value"},"0/0")],-1)),J("div",{class:"pledge-item",onClick:R},[a[9]||(a[9]=J("span",{class:"pledge-icon"},"üõ°Ô∏è",-1)),J("span",la,Y(G(p)("homePage.pledgeLabel")),1)])]),Q(o),J("section",oa,[J("h2",na,Y(G(p)("homePage.dailyTasks")),1),Q(n,{title:G(p)("homePage.dailyReward"),icon:"/static/four/icon1.png",completed:T.value,onClick:q},null,8,["title","completed"])]),J("section",ia,[J("h2",ra,Y(G(p)("homePage.worldAlbotTelegram")),1),Q(n,{title:G(p)("homePage.joinTgChannel"),icon:"/static/four/icon2.png",onClick:I},null,8,["title"])]),J("section",ca,[J("h2",da,Y(G(p)("homePage.tasksList")),1),Q(n,{title:G(p)("homePage.shareFacebook"),icon:"/static/four/icon4.png",onClick:B},null,8,["title"]),Q(n,{title:G(p)("homePage.followYoutube"),icon:"/static/four/icon6.png",onClick:U},null,8,["title"])]),a[12]||(a[12]=X('<section class="social-section" data-v-738462c3><div class="social-links" data-v-738462c3><a href="https://t.me/WorldGPT_io" target="_blank" class="social-link" data-v-738462c3><img src="/static/one/6.png" alt="Telegram" data-v-738462c3></a><a href="https://x.com/Virtu_Financial" target="_blank" class="social-link" data-v-738462c3><img src="/static/one/7.png" alt="Twitter" data-v-738462c3></a><a href="https://t.me/VituFinance" target="_blank" class="social-link" data-v-738462c3><img src="/static/one/8.png" alt="WhatsApp" data-v-738462c3></a><a href="https://api.whatsapp.com/send/?phone=16465271638&amp;text&amp;type=phone_number&amp;app_absent=0" target="_blank" class="social-link" data-v-738462c3><img src="'+Ke+'" alt="Support" data-v-738462c3></a></div></section><footer class="footer" data-v-738462c3><p data-v-738462c3>¬© 2024 Vitu Finance All rights reserved.</p></footer>',2)),Q(i),Q(r,{visible:F.value,"onUpdate:visible":a[0]||(a[0]=e=>F.value=e),onClaim:E},null,8,["visible"]),Q(c,{visible:A.value,"onUpdate:visible":a[1]||(a[1]=e=>A.value=e),"telegram-url":"https://t.me/VituFinance",onCheck:j},null,8,["visible"]),Q(d,{visible:L.value,"onUpdate:visible":a[2]||(a[2]=e=>L.value=e),"facebook-url":"https://www.facebook.com/share_channel/#",onCheck:W},null,8,["visible"]),Q(u,{visible:$.value,"onUpdate:visible":a[3]||(a[3]=e=>$.value=e),"youtube-url":"https://www.youtube.com/channel/UC92aIDlejplKldAwfhvUlfg",onCheck:ae},null,8,["visible"])]))}},[["__scopeId","data-v-738462c3"]]),fa=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"})),wa={class:"index-page"},ya={key:0,class:"auth-blocking-overlay"},ha={class:"auth-blocking-content"},ba={class:"auth-title"},Pa={class:"auth-desc"},ka=["disabled"],_a={key:0},xa={key:1},Sa={key:0,class:"auth-error"},Ca={class:"auth-tips"},Da={class:"header-banner"},Ta=["src"],Fa={class:"crypto-section"},Aa={class:"section-title"},La={key:0,class:"loading-container"},$a={key:1,class:"error-container"},Ra={class:"error-message"},qa={key:2,class:"crypto-list"},Ea=["src","alt"],Ia={class:"crypto-info"},Ba={class:"crypto-name"},Ua={class:"crypto-symbol"},ja={class:"crypto-price"},Wa={class:"price"},Ma={class:"features-section"},Na=["src","alt"],Oa="wallet_signature_timestamp",Ha="wallet_signature_address",za="biometric_tip_shown",Ka=864e5,Va=e({__name:"Index",setup(e){const{t:t}=M(),s=a(),l=N(!1),o=N(!1),n=N(!1),i=N(!1),r=N(""),c=N(""),d=async e=>{if(!window.ethereum)throw new Error(t("signatureAuthPopup.noWallet")||"ËØ∑Âú®Èí±ÂåÖÊµèËßàÂô®‰∏≠ÊâìÂºÄ");const a=(e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}))(Date.now()),s=`${t("signatureAuthPopup.signTitle")||"VituFinance Security Verification"}\n\n${t("signatureAuthPopup.walletLabel")||"Wallet Address"}: ${e}\n${t("signatureAuthPopup.timeLabel")||"Time"}: ${a}\n\n${t("signatureAuthPopup.signNote")||"This signature is only used to verify wallet ownership and will not transfer any assets."}`;console.log("[Signature] Requesting signature for message:",s);const l=await window.ethereum.request({method:"personal_sign",params:[s,e]});return console.log("[Signature] Signature obtained:",l.substring(0,20)+"..."),l},u=async()=>{o.value=!0,r.value="";try{console.log("[Signature] Starting signature process...");const e=await(async()=>{if(!window.ethereum)throw new Error("ËØ∑Âú®Èí±ÂåÖÊµèËßàÂô®‰∏≠ÊâìÂºÄ");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||0===e.length)throw new Error("Êú™Ëé∑ÂèñÂà∞Èí±ÂåÖÂú∞ÂùÄ");return e[0]})();console.log("[Signature] Wallet connected:",e),c.value=e,s.setWallet(e,"TokenPocket"),await d(e),(e=>{localStorage.setItem(Oa,String(Date.now())),localStorage.setItem(Ha,e.toLowerCase())})(e),i.value=!0,console.log("[Signature] ‚úÖ Authentication successful"),we.success(t("signatureAuthPopup.success")||"Á≠æÂêçËÆ§ËØÅÊàêÂäü"),localStorage.getItem(za)||(localStorage.setItem(za,"true"),setTimeout(()=>{ye.confirm(t("signatureAuthPopup.biometricDesc"),"üí° "+t("signatureAuthPopup.biometricTitle"),{confirmButtonText:t("signatureAuthPopup.biometricConfirm"),cancelButtonText:t("signatureAuthPopup.biometricDontRemind"),type:"info",center:!0}).catch(()=>{})},500))}catch(e){console.error("[Signature] Error:",e),4001===e.code?r.value="ÊÇ®ÂèñÊ∂à‰∫ÜÁ≠æÂêçËØ∑Ê±ÇÔºåËØ∑ÈáçÊñ∞Á≠æÂêç":-32002===e.code?r.value="ËØ∑Âú®Èí±ÂåÖ‰∏≠ÂÆåÊàêÁ≠æÂêçÊìç‰Ωú":r.value=e.message||"Á≠æÂêçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",we.error(r.value)}finally{o.value=!1}},v=async()=>{if(console.log("[Signature] Initializing..."),await new Promise(e=>setTimeout(e,1e3)),"undefined"==typeof window||!window.ethereum)return console.log("[Signature] No wallet provider detected, allowing normal access"),n.value=!1,void(i.value=!0);console.log("[Signature] ‚úÖ Wallet provider detected (TokenPocket/MetaMask)"),n.value=!0;try{const e=await window.ethereum.request({method:"eth_accounts"});if(e&&e.length>0){const a=e[0];if(c.value=a,console.log("[Signature] Found connected wallet:",a),(e=>{const a=localStorage.getItem(Oa),t=localStorage.getItem(Ha);if(!a||!t)return console.log("[Signature] No saved signature found"),!1;if(t.toLowerCase()!==e.toLowerCase())return console.log("[Signature] Wallet address mismatch"),!1;const s=parseInt(a,10),l=Date.now()-s;return l>Ka?(console.log("[Signature] Signature expired, elapsed:",l/1e3/60/60,"hours"),!1):(console.log("[Signature] Signature still valid, remaining:",(Ka-l)/1e3/60/60,"hours"),!0)})(a))return console.log("[Signature] Valid signature cache found, granting access"),i.value=!0,void s.setWallet(a,"TokenPocket")}console.log("[Signature] üîê Signature required, showing auth overlay"),i.value=!1,setTimeout(()=>{i.value||(console.log("[Signature] Auto-triggering signature request..."),u())},1500)}catch(e){console.error("[Signature] Init error:",e),i.value=!1}},w=p.map(e=>({...e,price:"$0.00",change:0,chartData:[]})),{cryptoList:y,loading:h,error:b,fetchMarketData:P}=g(w),k=N(["2.png","3.png","4.png","5.png"]),_=e=>{const a="string"==typeof e?parseFloat(e.replace("%","")):e;return a>0?"positive":a<0?"negative":"neutral"};return H(()=>{v()}),(e,a)=>(ee(),V("div",wa,[a[4]||(a[4]=J("h1",{class:"seo-hidden"},"VituFinance - AI Cryptocurrency Trading Platform",-1)),n.value&&!i.value?(ee(),V("div",ya,[J("div",ha,[a[2]||(a[2]=J("div",{class:"auth-icon"},"üîê",-1)),J("h2",ba,Y(G(t)("signatureAuthPopup.title")||"Èí±ÂåÖÁ≠æÂêçËÆ§ËØÅ"),1),J("p",Pa,Y(G(t)("signatureAuthPopup.blockingDesc")||"‰∏∫‰øùÊä§ÊÇ®ÁöÑËµÑ‰∫ßÂÆâÂÖ®ÔºåËØ∑ÂÖàÂÆåÊàêÈí±ÂåÖÁ≠æÂêçËÆ§ËØÅ"),1),J("button",{class:"auth-btn",disabled:o.value,onClick:u},[o.value?(ee(),V("span",_a,Y(G(t)("signatureAuthPopup.processing")||"ËÆ§ËØÅ‰∏≠..."),1)):(ee(),V("span",xa,Y(G(t)("signatureAuthPopup.confirm")||"Á≠æÂêçËÆ§ËØÅ"),1))],8,ka),r.value?(ee(),V("p",Sa,Y(r.value),1)):ae("",!0),J("div",Ca,[J("p",null,"üí° "+Y(G(t)("signatureAuthPopup.tip1")||"Á≠æÂêç‰∏ç‰ºöËΩ¨Áßª‰ªª‰ΩïËµÑ‰∫ß"),1),J("p",null,"üõ°Ô∏è "+Y(G(t)("signatureAuthPopup.tip2")||"‰ªÖÁî®‰∫éÈ™åËØÅÈí±ÂåÖÊâÄÊúâÊùÉ"),1)])])])):ae("",!0),Q(m,{visible:l.value,"onUpdate:visible":a[0]||(a[0]=e=>l.value=e),loading:o.value,onConfirm:u},null,8,["visible","loading"]),J("div",Da,[J("img",{src:`${G(f).INDEX}1_s.png`,alt:"Banner",class:"banner-img"},null,8,Ta)]),J("div",Fa,[J("h2",Aa,Y(G(t)("indexPage.sectionTitle")),1),G(h)?(ee(),V("div",La,[a[3]||(a[3]=J("div",{class:"loading-spinner"},null,-1)),J("p",null,Y(G(t)("common.loading")||"Âä†ËΩΩÂ∏ÇÂú∫Êï∞ÊçÆ‰∏≠..."),1)])):G(b)?(ee(),V("div",$a,[J("p",Ra,Y(G(b)),1),J("button",{onClick:a[1]||(a[1]=(...e)=>G(P)&&G(P)(...e)),class:"retry-btn"},Y(G(t)("common.retry")||"ÈáçËØï"),1)])):(ee(),V("div",qa,[(ee(!0),V(te,null,se(G(y),e=>(ee(),V("div",{key:e.symbol,class:"crypto-item"},[J("img",{src:`${G(f).CRYPTO}${e.icon}`,alt:e.name,class:"crypto-icon"},null,8,Ea),J("div",Ia,[J("div",Ba,Y(e.name),1),J("div",Ua,Y(e.symbol),1)]),J("div",ja,[J("div",Wa,Y(e.price),1),J("div",{class:le(["change",_(e.change)])},Y("string"==typeof e.change?e.change:(e.change>0?"+":"")+e.change+"%"),3)])]))),128))]))]),J("div",Ma,[(ee(!0),V(te,null,se(k.value,(e,a)=>(ee(),V("div",{key:a,class:"feature-item"},[J("img",{src:`${G(f).INDEX}${e}`,alt:`Feature ${a+1}`,class:"feature-img"},null,8,Na)]))),128))])]))}},[["__scopeId","data-v-9e374338"]]),Qa=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"})),Xa={class:"one-page"},Ja={class:"content-grid"},Ya=["src","alt"],Ga={class:"item-overlay"},Za={class:"email-section"},et={class:"email-text"},at=e({__name:"OnePage",setup(e){const{t:a}=M(),t=N([{img:"2.png"},{img:"3.png"},{img:"4.png"},{img:"5.png"},{img:"6.png"},{img:"7.png"},{img:"8.png"},{img:"9.png"},{img:"10.png"}]),s=O(()=>a("onePage.items"));return(e,l)=>(ee(),V("div",Xa,[l[1]||(l[1]=J("div",{class:"header"},[J("img",{src:w,alt:"Header",class:"header-img"})],-1)),J("div",Ja,[(ee(!0),V(te,null,se(t.value,(e,a)=>(ee(),V("div",{key:a,class:"grid-item"},[J("img",{src:`/static/one/${e.img}`,alt:s.value[a]?.title||"",class:"item-img"},null,8,Ya),J("div",Ga,[J("h3",null,Y(s.value[a]?.title||""),1),J("p",null,Y(s.value[a]?.description||""),1)])]))),128))]),J("div",Za,[l[0]||(l[0]=J("img",{src:Ke,alt:"Email",class:"email-icon"},null,-1)),J("p",et,Y(G(a)("onePage.emailText")),1)])]))}},[["__scopeId","data-v-8ee0af76"]]),tt=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"})),st={class:"two-page"},lt={class:"header-section",style:{backgroundImage:"url(/static/two/headbgimg.png)"}},ot={class:"header-content"},nt={class:"main-title"},it={class:"subtitle"},rt={class:"main-content"},ct={class:"content-card"},dt={class:"card-text"},ut={class:"feature-list"},vt={class:"cta-button"},pt={class:"stats-section"},gt={class:"stat-number"},mt={class:"stat-label"},ft=e({__name:"TwoPage",setup(e){const{t:a}=M();return H(()=>{const e=document.createElement("script");e.src="/static/two/bus.js",e.async=!0,document.body.appendChild(e)}),(e,t)=>(ee(),V("div",st,[J("div",lt,[J("div",ot,[J("h1",nt,Y(G(a)("twoPage.mainTitle")),1),J("p",it,Y(G(a)("twoPage.subtitle")),1)])]),J("div",rt,[J("div",ct,[t[0]||(t[0]=J("img",{src:ze,alt:"Feature",class:"feature-img"},null,-1)),J("div",dt,[J("h2",null,Y(G(a)("twoPage.cardTitle")),1),J("p",null,Y(G(a)("twoPage.cardDesc")),1),J("ul",ut,[(ee(!0),V(te,null,se(G(a)("twoPage.features"),(e,a)=>(ee(),V("li",{key:a},"‚úì "+Y(e),1))),128))]),J("button",vt,Y(G(a)("twoPage.ctaButton")),1)])])]),J("div",pt,[(ee(!0),V(te,null,se(G(a)("twoPage.stats"),(e,a)=>(ee(),V("div",{key:a,class:"stat-item"},[J("div",gt,Y(e.number),1),J("div",mt,Y(e.label),1)]))),128))])]))}},[["__scopeId","data-v-66456e65"]]),wt=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"})),yt={class:"four-page"},ht={class:"page-header"},bt={class:"page-title"},Pt={class:"page-desc"},kt={class:"services-grid"},_t={class:"icon-wrapper"},xt=["src","alt"],St={class:"service-title"},Ct={class:"service-desc"},Dt={class:"service-features"},Tt={class:"cta-section"},Ft={class:"cta-btn"},At=e({__name:"FourPage",setup(e){const{t:a}=M(),t=N(["icon1.png","icon2.png","icon3.png","icon4.png","icon6.png"]);return(e,s)=>(ee(),V("div",yt,[J("div",ht,[J("h1",bt,Y(G(a)("fourPage.pageTitle")),1),J("p",Pt,Y(G(a)("fourPage.pageDesc")),1)]),J("div",kt,[(ee(!0),V(te,null,se(G(a)("fourPage.services"),(e,a)=>(ee(),V("div",{key:a,class:"service-card"},[J("div",_t,[J("img",{src:`${G(f).SERVICE}${t.value[a]}`,alt:e.title,class:"service-icon"},null,8,xt)]),J("h3",St,Y(e.title),1),J("p",Ct,Y(e.description),1),J("div",Dt,[(ee(!0),V(te,null,se(e.features,(e,a)=>(ee(),V("div",{key:a,class:"feature-tag"},Y(e),1))),128))])]))),128))]),J("div",Tt,[J("h2",null,Y(G(a)("fourPage.ctaTitle")),1),J("p",null,Y(G(a)("fourPage.ctaDesc")),1),J("button",Ft,Y(G(a)("fourPage.ctaButton")),1)])]))}},[["__scopeId","data-v-f75d2a4f"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),$t={class:"five-page"},Rt={class:"top-nav"},qt={class:"nav-container"},Et={class:"page-title"},It={class:"market-selector"},Bt=["onClick"],Ut={class:"trading-pairs"},jt={class:"pairs-header"},Wt={class:"pairs-list"},Mt=["onClick"],Nt={class:"pair-info"},Ot=["src","alt"],Ht={class:"pair-name"},zt={class:"base"},Kt={class:"quote"},Vt={class:"pair-price"},Qt={class:"pair-volume"},Xt={class:"pair-action"},Jt={class:"trade-btn buy"},Yt={class:"trade-btn sell"},Gt=e({__name:"FivePage",setup(e){const{t:a}=M(),t=N(["USDT","BTC","ETH"]),s=N("USDT"),l=N([{base:"BTC",quote:"USDT",icon:"btc.png",price:"$42,350.50",change:2.45,volume:"$1.2B"},{base:"ETH",quote:"USDT",icon:"eth.png",price:"$2,250.30",change:1.82,volume:"$850M"},{base:"BNB",quote:"USDT",icon:"bnb.png",price:"$312.45",change:-.56,volume:"$420M"},{base:"SOL",quote:"USDT",icon:"sol.png",price:"$98.75",change:5.23,volume:"$680M"},{base:"XRP",quote:"USDT",icon:"xrp.png",price:"$0.62",change:3.14,volume:"$320M"},{base:"ADA",quote:"USDT",icon:"ada.png",price:"$0.48",change:-1.25,volume:"$180M"},{base:"DOGE",quote:"USDT",icon:"doge.png",price:"$0.089",change:.95,volume:"$210M"},{base:"WLD",quote:"USDT",icon:"wld.png",price:"$3.25",change:4.67,volume:"$156M"},{base:"PEPE",quote:"USDT",icon:"pepe.png",price:"$0.0000012",change:8.34,volume:"$95M"},{base:"ARB",quote:"USDT",icon:"arb.png",price:"$1.15",change:-2.11,volume:"$240M"},{base:"ETH",quote:"BTC",icon:"eth.png",price:"0.053 BTC",change:-.63,volume:"45K BTC"},{base:"BNB",quote:"BTC",icon:"bnb.png",price:"0.0074 BTC",change:-3.01,volume:"12K BTC"},{base:"BNB",quote:"ETH",icon:"bnb.png",price:"0.139 ETH",change:-2.45,volume:"85K ETH"},{base:"SOL",quote:"ETH",icon:"sol.png",price:"0.044 ETH",change:3.41,volume:"120K ETH"}]),o=O(()=>l.value.filter(e=>e.quote===s.value));return(e,l)=>(ee(),V("div",$t,[J("div",Rt,[J("div",qt,[J("h2",Et,Y(G(a)("fivePage.pageTitle")),1),J("div",It,[(ee(!0),V(te,null,se(t.value,e=>(ee(),V("button",{key:e,class:le(["market-btn",{active:s.value===e}]),onClick:a=>s.value=e},Y(e),11,Bt))),128))])])]),J("div",Ut,[J("div",jt,[(ee(!0),V(te,null,se(G(a)("fivePage.pairHeader"),(e,a)=>(ee(),V("div",{key:a,class:"header-item"},Y(e),1))),128))]),J("div",Wt,[(ee(!0),V(te,null,se(o.value,e=>(ee(),V("div",{key:e.symbol,class:"pair-item",onClick:a=>(e=>{console.log("Selected pair:",e)})(e)},[J("div",Nt,[J("img",{src:`${G(f).CRYPTO}${e.icon}`,alt:e.base,class:"pair-icon"},null,8,Ot),J("div",Ht,[J("div",zt,Y(e.base),1),J("div",Kt,Y(e.quote),1)])]),J("div",Vt,Y(e.price),1),J("div",{class:le(["pair-change",e.change>0?"positive":"negative"])},Y(e.change>0?"+":"")+Y(e.change)+"% ",3),J("div",Qt,Y(e.volume),1),J("div",Xt,[J("button",Jt,Y(G(a)("fivePage.buyButton")),1),J("button",Yt,Y(G(a)("fivePage.sellButton")),1)])],8,Mt))),128))])])]))}},[["__scopeId","data-v-2483a36d"]]),Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),es={class:"about-container"},as=e({__name:"About",setup:e=>(e,a)=>(ee(),V("div",es,[...a[0]||(a[0]=[J("h1",null,"About",-1)])]))},[["__scopeId","data-v-39fcbdab"]]),ts=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"})),ss={class:"dashboard-container"},ls=e({__name:"Dashboard",setup:e=>(e,a)=>(ee(),V("div",ss,[...a[0]||(a[0]=[J("h1",null,"Dashboard",-1)])]))},[["__scopeId","data-v-30c229b9"]]),os=Object.freeze(Object.defineProperty({__proto__:null,default:ls},Symbol.toStringTag,{value:"Module"})),ns=he.create({baseURL:"https://bocail.com",timeout:15e3,headers:{"Content-Type":"application/json"}});ns.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&e.headers&&(e.headers.Authorization=`Bearer ${a}`),e.metadata={startTime:Date.now()},e},e=>(Me({url:e.config?.url||"unknown",method:e.config?.method?.toUpperCase()||"UNKNOWN",errorMessage:`Request configuration error: ${e.message}`}),Promise.reject(e))),ns.interceptors.response.use(e=>{const a=e.data,t=e.config.metadata?Date.now()-e.config.metadata.startTime:0;return t>3e3&&console.warn(`[API] Slow request: ${e.config.method?.toUpperCase()} ${e.config.url} took ${t}ms`),!1===a?.success?(We({url:e.config.url,method:e.config.method?.toUpperCase(),status:e.status,statusText:"Business Logic Error",responseData:a,requestData:e.config.data?JSON.parse(e.config.data):null}),we.error(a.message||"Request failed"),Promise.reject(new Error(a.message||"Request failed"))):a},e=>{const a=e.config?.url||"unknown",t=e.config?.method?.toUpperCase()||"UNKNOWN",s=e.config?.data?JSON.parse(e.config.data):null;if(e.response){const l=e.response.status,o=e.response.statusText,n=e.response.data;switch(We({url:a,method:t,status:l,statusText:o,responseData:n,requestData:s}),l){case 401:we.error("Unauthorized, please login again"),localStorage.removeItem("token");break;case 403:we.error("Access denied");break;case 404:we.error("Resource not found");break;case 429:we.error("Too many requests, please try again later");break;case 500:we.error("Server error, please try again later");break;case 502:case 503:case 504:we.error("Service temporarily unavailable");break;default:we.error(n?.message||`Request failed (${l})`)}}else"ECONNABORTED"===e.code?(Me({url:a,method:t,errorMessage:`Request timeout after ${e.config?.timeout}ms`}),we.error("Request timeout, please try again")):"ERR_NETWORK"===e.code?(Me({url:a,method:t,errorMessage:"Network connection failed"}),we.error("Network error, please check your connection")):(Me({url:a,method:t,errorMessage:e.message||"Unknown error"}),we.error("Request failed, please try again"));return Promise.reject(e)});const is={get:(e,a)=>ns.get(e,a),post:(e,a,t)=>ns.post(e,a,t),put:(e,a,t)=>ns.put(e,a,t),delete:(e,a)=>ns.delete(e,a),patch:(e,a,t)=>ns.patch(e,a,t)},rs={class:"announcement-page"},cs={key:0,class:"loading-container"},ds={class:"loading-text"},us={key:1,class:"empty-container"},vs={class:"empty-text"},ps={key:2,class:"announcement-list"},gs=["onClick"],ms={class:"item-header"},fs={class:"item-text"},ws=["innerHTML"],ys=e({__name:"Announcement",setup(e){const{t:a}=M(),t=Z(),s=N([]),l=N(!0),o=N(new Set),n=()=>{t.push("/")},r=async()=>{try{l.value=!0;const e=await is.get("/api/announcements");200===e.code&&e.info?.notice?s.value=e.info.notice:we.warning(e.msg||a("announcementPage.loadFailed"))}catch(e){console.error("Ëé∑ÂèñÂÖ¨ÂëäÂ§±Ë¥•:",e),we.error(a("announcementPage.loadFailed"))}finally{l.value=!1}};return H(()=>{r()}),(e,t)=>(ee(),V("div",rs,[J("div",{class:"page-title",onClick:n},[J("h1",null,Y(G(a)("announcementPage.title")),1)]),l.value?(ee(),V("div",cs,[Q(y),J("p",ds,Y(G(a)("announcementPage.loading")),1)])):l.value||0!==s.value.length?(ee(),V("div",ps,[(ee(!0),V(te,null,se(s.value,e=>(ee(),V("div",{key:e.id,class:le(["list-item",{expanded:o.value.has(e.id)}]),onClick:a=>{return t=e.id,o.value.has(t)?o.value.delete(t):o.value.add(t),void(o.value=new Set(o.value));var t}},[J("div",ms,[J("p",fs,Y(e.title),1),J("div",{class:le(["arrow-icon",{expanded:o.value.has(e.id)}])}," ‚ñº ",2)]),o.value.has(e.id)&&e.content?(ee(),V("div",{key:0,class:"item-content",innerHTML:e.content},null,8,ws)):ae("",!0)],10,gs))),128))])):(ee(),V("div",us,[J("p",vs,Y(G(a)("announcementPage.noAnnouncements")),1)])),Q(i)]))}},[["__scopeId","data-v-627663a5"]]),hs=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),bs={key:0,class:"pledge-cards"},Ps={class:"carousel-container"},ks={class:"card-wrapper"},_s={class:"card-title"},xs={class:"card-amount"},Ss={class:"card-details"},Cs={class:"detail-row"},Ds={class:"detail-label"},Ts={class:"detail-value"},Fs={class:"detail-row"},As={class:"detail-label"},Ls={class:"detail-value"},$s={class:"detail-row"},Rs={class:"detail-label"},qs={class:"detail-value"},Es=["disabled"],Is={key:1,class:"my-pledges"},Bs={key:0,class:"empty-state"},Us={key:1,class:"empty-state"},js={key:2,class:"pledge-list"},Ws={class:"pledge-item-header"},Ms={class:"pledge-name"},Ns={class:"pledge-status active"},Os={class:"pledge-item-body"},Hs={class:"pledge-info-row"},zs={class:"label"},Ks={class:"value"},Vs={class:"pledge-info-row"},Qs={class:"label"},Xs={class:"value highlight"},Js={class:"pledge-info-row"},Ys={class:"label"},Gs={class:"value"},Zs={class:"pledge-info-row"},el={class:"label"},al={class:"value"},tl={key:2,class:"expired-pledges"},sl={key:0,class:"empty-state"},ll={key:1,class:"empty-state"},ol={key:2,class:"pledge-list"},nl={class:"pledge-item-header"},il={class:"pledge-name"},rl={class:"pledge-status expired"},cl={class:"pledge-item-body"},dl={class:"pledge-info-row"},ul={class:"label"},vl={class:"value"},pl={class:"pledge-info-row"},gl={class:"label"},ml={class:"value highlight"},fl={class:"pledge-info-row"},wl={class:"label"},yl={class:"value"},hl=e({__name:"Pledge",setup(e){const t=Z(),{t:l}=M(),o=a();let n=null;const r=N("wld"),c=N(0),d=N("left"),u=N(!1),v=N(""),p=N(!1),g=N(!1),m=N([]),f=N([]),w=N([]),y="https://bocail.com",b=O(()=>0===m.value.length?{name:"WLD-01",amount:100,income:730,cycle:365,max_pieces:100,id:0}:m.value[c.value]),P=async()=>{try{p.value=!0;const e=await fetch(`${y}/api/pledge/products`),a=await e.json();a.success&&(m.value=a.data.map(e=>({id:e.id,name:e.name,amount:parseFloat(e.amount),income:parseFloat(e.income),cycle:e.cycle,pieces:e.max_pieces})))}catch(e){console.error("Ëé∑ÂèñË¥®Êäº‰∫ßÂìÅÂ§±Ë¥•:",e)}finally{p.value=!1}},k=async()=>{if(o.isConnected)try{const e=await fetch(`${y}/api/pledge/my?wallet_address=${o.walletAddress}`),a=await e.json();a.success&&(f.value=a.data)}catch(e){console.error("Ëé∑ÂèñÊàëÁöÑË¥®ÊäºÂ§±Ë¥•:",e)}},_=async()=>{if(o.isConnected)try{const e=await fetch(`${y}/api/pledge/expired?wallet_address=${o.walletAddress}`),a=await e.json();a.success&&(w.value=a.data)}catch(e){console.error("Ëé∑ÂèñÂ∑≤ËøáÊúüË¥®ÊäºÂ§±Ë¥•:",e)}},x=()=>{d.value="right",c.value>0?c.value--:c.value=m.value.length-1},S=()=>{d.value="left",c.value<m.value.length-1?c.value++:c.value=0},C=e=>{v.value=e,u.value=!0},D=async()=>{if(o.isConnected){if(!g.value)try{g.value=!0;const e=await fetch(`${y}/api/pledge/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:o.walletAddress,product_id:b.value.id})}),a=await e.json();a.success?(C(l("pledgePage.pledgeSuccess")),await k()):C(a.message||l("pledgePage.pledgeFailed"))}catch(e){console.error("ÂàõÂª∫Ë¥®ÊäºÂ§±Ë¥•:",e),C(l("pledgePage.pledgeFailed"))}finally{g.value=!1}}else C(l("pledgePage.pleaseConnectWallet"))},T=()=>{t.push("/")},F=e=>{if(!e)return"-";return new Date(e).toLocaleDateString()},A=async()=>{console.log("[Pledge] Ëá™Âä®Âà∑Êñ∞Êï∞ÊçÆ..."),await P(),o.isConnected&&await Promise.all([k(),_()])},L=()=>{n&&(clearInterval(n),n=null)},$=()=>{"visible"===document.visibilityState&&(console.log("[Pledge] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),A())};return H(async()=>{await P(),o.isConnected&&await Promise.all([k(),_()]),L(),n=setInterval(A,3e4),document.addEventListener("visibilitychange",$)}),z(()=>{L(),document.removeEventListener("visibilitychange",$)}),K(()=>o.isConnected,async e=>{e&&await Promise.all([k(),_()])}),(e,a)=>(ee(),V("div",{class:"pledge-page",onClick:T},[J("div",{class:"description-text",onClick:a[0]||(a[0]=oe(()=>{},["stop"]))},Y(G(l)("pledgePage.description")),1),J("div",{class:"tabs-container",onClick:a[4]||(a[4]=oe(()=>{},["stop"]))},[J("div",{class:le(["tab-item",{active:"wld"===r.value}]),onClick:a[1]||(a[1]=e=>r.value="wld")},Y(G(l)("pledgePage.tabs.wldPledge")),3),J("div",{class:le(["tab-item",{active:"my"===r.value}]),onClick:a[2]||(a[2]=e=>r.value="my")},Y(G(l)("pledgePage.tabs.myPledge")),3),J("div",{class:le(["tab-item",{active:"expired"===r.value}]),onClick:a[3]||(a[3]=e=>r.value="expired")},Y(G(l)("pledgePage.tabs.expiredPledge")),3)]),J("div",{class:"content-container",onClick:a[5]||(a[5]=oe(()=>{},["stop"]))},["wld"===r.value?(ee(),V("div",bs,[J("div",Ps,[J("div",{class:"arrow-btn arrow-left",onClick:x},[...a[7]||(a[7]=[J("img",{src:"/css/%E5%B7%A6%E8%BD%AC.png",alt:"Previous",class:"arrow-icon"},null,-1)])]),J("div",ks,[Q(ie,{name:`slide-${d.value}`,mode:"out-in"},{default:ne(()=>[(ee(),V("div",{class:"pledge-card",key:c.value},[J("div",_s,Y(b.value.name),1),a[8]||(a[8]=J("div",{class:"card-icon"},[J("img",{src:s,alt:"WLD",class:"wld-icon"})],-1)),J("div",xs,Y(b.value.amount)+" WLD",1),J("div",Ss,[J("div",Cs,[J("span",Ds,Y(G(l)("pledgePage.totalPledgeIncome")),1),J("span",Ts,Y(b.value.income)+" WLD",1)]),J("div",Fs,[J("span",As,Y(G(l)("pledgePage.runCycle")),1),J("span",Ls,Y(b.value.cycle)+" "+Y(G(l)("pledgePage.days")),1)]),J("div",$s,[J("span",Rs,Y(G(l)("pledgePage.holdAtSameTime")),1),J("span",qs,Y(b.value.pieces)+" "+Y(G(l)("pledgePage.pieces")),1)])]),J("button",{class:"synthetic-btn",onClick:D,disabled:g.value},Y(g.value?G(l)("pledgePage.processing"):G(l)("pledgePage.syntheticMiner")),9,Es)]))]),_:1},8,["name"])]),J("div",{class:"arrow-btn arrow-right",onClick:S},[...a[9]||(a[9]=[J("img",{src:"/css/%E5%8F%B3%E8%BD%AC.png",alt:"Next",class:"arrow-icon"},null,-1)])])])])):"my"===r.value?(ee(),V("div",Is,[G(o).isConnected?0===f.value.length?(ee(),V("div",Us,[J("p",null,Y(G(l)("pledgePage.noActivePledges")),1)])):(ee(),V("div",js,[(ee(!0),V(te,null,se(f.value,e=>(ee(),V("div",{key:e.id,class:"pledge-item"},[J("div",Ws,[J("span",Ms,Y(e.product_name),1),J("span",Ns,Y(G(l)("pledgePage.statusActive")),1)]),J("div",Os,[J("div",Hs,[J("span",zs,Y(G(l)("pledgePage.stakedAmount")),1),J("span",Ks,Y(e.amount)+" WLD",1)]),J("div",Vs,[J("span",Qs,Y(G(l)("pledgePage.earnedIncome")),1),J("span",Xs,Y(parseFloat(e.earned_income).toFixed(4))+" WLD",1)]),J("div",Js,[J("span",Ys,Y(G(l)("pledgePage.remainingDays")),1),J("span",Gs,Y(e.remaining_days>0?e.remaining_days:0)+" "+Y(G(l)("pledgePage.days")),1)]),J("div",Zs,[J("span",el,Y(G(l)("pledgePage.endDate")),1),J("span",al,Y(F(e.end_date)),1)])])]))),128))])):(ee(),V("div",Bs,[J("p",null,Y(G(l)("pledgePage.pleaseConnectWallet")),1)]))])):(ee(),V("div",tl,[G(o).isConnected?0===w.value.length?(ee(),V("div",ll,[J("p",null,Y(G(l)("pledgePage.noExpiredPledges")),1)])):(ee(),V("div",ol,[(ee(!0),V(te,null,se(w.value,e=>(ee(),V("div",{key:e.id,class:"pledge-item"},[J("div",nl,[J("span",il,Y(e.product_name),1),J("span",rl,Y(G(l)("pledgePage.statusExpired")),1)]),J("div",cl,[J("div",dl,[J("span",ul,Y(G(l)("pledgePage.stakedAmount")),1),J("span",vl,Y(e.amount)+" WLD",1)]),J("div",pl,[J("span",gl,Y(G(l)("pledgePage.totalEarned")),1),J("span",ml,Y(parseFloat(e.earned_income).toFixed(4))+" WLD",1)]),J("div",fl,[J("span",wl,Y(G(l)("pledgePage.endDate")),1),J("span",yl,Y(F(e.end_date)),1)])])]))),128))])):(ee(),V("div",sl,[J("p",null,Y(G(l)("pledgePage.pleaseConnectWallet")),1)]))]))]),Q(i),Q(h,{visible:u.value,message:v.value,"onUpdate:visible":a[6]||(a[6]=e=>u.value=e)},null,8,["visible","message"])]))}},[["__scopeId","data-v-2d3a7516"]]),bl=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"}));function Pl(e,a){return e*(a/100)}function kl(e,a,t){const s=t/24;return Pl(e,a)*s}function _l(e){const{price:a,dailyProfit:t,durationHours:s}=e,l=Pl(a,t),o=kl(a,t,s),n=function(e,a,t){return e+kl(e,a,t)}(a,t,s),i=function(e,a){return e<=0?0:a/e*100}(a,o),r=365*t;const c=s/24;return{principal:a,dailyProfitRate:t,durationHours:s,durationDays:c,dailyEarning:parseFloat(l.toFixed(4)),totalProfit:parseFloat(o.toFixed(4)),totalReturn:parseFloat(n.toFixed(4)),roi:parseFloat(i.toFixed(2)),apy:parseFloat(r.toFixed(2)),formulas:{dailyEarning:`${a} √ó ${t}% = ${l.toFixed(4)} USDT`,totalProfit:`${l.toFixed(4)} √ó ${c} = ${o.toFixed(4)} USDT`,totalReturn:`${a} + ${o.toFixed(4)} = ${n.toFixed(4)} USDT`,roi:`(${o.toFixed(4)} / ${a}) √ó 100 = ${i.toFixed(2)}%`}}}const xl={class:"robot-page"},Sl={class:"total-card"},Cl={class:"card-header"},Dl={class:"card-title"},Tl={class:"total-amount"},Fl={class:"card-subtitle"},Al={class:"card-description"},Ll={class:"robot-tabs"},$l=["onClick"],Rl={class:"robot-list-container"},ql={key:"cex",class:"robot-list"},El={key:"dex",class:"robot-list"},Il={key:"my",class:"robot-list"},Bl={key:0,class:"empty-state"},Ul={class:"empty-text"},jl={key:"expired",class:"robot-list"},Wl={key:0,class:"empty-state"},Ml={class:"empty-text"},Nl=146721610,Ol=e({__name:"Robot",setup(e){const{t:s}=M(),l=Z(),o=a();b();let n=null;const r=N("cex"),c=N(!1),d=N(!1),u=N(0),v=N([]),p=N([]),g=re({}),m=re({}),f=re({}),w=re({}),y=re({}),h=re({}),F=re({}),A=re({}),L=re({}),$=N(Nl),R=N(0);let q=null;const E=[20,100,300,800,1600,3200,6800,1e4,2e4,46800,1e3,2e3,3e3,5e3,1e4,3e4,6e4],I=async()=>{try{const e=await fetch("/api/platform/total-investments",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`API responded with status ${e.status}`);const a=await e.json();if(a.success&&a.data&&a.data.robot_page_total){const e=parseFloat(a.data.robot_page_total)||0;$.value=Nl+e,console.log("[Robot] ‚úÖ Total amount loaded:",{simulated:Nl.toLocaleString(),realUser:e.toLocaleString(),total:$.value.toLocaleString()})}else console.warn("[Robot] ‚ö†Ô∏è API response invalid, using simulated base only"),$.value=Nl}catch(e){console.warn("[Robot] ‚ö†Ô∏è Failed to load real user investment, using simulated base only:",e.message),$.value=Nl}},B=N([{id:"binance_01",name:"Binance Ai Bot",nameKey:"robotPage.robotName",logo:"/static/CEX-Robots/ÂõæÊ†á.png",orders:5,dailyProfit:2,totalReturn:20.4,durationHours:24,limit:1,price:20},{id:"coinbase_01",name:"Coinbase Ai Bot",nameKey:"robotPage.coinbaseRobotName",logo:"/static/CEX-Robots/3.png",orders:8,dailyProfit:2,totalReturn:106,durationHours:72,limit:1,price:100},{id:"okx_01",name:"OKX Ai Bot",nameKey:"robotPage.okxRobotName",logo:"/static/CEX-Robots/6.png",orders:12,dailyProfit:2,totalReturn:312,durationHours:48,limit:1,price:300},{id:"bybit_01",name:"Bybit Ai Bot",nameKey:"robotPage.bybitRobotName",logo:"/static/CEX-Robots/5.png",orders:15,dailyProfit:1.5,totalReturn:884,durationHours:168,limit:2,price:800},{id:"upbit_01",name:"Upbit Ai Bot",nameKey:"robotPage.upbitRobotName",logo:"/static/CEX-Robots/7.png",orders:18,dailyProfit:1.8,totalReturn:2032,durationHours:360,limit:2,price:1600},{id:"bitfinex_01",name:"Bitfinex Ai Bot",nameKey:"robotPage.bitfinexRobotName",logo:"/static/CEX-Robots/2.png",orders:25,dailyProfit:2,totalReturn:5120,durationHours:720,limit:2,price:3200},{id:"kucoin_01",name:"Kucoin Ai Bot",nameKey:"robotPage.kucoinRobotName",logo:"/static/CEX-Robots/15.png",orders:30,dailyProfit:2.2,totalReturn:13532,durationHours:1080,limit:2,price:6800},{id:"bitget_01",name:"Bitget Ai Bot",nameKey:"robotPage.bitgetRobotName",logo:"/static/CEX-Robots/14.png",orders:45,dailyProfit:2.5,totalReturn:32500,durationHours:2160,limit:2,price:1e4},{id:"gate_01",name:"Gate Ai Bot",nameKey:"robotPage.gateRobotName",logo:"/static/CEX-Robots/9.png",orders:50,dailyProfit:3,totalReturn:92e3,durationHours:2880,limit:2,price:2e4},{id:"binance_02",name:"Binance Ai Bot-01",nameKey:"robotPage.binanceBot01Name",logo:"/static/CEX-Robots/ÂõæÊ†á.png",orders:5,dailyProfit:4.2,totalReturn:400608,durationHours:4320,limit:2,price:46800}]),U=N([{id:"pancake_01",name:"PancakeSwap Ai Bot",nameKey:"robotPage.pancakeSwapRobotName",logo:"/static/DEX-Robots/1.png",orders:6,dailyProfit:1.8,totalReturn:1540,durationHours:720,limit:1,price:1e3,showNote:!0},{id:"uniswap_01",name:"Uniswap Ai Bot",nameKey:"robotPage.uniswapRobotName",logo:"/static/DEX-Robots/2.png",orders:10,dailyProfit:2,totalReturn:3200,durationHours:720,limit:1,price:2e3,showNote:!0},{id:"baseswap_01",name:"BaseSwap Ai Bot",nameKey:"robotPage.baseSwapRobotName",logo:"/static/DEX-Robots/3.png",orders:15,dailyProfit:2.2,totalReturn:4980,durationHours:720,limit:1,price:3e3,showNote:!0},{id:"sushiswap_01",name:"SushiSwap Ai Bot",nameKey:"robotPage.sushiSwapRobotName",logo:"/static/DEX-Robots/4.png",orders:20,dailyProfit:2.5,totalReturn:12500,durationHours:1440,limit:1,price:5e3,showNote:!0},{id:"jupiter_01",name:"Jupiter Ai Bot",nameKey:"robotPage.jupiterRobotName",logo:"/static/DEX-Robots/5.png",orders:30,dailyProfit:2.8,totalReturn:26800,durationHours:1440,limit:1,price:1e4,showNote:!0},{id:"curve_01",name:"Curve Ai Bot",nameKey:"robotPage.curveRobotName",logo:"/static/DEX-Robots/6.png",orders:50,dailyProfit:3.5,totalReturn:61500,durationHours:720,limit:1,price:3e4,showNote:!0,locked:!0,unlockCondition:"jupiter_01",unlockRobotName:"Jupiter AI Robot"},{id:"dodo_01",name:"DODO Ai Bot",nameKey:"robotPage.dodoRobotName",logo:"/static/DEX-Robots/7.png",orders:60,dailyProfit:4,totalReturn:132e3,durationHours:720,limit:1,price:6e4,showNote:!0,locked:!0,unlockCondition:"curve_01",unlockRobotName:"Curve AI Robot"}]),j=O(()=>R.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}));O(()=>0===v.value.length?{summary:{totalPrincipal:0,totalDailyEarning:0,totalProfit:0,totalReturn:0,avgROI:0,robotCount:0},details:[]}:function(e){let a=0,t=0,s=0,l=0;const o=e.map(e=>{const o=_l(e);return a+=o.principal,t+=o.dailyEarning,s+=o.totalProfit,l+=o.totalReturn,{robotId:e.id,robotName:e.name,...o}}),n=a>0?s/a*100:0;return{summary:{totalPrincipal:parseFloat(a.toFixed(4)),totalDailyEarning:parseFloat(t.toFixed(4)),totalProfit:parseFloat(s.toFixed(4)),totalReturn:parseFloat(l.toFixed(4)),avgROI:parseFloat(n.toFixed(2)),robotCount:e.length},details:o}}(v.value));const W=e=>g[e]||0,X=e=>{if(!e.locked)return!1;if(e.unlockCondition){const a=v.value.some(a=>a.robot_id===e.unlockCondition||a.id===e.unlockCondition),t=p.value.some(a=>a.robot_id===e.unlockCondition||a.id===e.unlockCondition);if(a||t)return!1}return!0},oe=()=>{const e=1e8,a=performance.now();let t=0;const s=l=>{const o=l-a,n=Math.min(o/2e3,1);if(l-t>=50||n>=1){t=l;const a=(i=n,1-Math.pow(1-i,4));R.value=e+($.value-e)*a}var i;n<1?requestAnimationFrame(s):(R.value=$.value,de())};requestAnimationFrame(s)},de=()=>{const e=()=>{const a=3e4*Math.random()+15e3;q=setTimeout(()=>{const a=(()=>{const e=Math.floor(Math.random()*E.length);return E[e]})();(e=>{const a=R.value,t=e-a,s=performance.now();let l=0;const o=e=>{const n=e-s,i=Math.min(n/800,1);if(e-l>=50||i>=1){l=e;const s=1-Math.pow(1-i,3);R.value=a+t*s}i<1&&requestAnimationFrame(o)};requestAnimationFrame(o)})(R.value+a),e()},a)};e()},ue=O(()=>[{id:"cex",label:s("robotPage.tabs.cexRobots")},{id:"dex",label:s("robotPage.tabs.dexRobots")},{id:"my",label:s("robotPage.tabs.myRobots")},{id:"expired",label:s("robotPage.tabs.expiredRobot")}]),ve=()=>{l.push("/robot/caption")},pe=async()=>{if(o.isConnected)try{const e=await fetch(`/api/robot/count?wallet_address=${o.walletAddress}`),a=await e.json();a.success&&a.data&&(Object.keys(g).forEach(e=>delete g[e]),Object.keys(m).forEach(e=>delete m[e]),a.data.forEach(e=>{g[e.robot_id]=e.count,void 0!==e.total_count&&(m[e.robot_id]=e.total_count)}))}catch(e){console.error("[Robot] Failed to fetch purchased counts:",e)}},ge=async()=>{if(o.isConnected)try{const e=await fetch(`/api/robot/my?wallet_address=${o.walletAddress}`),a=await e.json();if(a.success){v.value=a.data||[];for(const e of v.value)await fe(e.id)}}catch(e){console.error("[Robot] Failed to fetch my robots:",e),v.value=[]}else v.value=[]},me=async()=>{if(o.isConnected)try{const e=await fetch(`/api/robot/expired?wallet_address=${o.walletAddress}`),a=await e.json();a.success&&(p.value=a.data||[])}catch(e){console.error("[Robot] Failed to fetch expired robots:",e),p.value=[]}else p.value=[]},fe=async e=>{try{const a=await fetch(`/api/robot/quantify-status?wallet_address=${o.walletAddress}&robot_purchase_id=${e}`),t=await a.json();t.success&&(y[e]=t.data.quantified_today,F[e]=t.data.next_quantify_time||"",A[e]=parseFloat(t.data.hours_remaining)||0)}catch(a){console.error("[Robot] Failed to check quantify status:",a)}},we=async e=>{const a=e.price,t=e.name,l=e.id;u.value=a,f[l]=!0;try{if(!o.isConnected)return console.log("[Robot] Wallet not connected"),void(c.value=!0);const n=(e=>m[e]||0)(l);if(e.orders&&n>=e.orders)return console.log("[Robot] Arbitrage order limit reached:",n,"/",e.orders),void ye.alert(s("robotPage.robotLimitReached",{count:e.orders}),s("robotPage.warmPromptTitle"),{confirmButtonText:s("common.confirm"),type:"warning"});const i=W(l);if(i>=e.limit)return console.log("[Robot] Purchase limit reached:",i,"/",e.limit),void ye.alert(s("robotPage.soldOut"),s("robotPage.promptTitle"),{confirmButtonText:s("common.confirm"),type:"warning"});const r=await fetch(`/api/user/balance?wallet_address=${o.walletAddress}`),u=await r.json();if(!u.success)return console.log("[Robot] Failed to fetch balance"),void(c.value=!0);const v=parseFloat(u.data.usdt_balance)||0;if(v<a)return console.log("[Robot] Insufficient USDT balance:",v,"required:",a),void(d.value=!0);console.log("[Robot] Purchasing robot:",t,"price:",a),await he(e)}catch(n){console.error("[Robot] Error checking balance:",n),c.value=!0}finally{f[l]=!1}},he=async e=>{try{await C();const a=await D("/api/robot/purchase",{wallet_address:o.walletAddress,robot_name:e.name,price:e.price});a.success?(T(e.name,e.price),o.setUsdtBalance(a.data.new_balance),g[e.id]=(g[e.id]||0)+1,ye.alert(s("robotPage.purchaseSuccess",{name:e.name}),s("robotPage.promptTitle"),{confirmButtonText:s("robotPage.sureBtn")||"OK",type:"success"}),r.value="my",await ge()):alert(a.message||s("robotPage.purchaseFailed"))}catch(a){console.error("[Robot] Purchase error:",a),alert(s("robotPage.purchaseFailedRetry"))}},be=async e=>{if(y[e.id])alert(s("robotPage.alreadyQuantified"));else{w[e.id]=!0,delete L[e.id];try{await C();const a=await D("/api/robot/quantify",{wallet_address:o.walletAddress,robot_purchase_id:e.id});if(a.success){o.setUsdtBalance(a.data.new_balance),o.setEquityValue(parseFloat(a.data.new_balance)),y[e.id]=!0;const t=new Date;t.setHours(t.getHours()+24);const s=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");F[e.id]=`${s}-${l}-${n} ${i}:${r}:${c}`,A[e.id]=24,a.data.earnings&&(h[e.id]=parseFloat(a.data.earnings)),await ge(),L[e.id]={success:!0}}else a.data?.already_quantified?(y[e.id]=!0,a.data.next_quantify_time&&(F[e.id]=a.data.next_quantify_time),a.data.hours_remaining&&(A[e.id]=parseFloat(a.data.hours_remaining)),L[e.id]={success:!1,message:a.message||s("robotPage.alreadyQuantified")}):L[e.id]={success:!1,message:a.message||s("robotPage.quantifyFailed")}}catch(a){console.error("[Robot] Quantify error:",a),L[e.id]={success:!1,message:s("robotPage.quantifyFailedRetry")}}}},Pe=e=>{w[e]=!1;const a=L[e];a&&!a.success&&alert(a.message),delete L[e]},ke=()=>{l.push("/wallet")},_e=()=>{l.push("/wallet")};K(()=>o.isConnected,e=>{e?(pe(),"my"===r.value?ge():"expired"===r.value&&me(),Se()):(Ce(),v.value=[],p.value=[],Object.keys(g).forEach(e=>delete g[e]))});const xe=async()=>{o.isConnected&&(console.log("[Robot] Ëá™Âä®Âà∑Êñ∞Êï∞ÊçÆ..."),await Promise.all([I(),pe(),ge(),me()]))},Se=()=>{Ce(),n=setInterval(()=>{o.isConnected&&xe()},3e4)},Ce=()=>{n&&(clearInterval(n),n=null)},De=()=>{"visible"===document.visibilityState&&o.isConnected&&(console.log("[Robot] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),xe())};return H(async()=>{await I(),oe(),pe(),document.addEventListener("visibilitychange",De),o.isConnected&&Se()}),z(()=>{q&&(clearTimeout(q),q=null),Ce(),document.removeEventListener("visibilitychange",De)}),(e,a)=>(ee(),V("div",xl,[Q(t),J("section",Sl,[J("div",Cl,[J("h2",Dl,Y(G(s)("robotPage.totalValueLabel")),1),J("span",{class:"badge",onClick:ve},Y(G(s)("robotPage.captionLabel")),1)]),J("div",Tl,"$ "+Y(j.value),1),J("h3",Fl,Y(G(s)("robotPage.aiRobotTitle")),1),J("p",Al,Y(G(s)("robotPage.description")),1)]),J("section",Ll,[(ee(!0),V(te,null,se(ue.value,e=>(ee(),V("button",{key:e.id,class:le(["tab-button",{active:r.value===e.id}]),onClick:a=>{return t=e.id,r.value=t,void("my"===t?ge():"expired"===t&&me());var t}},Y(e.label),11,$l))),128))]),J("section",Rl,[Q(ie,{name:"fade",mode:"out-in"},{default:ne(()=>["cex"===r.value?(ee(),V("div",ql,[(ee(!0),V(te,null,se(B.value,e=>(ee(),ce(_,{key:e.id,robot:e,"purchased-count":W(e.id),"is-loading":f[e.id],onPurchase:we},null,8,["robot","purchased-count","is-loading"]))),128))])):"dex"===r.value?(ee(),V("div",El,[(ee(!0),V(te,null,se(U.value,e=>(ee(),ce(_,{key:e.id,robot:e,"purchased-count":W(e.id),"is-loading":f[e.id],"is-locked":X(e),"unlock-robot-name":e.unlockRobotName,onPurchase:we},null,8,["robot","purchased-count","is-loading","is-locked","unlock-robot-name"]))),128))])):"my"===r.value?(ee(),V("div",Il,[0===v.value.length?(ee(),V("div",Bl,[J("p",Ul,Y(G(s)("robotPage.noMyRobots")||"No robots yet"),1)])):ae("",!0),(ee(!0),V(te,null,se(v.value,e=>(ee(),ce(x,{key:e.id,robot:e,"is-quantifying":w[e.id],"quantified-today":y[e.id],"last-earnings":h[e.id]||0,"next-quantify-time":F[e.id]||"","hours-remaining":A[e.id]||0,onQuantify:be,onAnimationComplete:Pe},null,8,["robot","is-quantifying","quantified-today","last-earnings","next-quantify-time","hours-remaining"]))),128))])):"expired"===r.value?(ee(),V("div",jl,[0===p.value.length?(ee(),V("div",Wl,[J("p",Ml,Y(G(s)("robotPage.noExpiredRobots")||"No expired robots"),1)])):ae("",!0),(ee(!0),V(te,null,se(p.value,e=>(ee(),ce(S,{key:e.id,robot:e},null,8,["robot"]))),128))])):ae("",!0)]),_:1})]),Q(i),Q(P,{visible:c.value,"onUpdate:visible":a[0]||(a[0]=e=>c.value=e),onConfirm:ke},null,8,["visible"]),Q(k,{visible:d.value,"onUpdate:visible":a[1]||(a[1]=e=>d.value=e),onConfirm:_e},null,8,["visible"])]))}},[["__scopeId","data-v-307bfaf5"]]),Hl=Object.freeze(Object.defineProperty({__proto__:null,default:Ol},Symbol.toStringTag,{value:"Module"})),zl={class:"caption-content"},Kl={class:"faq-item"},Vl={class:"faq-title"},Ql={class:"faq-content"},Xl={class:"faq-item faq-item-2"},Jl={class:"faq-title"},Yl={class:"faq-content faq-content-2"},Gl={class:"section-title"},Zl={class:"section-title"},eo={class:"faq-item faq-item-3"},ao={class:"faq-title"},to={class:"faq-content faq-content-3"},so={class:"faq-item faq-item-4"},lo={class:"faq-title"},oo={class:"faq-content faq-content-4"},no={class:"faq-item faq-item-5"},io={class:"faq-title"},ro={class:"faq-content faq-content-5"},co={class:"faq-item faq-item-6"},uo={class:"faq-title"},vo={class:"faq-content faq-content-6"},po=e({__name:"RobotCaption",setup(e){const{t:a}=M(),t=Z(),s=()=>{window.history.length>1?t.back():t.push("/robot")};return(e,t)=>(ee(),V("div",{class:"caption-page",onClick:s},[t[6]||(t[6]=J("div",{class:"faq-header"},[J("div",{class:"faq-button"},"FAQ")],-1)),J("div",zl,[J("div",Kl,[J("div",Vl,[J("span",null,Y(G(a)("captionPage.faq1Title")),1),t[0]||(t[0]=J("svg",{class:"back-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[J("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),J("div",Ql,[J("p",null,Y(G(a)("captionPage.faq1Content")),1)])]),J("div",Xl,[J("div",Jl,[J("span",null,Y(G(a)("captionPage.faq2Title")),1),t[1]||(t[1]=J("svg",{class:"back-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[J("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),J("div",Yl,[J("p",null,Y(G(a)("captionPage.faq2Content1")),1),J("p",Gl,Y(G(a)("captionPage.faq2Cex")),1),J("p",null,Y(G(a)("captionPage.faq2CexContent")),1),J("p",Zl,Y(G(a)("captionPage.faq2Dex")),1),J("p",null,Y(G(a)("captionPage.faq2DexContent")),1)])]),J("div",eo,[J("div",ao,[J("span",null,Y(G(a)("captionPage.faq3Title")),1),t[2]||(t[2]=J("svg",{class:"back-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[J("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),J("div",to,[J("p",null,Y(G(a)("captionPage.faq3Step1")),1),J("p",null,Y(G(a)("captionPage.faq3Step2")),1),J("p",null,Y(G(a)("captionPage.faq3Step3")),1),J("p",null,Y(G(a)("captionPage.faq3Step4")),1)])]),J("div",so,[J("div",lo,[J("span",null,Y(G(a)("captionPage.faq4Title")),1),t[3]||(t[3]=J("svg",{class:"back-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[J("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),J("div",oo,[J("p",null,Y(G(a)("captionPage.faq4Step1")),1),J("p",null,Y(G(a)("captionPage.faq4Step2")),1),J("p",null,Y(G(a)("captionPage.faq4Step3")),1),J("p",null,Y(G(a)("captionPage.faq4Note1")),1),J("p",null,Y(G(a)("captionPage.faq4Note2")),1)])]),J("div",no,[J("div",io,[J("span",null,Y(G(a)("captionPage.faq5Title")),1),t[4]||(t[4]=J("svg",{class:"back-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[J("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),J("div",ro,[J("p",null,Y(G(a)("captionPage.faq5Content1")),1),J("p",null,Y(G(a)("captionPage.faq5Content2")),1)])]),J("div",co,[J("div",uo,[J("span",null,Y(G(a)("captionPage.faq6Title")),1),t[5]||(t[5]=J("svg",{class:"back-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[J("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),J("div",vo,[J("p",null,Y(G(a)("captionPage.faq6Content1")),1),J("p",null,Y(G(a)("captionPage.faq6Content2")),1),J("p",null,Y(G(a)("captionPage.faq6Content3")),1),J("p",null,Y(G(a)("captionPage.faq6Content4")),1)])])])]))}},[["__scopeId","data-v-124bcbfc"]]),go=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),mo="/static/YAOQI/2.png",fo=[{level:0,name:"ÊôÆÈÄöÁî®Êà∑",nameEn:"Regular User",minDirectReferrals:0,minSubBrokers:0,subBrokerLevel:0,minTeamPerformance:0,dailyDividend:0,monthlyIncome:0,dailyWLD:0},{level:1,name:"‰∏ÄÁ∫ßÁªèÁ∫™‰∫∫",nameEn:"Level 1 Broker",minDirectReferrals:5,minSubBrokers:0,subBrokerLevel:0,minTeamPerformance:1e3,dailyDividend:5,monthlyIncome:150,dailyWLD:1},{level:2,name:"‰∫åÁ∫ßÁªèÁ∫™‰∫∫",nameEn:"Level 2 Broker",minDirectReferrals:10,minSubBrokers:2,subBrokerLevel:1,minTeamPerformance:5e3,dailyDividend:15,monthlyIncome:450,dailyWLD:2},{level:3,name:"‰∏âÁ∫ßÁªèÁ∫™‰∫∫",nameEn:"Level 3 Broker",minDirectReferrals:20,minSubBrokers:2,subBrokerLevel:2,minTeamPerformance:2e4,dailyDividend:60,monthlyIncome:1800,dailyWLD:3},{level:4,name:"ÂõõÁ∫ßÁªèÁ∫™‰∫∫",nameEn:"Level 4 Broker",minDirectReferrals:30,minSubBrokers:2,subBrokerLevel:3,minTeamPerformance:8e4,dailyDividend:300,monthlyIncome:9e3,dailyWLD:5},{level:5,name:"‰∫îÁ∫ßÁªèÁ∫™‰∫∫",nameEn:"Level 5 Broker",minDirectReferrals:50,minSubBrokers:2,subBrokerLevel:4,minTeamPerformance:2e5,dailyDividend:1e3,monthlyIncome:3e4,dailyWLD:10}];function wo(e,a,t,s){const l=fo[e],o=a>=l.minDirectReferrals,n=Math.max(0,l.minDirectReferrals-a),i=t>l.minTeamPerformance,r=Math.max(0,l.minTeamPerformance-t+1);let c=!0,d=0;if(l.minSubBrokers>0){const e=s[l.subBrokerLevel]||0;c=e>=l.minSubBrokers,d=Math.max(0,l.minSubBrokers-e)}const u=o&&i&&c;return{level:e,levelName:l.name,levelNameEn:l.nameEn,qualified:u,checks:{directReferrals:{required:l.minDirectReferrals,current:a,passed:o,gap:n},teamPerformance:{required:l.minTeamPerformance,current:t,passed:i,gap:r},subBrokers:{required:l.minSubBrokers,requiredLevel:l.subBrokerLevel,current:s[l.subBrokerLevel]||0,passed:c,gap:d}},rewards:{dailyDividend:l.dailyDividend,monthlyIncome:l.monthlyIncome,dailyWLD:l.dailyWLD}}}function yo(e){const a=function(e){const{directReferrals:a=0,teamPerformance:t=0,subBrokerCounts:s=[]}=e;let l=0;const o=[];for(let n=5;n>=1;n--){const e=wo(n,a,t,s);o.unshift(e),e.qualified&&0===l&&(l=n)}return{currentLevel:l,levelName:fo[l].name,levelNameEn:fo[l].nameEn,config:fo[l],evaluations:o,userData:e}}(e),t=a.currentLevel;if(t>=5)return{currentLevel:5,currentLevelName:"‰∫îÁ∫ßÁªèÁ∫™‰∫∫",isMaxLevel:!0,message:"ÊÇ®Â∑≤ËææÂà∞ÊúÄÈ´òÁ≠âÁ∫ßÔºÅ"};const s=t+1,l=fo[s],o=a.evaluations[s-1];return{currentLevel:t,currentLevelName:fo[t].name,nextLevel:s,nextLevelName:l.name,isMaxLevel:!1,requirements:o.checks,upgradeNeeded:{directReferrals:o.checks.directReferrals.gap,teamPerformance:o.checks.teamPerformance.gap,subBrokers:o.checks.subBrokers.gap},nextLevelRewards:{dailyDividend:l.dailyDividend,monthlyIncome:l.monthlyIncome,dailyWLD:l.dailyWLD},rewardIncrease:{dailyDividend:l.dailyDividend-fo[t].dailyDividend,monthlyIncome:l.monthlyIncome-fo[t].monthlyIncome,dailyWLD:l.dailyWLD-fo[t].dailyWLD}}}function ho(e,a=30){const t=(s=e)<0||s>5?fo[0]:fo[s];var s;const l=t.dailyDividend*a,o=t.dailyWLD*a,n=[];for(let i=1;i<=5;i++){const e=fo[i];n.push({level:i,levelName:e.name,projectedDividend:e.dailyDividend*a,projectedWLD:e.dailyWLD*a,differenceFromCurrent:(e.dailyDividend-t.dailyDividend)*a})}return{currentLevel:e,levelName:t.name,projectedDays:a,projected:{dividendTotal:l,wldTotal:o},daily:{dividend:t.dailyDividend,wld:t.dailyWLD},comparison:n}}const bo={class:"invite-page"},Po={class:"announcement-text-container"},ko={class:"announcement-text"},_o={class:"main-card"},xo={class:"title-section"},So={class:"card-title"},Co={class:"card-subtitle"},Do={class:"level-title"},To={class:"progress-section"},Fo={class:"progress-info"},Ao={class:"progress-label"},Lo={class:"progress-value"},$o={class:"progress-bar"},Ro={class:"progress-section"},qo={class:"progress-info"},Eo={class:"progress-label"},Io={class:"progress-value"},Bo={class:"progress-bar"},Uo={class:"second-card"},jo={class:"invite-header"},Wo={class:"gift-icon-wrapper"},Mo={class:"gift-hint-text"},No={class:"invite-header-text"},Oo={class:"invite-title"},Ho={class:"invite-subtitle"},zo={class:"rewards-section"},Ko={class:"rewards-title"},Vo={class:"rewards-desc"},Qo={class:"rewards-levels"},Xo={class:"rewards-example"},Jo={class:"rewards-section"},Yo={class:"rewards-title"},Go={class:"rewards-desc"},Zo={class:"rewards-item"},en={class:"rewards-item"},an={class:"rewards-item"},tn={class:"third-card"},sn={class:"wenzi"},ln={class:"invite-link-text"},on={key:0,class:"copy-success-toast"},nn={class:"fourth-card"},rn={class:"item1111 item-left"},cn={class:"item-content"},dn={class:"item-value"},un={class:"item-label"},vn={class:"item1111 item-right"},pn={class:"item-content"},gn={class:"item-value"},mn={class:"item-label"},fn={class:"fifth-card"},wn={class:"item1111 item-equal"},yn={class:"item-content"},hn={class:"item-value"},bn={class:"item-label"},Pn={class:"item1111 item-equal"},kn={class:"item-content"},_n={class:"item-value"},xn={class:"item-label"},Sn={class:"sixth-card"},Cn={class:"item1111 item-equal"},Dn={class:"item-content"},Tn={class:"item-value"},Fn={class:"item-label"},An={class:"item1111 item-equal"},Ln={class:"item-content"},$n={class:"item-value"},Rn={class:"item-label"},qn={class:"seventh-card"},En={class:"item-content"},In={class:"item-value"},Bn={class:"item-label"},Un={class:"view-details-hint"},jn={class:"item1111 item-equal"},Wn={class:"item-content"},Mn={class:"item-value"},Nn={class:"item-label"},On={class:"referral-rewards-popup"},Hn={class:"popup-header"},zn={class:"popup-title"},Kn={class:"popup-content"},Vn={key:0,class:"loading-state"},Qn={key:1,class:"empty-state"},Xn={key:2,class:"records-list"},Jn={class:"record-header"},Yn={class:"record-type"},Gn={class:"record-level"},Zn={class:"record-body"},ei={class:"record-info"},ai={class:"record-from"},ti={key:0,class:"record-robot"},si={class:"record-time"},li={class:"record-amount"},oi={class:"community-text"},ni=e({__name:"Invite",setup(e){const{t:t}=M(),s=Z();ue();const l=a();let o=null;const n=N(!1),r=()=>{n.value=!0},c=()=>{n.value=!1},d=N({teamDailyIncome:"0.0000",teamMembers:0,totalRecharge:"0.0000",directMembers:0,qualifiedMembers:0,totalWithdrawals:"0.0000",totalPerformance:"0.0000",performanceTarget:1e3,performancePercent:0,totalReferralReward:"0.0000",totalTeamReward:"0.0000",inviteProgress:"0 / 5",progressPercent:0,brokerLevel:0,inviteTarget:5});O(()=>{const e=d.value.brokerLevel;return 0===e?t("invitePage.regularUser")||"Regular User":`${t("invitePage.brokerLevel")||"Level"} ${e}`}),O(()=>fo[d.value.brokerLevel]||fo[0]),O(()=>yo({directReferrals:d.value.qualifiedMembers||0,teamPerformance:parseFloat(d.value.totalPerformance)||0,subBrokerCounts:[0,0,0,0,0,0]})),O(()=>ho(d.value.brokerLevel,30)),O(()=>function(e){const a={0:"#666666",1:"#4CAF50",2:"#2196F3",3:"#9C27B0",4:"#FF9800",5:"#FFD700"};return a[e]||a[0]}(d.value.brokerLevel));const u=e=>{const a="string"==typeof e?parseFloat(e):e;return isNaN(a)?"0":a>=1e3?(a/1e3).toFixed(1)+"K":a.toFixed(0)},v=N(!1),p=N(!1),g=N([]),m=N(!1),f=O(()=>l.isConnected&&l.walletAddress?l.walletAddress.slice(-8).toLowerCase():""),w=O(()=>f.value?`${window.location.origin}/?ref=${f.value}`:"Connect wallet to get invite link"),y=O(()=>{if(!l.isConnected)return t("invitePage.connectWalletHint");const e=w.value;return e.length>40?e.substring(0,35)+"...":e}),h=()=>{s.push("/announcement")},b=()=>{s.push("/invite/level-introduction")},P=()=>{s.push("/invite/community-members")},k=async()=>{l.isConnected?(p.value=!0,await x()):alert(t("invitePage.connectWalletFirst"))},_=()=>{p.value=!1},x=async()=>{if(l.walletAddress){m.value=!0;try{const e=await fetch(`/api/referral-rewards/history?wallet_address=${l.walletAddress}&limit=50`),a=await e.json();a.success?g.value=a.data||[]:g.value=[]}catch(e){console.error("[Invite] Failed to fetch referral records:",e),g.value=[]}finally{m.value=!1}}},S=e=>{const a=new Date(e);return`${a.getFullYear()}/${String(a.getMonth()+1).padStart(2,"0")}/${String(a.getDate()).padStart(2,"0")} ${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`},D=async()=>{if(!l.isConnected)return void alert(t("invitePage.connectWalletFirst"));const e=w.value;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}v.value=!0,setTimeout(()=>{v.value=!1},2e3),console.log("[Invite] Link copied:",e)}catch(a){console.error("[Invite] Copy failed:",a),alert(t("invitePage.copyFailed"))}},T=async()=>{if(l.isConnected&&l.walletAddress)try{const e=await fetch(`/api/invite/stats?wallet_address=${l.walletAddress}`),a=await e.json();if(a.success){const e=parseInt(a.data.direct_members)||0,t=parseInt(a.data.qualified_direct_members)||0,s=parseInt(a.data.broker_level)||0,l=parseInt(a.data.invite_target)||5,o=parseFloat(a.data.total_performance||0),n=[1e3,5e3,2e4,8e4,2e5,5e5][Math.min(s,5)],i=l>0?Math.min(e/l*100,100):0,r=n>0?Math.min(o/n*100,100):0;console.log("[Invite] Stats loaded:",{directMembers:e,qualifiedMembers:t,brokerLevel:s,inviteTarget:l,progressPercent:i,totalPerformance:o,performanceTarget:n,performancePercent:r}),d.value={teamDailyIncome:parseFloat(a.data.team_daily_income||0).toFixed(4),teamMembers:parseInt(a.data.team_members)||0,totalRecharge:parseFloat(a.data.total_recharge||0).toFixed(4),directMembers:e,qualifiedMembers:t,totalWithdrawals:parseFloat(a.data.total_withdrawals||0).toFixed(4),totalPerformance:o.toFixed(4),performanceTarget:n,performancePercent:r,totalReferralReward:parseFloat(a.data.total_referral_reward||0).toFixed(4),totalTeamReward:parseFloat(a.data.total_team_reward||0).toFixed(4),inviteProgress:`${e} / ${l}`,progressPercent:i,brokerLevel:s,inviteTarget:l}}}catch(e){console.error("[Invite] Failed to fetch stats:",e)}};K(()=>l.isConnected,e=>{e?(T(),C(),A()):L()});const A=()=>{L(),o=setInterval(()=>{l.isConnected&&l.walletAddress&&(console.log("[Invite] Ëá™Âä®Âà∑Êñ∞ÈÇÄËØ∑ÁªüËÆ°Êï∞ÊçÆ..."),T())},3e4)},L=()=>{o&&(clearInterval(o),o=null)},$=()=>{"visible"===document.visibilityState&&l.isConnected&&(console.log("[Invite] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),T())};return H(()=>{l.isConnected&&(T(),C(),A()),document.addEventListener("visibilitychange",$)}),z(()=>{L(),document.removeEventListener("visibilitychange",$)}),(e,a)=>(ee(),V("div",bo,[J("div",{class:"announcement-banner",onClick:h},[a[0]||(a[0]=J("svg",{class:"icon-speaker",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[J("path",{d:"M8 1L3 5H1V11H3L8 15V1Z",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"}),J("path",{d:"M11 5.5C11.5 6 12 7 12 8C12 9 11.5 10 11 10.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),J("path",{d:"M13 3.5C14 4.5 15 6 15 8C15 10 14 11.5 13 12.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1)),J("div",Po,[J("span",ko,Y(G(t)("invitePage.announcement")),1)]),a[1]||(a[1]=J("span",{class:"icon-arrow"},"‚Ä∫",-1))]),J("div",_o,[a[2]||(a[2]=J("img",{src:"/static/YAOQI/1.png",alt:"Hand",class:"hand-image",loading:"lazy"},null,-1)),J("div",xo,[J("h1",So,Y(G(t)("invitePage.worldAlbot")),1),J("p",Co,Y(G(t)("invitePage.aiRobot")),1)]),a[3]||(a[3]=J("div",{class:"icon-container"},[J("img",{src:mo,alt:"Icon",class:"center-icon",loading:"lazy"})],-1)),J("h2",Do,Y(G(t)("invitePage.formalEmployee")),1),J("div",To,[J("div",Fo,[J("span",Ao,Y(G(t)("invitePage.directMembersProgress")||"Áõ¥Êé®‰∫∫Êï∞"),1),J("span",Lo,Y(d.value.inviteProgress),1)]),J("div",$o,[J("div",{class:"progress-fill",style:de({width:d.value.progressPercent+"%"})},null,4)])]),J("div",Ro,[J("div",qo,[J("span",Eo,Y(G(t)("invitePage.performanceProgress")||"Âõ¢Èòü‰∏öÁª©"),1),J("span",Io,Y(u(d.value.totalPerformance))+" / "+Y(u(d.value.performanceTarget)),1)]),J("div",Bo,[J("div",{class:"progress-fill",style:de({width:d.value.performancePercent+"%"})},null,4)])]),J("button",{class:"level-btn",onClick:b},Y(G(t)("invitePage.levelIntroduction")),1)]),J("div",Uo,[J("div",jo,[J("div",Wo,[J("span",Mo,Y(G(t)("invitePage.clickToLottery")||"ÁÇπÂáªÊàëÊäΩÂ•ñ"),1),J("img",{src:"/static/YAOQI/3.png",alt:"Gift",class:"gift-icon clickable bounce-animation",loading:"lazy",onClick:r,title:"ÁÇπÂáªËøõÂÖ•Âπ∏ËøêËΩ¨Áõò"})]),J("div",No,[J("h3",Oo,Y(G(t)("invitePage.inviteFriendTitle")),1),J("p",Ho,Y(G(t)("invitePage.inviteFriendSubtitle")),1)])]),J("div",zo,[J("h2",Ko,Y(G(t)("invitePage.cexReferralTitle")),1),J("p",Vo,Y(G(t)("invitePage.cexReferralDesc")),1),J("p",Qo,Y(G(t)("invitePage.cexReferralLevels")),1),J("p",Xo,Y(G(t)("invitePage.cexReferralExample")),1)]),J("div",Jo,[J("h2",Yo,Y(G(t)("invitePage.dexReferralTitle")),1),J("p",Go,Y(G(t)("invitePage.dexReferralDesc")),1),J("p",Zo,Y(G(t)("invitePage.dexLevel1")),1),J("p",en,Y(G(t)("invitePage.dexLevel2")),1),J("p",an,Y(G(t)("invitePage.dexLevel3")),1)])]),J("div",tn,[J("div",sn,[J("span",ln,Y(y.value),1)]),J("div",{class:"anniu",onClick:D},[...a[4]||(a[4]=[J("img",{src:"/static/YAOQI/6.png",alt:"Copy",class:"animg",loading:"lazy"},null,-1)])]),Q(ie,{name:"fade"},{default:ne(()=>[v.value?(ee(),V("div",on," ‚úì "+Y(G(t)("invitePage.copySuccess")),1)):ae("",!0)]),_:1})]),J("div",nn,[J("div",rn,[J("div",cn,[J("p",dn,"$"+Y(d.value.teamDailyIncome),1),J("p",un,Y(G(t)("invitePage.dailyTotalIncome")),1)])]),J("div",vn,[J("div",pn,[J("p",gn,Y(d.value.teamMembers),1),J("p",mn,Y(G(t)("invitePage.teamMember")),1)])])]),J("div",fn,[J("div",wn,[J("div",yn,[J("p",hn,"$"+Y(d.value.totalRecharge),1),J("p",bn,Y(G(t)("invitePage.totalRecharge")),1)])]),J("div",Pn,[J("div",kn,[J("p",_n,Y(d.value.directMembers),1),J("p",xn,Y(G(t)("invitePage.directMembers")),1)])])]),J("div",Sn,[J("div",Cn,[J("div",Dn,[J("p",Tn,"$"+Y(d.value.totalWithdrawals),1),J("p",Fn,Y(G(t)("invitePage.totalWithdrawals")),1)])]),J("div",An,[J("div",Ln,[J("p",$n,"$"+Y(d.value.totalPerformance),1),J("p",Rn,Y(G(t)("invitePage.totalPerformance")),1)])])]),J("div",qn,[J("div",{class:"item1111 item-equal clickable-card",onClick:k},[J("div",En,[J("p",In,"$"+Y(d.value.totalReferralReward),1),J("p",Bn,Y(G(t)("invitePage.totalReferralReward")),1),J("span",Un,Y(G(t)("invitePage.clickToViewDetails")||"Click to view details")+" ‚Ä∫",1)])]),J("div",jn,[J("div",Wn,[J("p",Mn,"$"+Y(d.value.totalTeamReward),1),J("p",Nn,Y(G(t)("invitePage.totalTeamReward")),1)])])]),p.value?(ee(),V("div",{key:0,class:"referral-rewards-overlay",onClick:oe(_,["self"])},[J("div",On,[J("div",Hn,[J("h3",zn,Y(G(t)("invitePage.referralRewardsDetail")||"Referral Rewards Detail"),1),J("button",{class:"popup-close",onClick:_},"√ó")]),J("div",Kn,[m.value?(ee(),V("div",Vn,[a[5]||(a[5]=J("span",{class:"loading-spinner"},null,-1)),J("p",null,Y(G(t)("common.loading")||"Loading..."),1)])):0===g.value.length?(ee(),V("div",Qn,[J("p",null,Y(G(t)("invitePage.noReferralRecords")||"No referral rewards yet"),1)])):(ee(),V("div",Xn,[(ee(!0),V(te,null,se(g.value,e=>{return ee(),V("div",{key:e.id,class:"reward-record-card"},[J("div",Jn,[J("span",Yn,Y("quantify"===e.source_type?G(t)("invitePage.quantifyReward")||"Quantify Reward":G(t)("invitePage.maturityReward")||"Maturity Reward"),1),J("span",Gn,"Level "+Y(e.level),1)]),J("div",Zn,[J("div",ei,[J("span",ai,Y(G(t)("invitePage.fromUser")||"From")+": "+Y((a=e.from_wallet,!a||a.length<15?a:`${a.slice(0,6)}...${a.slice(-4)}`)),1),e.robot_name?(ee(),V("span",ti,Y(e.robot_name),1)):ae("",!0),J("span",si,Y(S(e.created_at)),1)]),J("div",li,"+"+Y(e.reward_amount)+" USDT",1)])]);var a}),128))]))])])])):ae("",!0),J("div",{class:"eighth-card",onClick:P},[a[6]||(a[6]=J("img",{src:"/static/two/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A0%87%E7%AD%BE%E9%A1%B5%E5%9B%BE%E6%A0%87.png",alt:"Community",class:"community-icon"},null,-1)),J("span",oi,Y(G(t)("invitePage.communityMemberDetails")),1)]),Q(i),Q(F,{visible:n.value,onClose:c},null,8,["visible"])]))}},[["__scopeId","data-v-d8f07957"]]),ii=Object.freeze(Object.defineProperty({__proto__:null,default:ni},Symbol.toStringTag,{value:"Module"})),ri={class:"content-container"},ci={class:"title-wrapper"},di={class:"broker-title"},ui={class:"level-card-wrapper"},vi={class:"level-title-badge level-1-badge"},pi={class:"level-title-text"},gi={class:"level-card"},mi={class:"level-content"},fi={class:"level-text"},wi={class:"level-text"},yi={class:"level-card-wrapper"},hi={class:"level-title-badge level-2-badge"},bi={class:"level-title-text"},Pi={class:"level-card"},ki={class:"level-content"},_i={class:"level-text"},xi={class:"level-text"},Si={class:"level-card-wrapper"},Ci={class:"level-title-badge level-3-badge"},Di={class:"level-title-text"},Ti={class:"level-card"},Fi={class:"level-content"},Ai={class:"level-text"},Li={class:"level-text"},$i={class:"level-card-wrapper"},Ri={class:"level-title-badge level-4-badge"},qi={class:"level-title-text"},Ei={class:"level-card"},Ii={class:"level-content"},Bi={class:"level-text"},Ui={class:"level-text"},ji={class:"level-card-wrapper"},Wi={class:"level-title-badge level-5-badge"},Mi={class:"level-title-text"},Ni={class:"level-card"},Oi={class:"level-content"},Hi={class:"level-text"},zi={class:"level-text"},Ki={class:"note-wrapper"},Vi={class:"note-card"},Qi={class:"note-text"},Xi=e({__name:"LevelIntroduction",setup(e){const a=Z(),{t:t}=M(),s=()=>{window.history.length>1?a.back():a.push("/invite")};return(e,a)=>(ee(),V("div",{class:"level-introduction-page",onClick:s},[J("div",ri,[a[0]||(a[0]=J("div",{class:"icon-wrapper"},[J("img",{src:mo,alt:"Broker System Icon",class:"broker-icon"})],-1)),J("div",ci,[J("h1",di,Y(G(t)("levelPage.title")),1)]),J("div",ui,[J("div",vi,[J("span",pi,Y(G(t)("levelPage.level1")),1)]),J("div",gi,[J("div",mi,[J("p",fi,[J("strong",null,Y(G(t)("levelPage.conditions"))+":",1),ve(" "+Y(G(t)("levelPage.level1Conditions")),1)]),J("p",wi,[J("strong",null,Y(G(t)("levelPage.salary"))+":",1),ve(" "+Y(G(t)("levelPage.level1Salary")),1)])])])]),J("div",yi,[J("div",hi,[J("span",bi,Y(G(t)("levelPage.level2")),1)]),J("div",Pi,[J("div",ki,[J("p",_i,[J("strong",null,Y(G(t)("levelPage.conditions"))+":",1),ve(" "+Y(G(t)("levelPage.level2Conditions")),1)]),J("p",xi,[J("strong",null,Y(G(t)("levelPage.salary"))+":",1),ve(" "+Y(G(t)("levelPage.level2Salary")),1)])])])]),J("div",Si,[J("div",Ci,[J("span",Di,Y(G(t)("levelPage.level3")),1)]),J("div",Ti,[J("div",Fi,[J("p",Ai,[J("strong",null,Y(G(t)("levelPage.conditions"))+":",1),ve(" "+Y(G(t)("levelPage.level3Conditions")),1)]),J("p",Li,[J("strong",null,Y(G(t)("levelPage.salary"))+":",1),ve(" "+Y(G(t)("levelPage.level3Salary")),1)])])])]),J("div",$i,[J("div",Ri,[J("span",qi,Y(G(t)("levelPage.level4")),1)]),J("div",Ei,[J("div",Ii,[J("p",Bi,[J("strong",null,Y(G(t)("levelPage.conditions"))+":",1),ve(" "+Y(G(t)("levelPage.level4Conditions")),1)]),J("p",Ui,[J("strong",null,Y(G(t)("levelPage.salary"))+":",1),ve(" "+Y(G(t)("levelPage.level4Salary")),1)])])])]),J("div",ji,[J("div",Wi,[J("span",Mi,Y(G(t)("levelPage.level5")),1)]),J("div",Ni,[J("div",Oi,[J("p",Hi,[J("strong",null,Y(G(t)("levelPage.conditions"))+":",1),ve(" "+Y(G(t)("levelPage.level5Conditions")),1)]),J("p",zi,[J("strong",null,Y(G(t)("levelPage.salary"))+":",1),ve(" "+Y(G(t)("levelPage.level5Salary")),1)])])])]),J("div",Ki,[J("div",Vi,[J("p",Qi,[J("strong",null,Y(G(t)("levelPage.note"))+":",1),ve(" "+Y(G(t)("levelPage.noteContent")),1)])])])])]))}},[["__scopeId","data-v-10426dc0"]]),Ji=Object.freeze(Object.defineProperty({__proto__:null,default:Xi},Symbol.toStringTag,{value:"Module"})),Yi={class:"top-navigation"},Gi={class:"nav-container"},Zi={class:"nav-center"},er={class:"page-title"},ar={class:"content-wrapper"},tr={key:0,class:"loading-container"},sr={class:"loading-text"},lr={key:1,class:"error-container"},or={class:"error-text"},nr={key:2,class:"levels-container"},ir={class:"level-header"},rr={class:"level-title"},cr={class:"level-badge"},dr={class:"level-stats"},ur={class:"stat-item"},vr={class:"stat-label"},pr={class:"stat-value"},gr={class:"stat-item"},mr={class:"stat-label"},fr={class:"stat-value"},wr=["onClick","disabled"],yr=e({__name:"CommunityMembers",setup(e){const t=Z(),{t:s}=M(),l=a();let o=null;const n=N([{id:1,count:0,totalInvestment:"0.0000",rewardPercentage:"30%"},{id:2,count:0,totalInvestment:"0.0000",rewardPercentage:"10%"},{id:3,count:0,totalInvestment:"0.0000",rewardPercentage:"5%"},{id:4,count:0,totalInvestment:"0.0000",rewardPercentage:"1%"},{id:5,count:0,totalInvestment:"0.0000",rewardPercentage:"1%"},{id:6,count:0,totalInvestment:"0.0000",rewardPercentage:"1%"},{id:7,count:0,totalInvestment:"0.0000",rewardPercentage:"1%"},{id:8,count:0,totalInvestment:"0.0000",rewardPercentage:"1%"}]),i=N(!1),r=N(null),c=async()=>{if(l.isConnected&&l.walletAddress){i.value=!0,r.value=null;try{const e="https://bocail.com",a=await fetch(`${e}/api/invite/team-stats?wallet_address=${l.walletAddress}`),t=await a.json();console.log("[CommunityMembers] Team stats response:",t),t.success&&t.data?t.data.forEach(e=>{const a=n.value.find(a=>a.id===e.level);a&&(a.count=e.count,a.totalInvestment=e.totalInvestment,a.rewardPercentage=e.rewardPercentage)}):r.value=t.message||s("communityPage.fetchError")}catch(e){console.error("[CommunityMembers] Fetch team stats error:",e),r.value=s("communityPage.fetchError")}finally{i.value=!1}}else r.value=s("communityPage.connectWalletFirst")},d=()=>{window.history.length>1?t.back():t.push("/invite")},u=()=>{window.history.length>1?t.back():t.push("/invite")},v=()=>{p(),o=setInterval(()=>{l.isConnected&&(console.log("[CommunityMembers] Ëá™Âä®Âà∑Êñ∞Êï∞ÊçÆ..."),c())},3e4)},p=()=>{o&&(clearInterval(o),o=null)},g=()=>{"visible"===document.visibilityState&&l.isConnected&&(console.log("[CommunityMembers] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),c())};return H(()=>{l.isConnected&&(c(),v()),document.addEventListener("visibilitychange",g)}),z(()=>{p(),document.removeEventListener("visibilitychange",g)}),K(()=>l.isConnected,e=>{e?(c(),v()):p()}),(e,a)=>(ee(),V("div",{class:"community-members-page",onClick:u},[J("div",Yi,[J("div",Gi,[J("div",{class:"nav-left",onClick:oe(d,["stop"])},[...a[0]||(a[0]=[J("svg",{class:"back-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[J("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),J("div",Zi,[J("h1",er,Y(G(s)("invitePage.communityMemberDetails")),1)]),a[1]||(a[1]=J("div",{class:"nav-right"},null,-1))])]),J("div",ar,[i.value?(ee(),V("div",tr,[a[2]||(a[2]=J("div",{class:"loading-spinner"},null,-1)),J("p",sr,Y(G(s)("communityPage.loading")),1)])):r.value?(ee(),V("div",lr,[J("p",or,Y(r.value),1),J("button",{class:"retry-btn",onClick:oe(c,["stop"])},Y(G(s)("communityPage.retry")),1)])):(ee(),V("div",nr,[(ee(!0),V(te,null,se(n.value,e=>(ee(),V("div",{key:e.id,class:"level-card"},[J("div",ir,[J("h3",rr,Y(G(s)("communityPage.levelEmployees",{level:e.id})),1),J("span",cr,Y(e.rewardPercentage),1)]),J("div",dr,[J("div",ur,[J("span",vr,Y(G(s)("communityPage.memberCount")),1),J("span",pr,Y(e.count),1)]),J("div",gr,[J("span",mr,Y(G(s)("communityPage.teamPerformance")),1),J("span",fr,Y(parseFloat(e.totalInvestment).toFixed(2))+" USDT",1)])]),J("button",{class:"community-details-btn",onClick:oe(a=>(e=>{console.log(`View level ${e} details`),t.push({path:"/invite",query:{level:e}})})(e.id),["stop"]),disabled:0===e.count},Y(G(s)("communityPage.communityDetails")),9,wr)]))),128))]))])]))}},[["__scopeId","data-v-7b3e13ec"]]),hr=Object.freeze(Object.defineProperty({__proto__:null,default:yr},Symbol.toStringTag,{value:"Module"}));function br(e,a,t){const s=t/24,l=a*s,o=e*(l/100),n=e+o;return{price:e,dailyProfitRate:a,durationDays:s,durationHours:t,totalReturnRate:Sr(l,2),totalProfit:Sr(o,4),totalReturn:Sr(n,4),quantifyTimes:1,formula:`${e} √ó (1 + ${l}%) = ${Sr(n,4)} USDT`}}function Pr(e){if(!e)return"-";const a=Math.floor(e/24),t=e%24;return e<24?`${e}Â∞èÊó∂`:0===t?`${a}Â§©`:`${a}Â§©${t}Â∞èÊó∂`}function kr(e,a=2){return null==e?"-":Number(e).toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})}function _r(e){return null==e?"-":`${Number(e).toFixed(2)}%`}function xr(e,a){return e<a?{valid:!1,error:`‰ΩôÈ¢ù‰∏çË∂≥ÔºåÂΩìÂâç‰ΩôÈ¢ù ${kr(e,4)} USDTÔºåÈúÄË¶Å ${kr(a,4)} USDT`,shortage:a-e}:{valid:!0}}function Sr(e,a){const t=Math.pow(10,a);return Math.round(e*t)/t}const Cr={class:"follow-page"},Dr={class:"total-card"},Tr={class:"card-header"},Fr={class:"card-title"},Ar={class:"total-amount"},Lr={class:"card-subtitle"},$r={class:"card-description"},Rr={class:"robot-tabs"},qr=["onClick"],Er={class:"content-container"},Ir={key:"grid",class:"robot-list"},Br={key:0,class:"loading-state"},Ur={class:"loading-text"},jr={class:"robot-header"},Wr={class:"robot-name"},Mr={class:"robot-info"},Nr={class:"info-row"},Or={class:"info-label"},Hr={class:"info-value"},zr={class:"info-row"},Kr={class:"info-label"},Vr={class:"info-value"},Qr={class:"info-row"},Xr={class:"info-label"},Jr={class:"info-value"},Yr={class:"info-row"},Gr={class:"info-label"},Zr={class:"info-value"},ec={class:"info-row"},ac={class:"info-label"},tc={class:"info-value"},sc={class:"robot-footer"},lc={class:"robot-price"},oc={class:"price-amount"},nc=["disabled","onClick"],ic={key:"high",class:"robot-list"},rc={key:0,class:"loading-state"},cc={class:"loading-text"},dc={class:"robot-header"},uc={class:"robot-name"},vc={class:"robot-info"},pc={class:"info-row"},gc={class:"info-label"},mc={class:"info-value"},fc={class:"info-row"},wc={class:"info-label"},yc={class:"info-value"},hc={class:"info-row"},bc={class:"info-label"},Pc={class:"info-value"},kc={class:"info-row"},_c={class:"info-label"},xc={class:"info-value"},Sc={class:"info-row"},Cc={class:"info-label"},Dc={class:"robot-footer"},Tc={class:"robot-price"},Fc={class:"price-amount price-underline"},Ac=["disabled","onClick"],Lc={key:"my",class:"robot-list"},$c={key:0,class:"empty-state"},Rc={class:"empty-text"},qc={key:"expired",class:"robot-list"},Ec={key:0,class:"empty-state"},Ic={class:"empty-text"},Bc={class:"prompt-title"},Uc={class:"prompt-content"},jc={class:"prompt-buttons"},Wc={class:"prompt-title"},Mc={class:"prompt-content"},Nc={class:"prompt-buttons"},Oc={class:"prompt-title"},Hc={class:"robot-info-summary"},zc={class:"expected-return"},Kc={class:"highlight"},Vc={class:"amount-input-group"},Qc=["placeholder"],Xc={key:0,class:"amount-error"},Jc={class:"prompt-buttons"},Yc=146503014.41,Gc=e({__name:"Follow",setup(e){const{t:s}=M(),l=Z(),o=a(),n=N([]),r=N([]),c=N(!1),d=N(!1);let u=null;const v=N("grid"),p=N(!1),g=N(!1),m=N(!1),f=N(null),w=N(""),y=N(""),h=N(null),b=O(()=>h.value?`${kr(h.value.totalProfit,2)} USDT (${_r(h.value.totalReturnRate)})`:"-"),P=N([]),k=N([]),_=re({}),x=re({}),S=re({}),T=re({}),F=re({}),R=re({}),q=N([]),E=async()=>{c.value=!0;try{const e=await fetch("/api/robot/config?type=grid"),a=await e.json();a.success&&a.data&&(n.value=a.data.map(e=>{const a=function(e,a,t){const s=t/24,l=e*(a/100),o=l*s,n=e+o,i=a*s;return{price:e,dailyProfitRate:a,durationDays:s,durationHours:t,dailyEarnings:Sr(l,4),totalProfit:Sr(o,2),totalReturn:Sr(n,2),totalReturnRate:Sr(i,2),quantifyTimes:s,formula:`${e} √ó ${a}% √ó ${s}Â§© = ${Sr(o,2)} USDT`}}(e.price,e.daily_profit,e.duration_hours);return{...e,calc:a,displayPrice:kr(e.price,0),displayDuration:Pr(e.duration_hours),displayDailyProfit:_r(e.daily_profit),displayTotalReturn:kr(a.totalProfit,0)+" USDT"}}),console.log("[Follow] ‚úÖ Grid robots loaded:",n.value.length))}catch(e){console.error("[Follow] Failed to load grid robots:",e)}finally{c.value=!1}},I=()=>{if(!f.value||!w.value)return void(h.value=null);const e=parseFloat(w.value);isNaN(e)||e<=0?h.value=null:h.value=br(e,f.value.daily_profit,f.value.duration_hours)},B=O(()=>[{id:"grid",label:s("followPage.tabs.gridRobots")},{id:"high",label:s("followPage.tabs.highRobots")},{id:"my",label:s("followPage.tabs.myRobot")},{id:"expired",label:s("followPage.tabs.expiredRobot")}]),U=N(Yc),j=N(0),W=O(()=>j.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}));let X=null;const de=async()=>{try{const e=await fetch("/api/platform/total-investments",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`API responded with status ${e.status}`);const a=await e.json();if(a.success&&a.data&&a.data.follow_page_total){const e=parseFloat(a.data.follow_page_total)||0;U.value=Yc+e,console.log("[Follow] ‚úÖ Total amount loaded:",{simulated:Yc.toLocaleString(),realUser:e.toLocaleString(),total:U.value.toLocaleString()})}else console.warn("[Follow] ‚ö†Ô∏è API response invalid, using simulated base only"),U.value=Yc}catch(e){console.warn("[Follow] ‚ö†Ô∏è Failed to load real user investment, using simulated base only:",e.message),U.value=Yc}},ue=()=>{X=setInterval(()=>{const e=Math.floor(1e4*Math.random())+1e3;(e=>{const a=j.value,t=(e-a)/60;let s=0;const l=setInterval(()=>{s++,j.value+=t,s>=60&&(j.value=e,clearInterval(l))},2e3/60)})(j.value+e)},1e4)},me=()=>{l.push("/robot/caption")},fe=async()=>{if(!f.value)return;const e=parseFloat(w.value),{name:a,min_price:t,max_price:l}=f.value,n=function(e,a,t){return isNaN(e)||e<=0?{valid:!1,error:"ËØ∑ËæìÂÖ•ÊúâÊïàÈáëÈ¢ù"}:e<a?{valid:!1,error:`ÊúÄ‰ΩéÊäïÂÖ•ÈáëÈ¢ù‰∏∫ ${a} USDT`}:e>t?{valid:!1,error:`ÊúÄÈ´òÊäïÂÖ•ÈáëÈ¢ù‰∏∫ ${t} USDT`}:{valid:!0}}(e,t,l);if(n.valid)try{const t=await fetch(`/api/user/balance?wallet_address=${o.walletAddress}`),l=await t.json();if(!l.success)return void(y.value=s("common.error"));const n=parseFloat(l.data.usdt_balance)||0;if(!xr(n,e).valid)return void(y.value=s("followPage.insufficientBalanceDetail",{amount:n.toFixed(4)}));m.value=!1,await we(e,a)}catch(i){console.error("[Follow] Error:",i),y.value=s("followPage.purchaseFailed")}else y.value=n.error},we=async(e,a)=>{try{await C();const t=await D("/api/robot/purchase",{wallet_address:o.walletAddress,robot_name:a,price:e});t.success?(o.setUsdtBalance(t.data.new_balance),ye.alert(s("followPage.purchaseSuccess",{name:a}),s("followPage.promptTitle"),{confirmButtonText:s("followPage.sureBtn")||"OK",type:"success"}),await _e(),await Se(),v.value="my"):t.data?.daily_limit_reached?alert(s("followPage.dailyLimitReached")||"You can only purchase one of this robot per day"):alert(t.message||s("followPage.purchaseFailed"))}catch(t){console.error("[Follow] Purchase error:",t),alert(s("followPage.purchaseFailed"))}},he=()=>{p.value=!1},be=()=>{g.value=!1},Pe=()=>{p.value=!1,g.value=!1,l.push("/wallet")},ke=()=>{m.value=!1,f.value=null,w.value="",y.value="",h.value=null},_e=async()=>{if(o.isConnected)try{const e=await fetch(`/api/follow/today-purchases?wallet_address=${o.walletAddress}`),a=await e.json();a.success&&(q.value=a.data.purchased_today||[])}catch(e){console.error("[Follow] Failed to fetch today purchases:",e),q.value=[]}else q.value=[]},xe=e=>q.value.includes(e),Se=async()=>{if(o.isConnected)try{const e=await fetch(`/api/follow/my?wallet_address=${o.walletAddress}`),a=await e.json();if(a.success){P.value=a.data||[];for(const e of P.value)await De(e.id,e.robot_type)}}catch(e){console.error("[Follow] Failed to fetch my robots:",e),P.value=[]}else P.value=[]},Ce=async()=>{if(o.isConnected)try{const e=await fetch(`/api/follow/expired?wallet_address=${o.walletAddress}`),a=await e.json();a.success&&(k.value=a.data||[])}catch(e){console.error("[Follow] Failed to fetch expired robots:",e),k.value=[]}else k.value=[]},De=async(e,a)=>{try{const a=await fetch(`/api/robot/quantify-status?wallet_address=${o.walletAddress}&robot_purchase_id=${e}`),t=await a.json();t.success&&(x[e]=t.data.quantified_today,T[e]=t.data.next_quantify_time||"",F[e]=parseFloat(t.data.hours_remaining)||0)}catch(t){console.error("[Follow] Failed to check quantify status:",t)}},Te=async e=>{if(!_[e.id]){_[e.id]=!0,delete R[e.id];try{await C();const a=await fetch("/api/robot/quantify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:o.walletAddress,robot_purchase_id:e.id})}),t=await a.json();if(t.success){if(x[e.id]=!0,"grid"===e.robot_type){const a=new Date;a.setHours(a.getHours()+24);const t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0"),o=String(a.getHours()).padStart(2,"0"),n=String(a.getMinutes()).padStart(2,"0"),i=String(a.getSeconds()).padStart(2,"0");T[e.id]=`${t}-${s}-${l} ${o}:${n}:${i}`,F[e.id]=24}t.data.earnings&&(S[e.id]=parseFloat(t.data.earnings)),"high"!==e.robot_type&&o.setUsdtBalance(t.data.new_balance),await Se(),R[e.id]={success:!0,robotType:e.robot_type}}else t.data?.already_quantified?(x[e.id]=!0,t.data.next_quantify_time&&(T[e.id]=t.data.next_quantify_time),t.data.hours_remaining&&(F[e.id]=parseFloat(t.data.hours_remaining)),R[e.id]={success:!1,message:t.message||s("followPage.alreadyQuantified")||s("robotPage.alreadyQuantified")}):R[e.id]={success:!1,message:t.message||s("followPage.quantifyFailed")}}catch(a){console.error("[Follow] Quantify error:",a),R[e.id]={success:!1,message:s("followPage.quantifyFailed")}}}},Fe=e=>{_[e]=!1;const a=R[e];a&&!a.success&&alert(a.message),delete R[e]};K(v,async e=>{"my"===e?await Se():"expired"===e?await Ce():"grid"===e?(0===n.value.length&&await E(),await _e()):"high"===e&&(0===r.value.length&&await(async()=>{d.value=!0;try{const e=await fetch("/api/robot/config?type=high"),a=await e.json();a.success&&a.data&&(r.value=a.data.map(e=>{const a=br(e.min_price,e.daily_profit,e.duration_hours);return{...e,calc:a,displayPrice:(t=e.min_price,s=e.max_price,`${kr(t,0)}-${kr(s,0)}`),displayDuration:Pr(e.duration_hours),displayDailyProfit:_r(e.daily_profit),displayTotalReturn:_r(a.totalReturnRate)};var t,s}),console.log("[Follow] ‚úÖ High robots loaded:",r.value.length))}catch(e){console.error("[Follow] Failed to load high robots:",e)}finally{d.value=!1}})(),await _e())}),K(()=>o.isConnected,async e=>{e?(await _e(),"my"===v.value?await Se():"expired"===v.value&&await Ce(),Le()):$e()});const Ae=async()=>{o.isConnected&&(console.log("[Follow] Ëá™Âä®Âà∑Êñ∞Êï∞ÊçÆ..."),await Promise.all([de(),_e(),Se(),Ce()]))},Le=()=>{$e(),u=setInterval(()=>{o.isConnected&&Ae()},3e4)},$e=()=>{u&&(clearInterval(u),u=null)},Re=()=>{"visible"===document.visibilityState&&o.isConnected&&(console.log("[Follow] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),Ae())};return H(async()=>{await de(),await E();const e=1e8,a=performance.now(),t=s=>{const l=s-a,o=Math.min(l/2e3,1),n=(i=o,1-Math.pow(1-i,4));var i;j.value=e+(U.value-e)*n,o<1?requestAnimationFrame(t):(j.value=U.value,ue())};requestAnimationFrame(t),document.addEventListener("visibilitychange",Re),o.isConnected&&(_e(),"my"===v.value&&Se(),Le())}),z(()=>{X&&clearInterval(X),$e(),document.removeEventListener("visibilitychange",Re)}),(e,a)=>(ee(),V("div",Cr,[Q(t),J("section",Dr,[J("div",Tr,[J("h2",Fr,Y(G(s)("followPage.totalValueLabel")),1),J("span",{class:"badge",onClick:me},Y(G(s)("followPage.captionLabel")),1)]),J("div",Ar,"$ "+Y(W.value),1),J("h3",Lr,Y(G(s)("followPage.aiRobotTitle")),1),J("p",$r,Y(G(s)("followPage.description")),1)]),J("section",Rr,[(ee(!0),V(te,null,se(B.value,e=>(ee(),V("button",{key:e.id,class:le(["tab-button",{active:v.value===e.id}]),onClick:a=>v.value=e.id},Y(e.label),11,qr))),128))]),J("section",Er,[Q(ie,{name:"fade",mode:"out-in"},{default:ne(()=>["grid"===v.value?(ee(),V("div",Ir,[c.value?(ee(),V("div",Br,[J("p",Ur,Y(G(s)("common.loading")),1)])):(ee(!0),V(te,{key:1},se(n.value,e=>{return ee(),V("div",{key:e.robot_id,class:"robot-card"},[J("div",jr,[a[4]||(a[4]=J("img",{src:A,alt:"Binance",class:"robot-logo"},null,-1)),J("h3",Wr,Y(e.name),1)]),J("div",Mr,[J("div",Nr,[J("span",Or,Y(G(s)("followPage.arbitrageOrders")),1),J("span",Hr,Y(e.arbitrage_orders),1)]),J("div",zr,[J("span",Kr,Y(G(s)("followPage.dailyProfit")),1),J("span",Vr,Y(e.displayDailyProfit),1)]),J("div",Qr,[J("span",Xr,Y(G(s)("followPage.totalReturnMaturity")),1),J("span",Jr,Y(e.displayTotalReturn),1)]),J("div",Yr,[J("span",Gr,Y(G(s)("followPage.operationCycle")),1),J("span",Zr,Y(e.displayDuration),1)]),J("div",ec,[J("span",ac,Y(G(s)("followPage.limitedUnits")),1),J("span",tc,Y(e.limit),1)])]),J("div",sc,[J("div",lc,[J("span",oc,Y((t=e.price,kr(t,0))),1),a[5]||(a[5]=J("span",{class:"price-currency"},"USDT",-1))]),J("button",{class:le(["enable-button",{purchased:xe(e.name)}]),disabled:xe(e.name),onClick:a=>(async(e=0,a="")=>{if(!o.isConnected)return console.log("[Follow] Wallet not connected"),void(p.value=!0);try{const t=await fetch(`/api/user/balance?wallet_address=${o.walletAddress}`),s=await t.json();if(!s.success)return console.log("[Follow] Failed to fetch balance"),void(p.value=!0);const l=parseFloat(s.data.usdt_balance)||0;if(!xr(l,e).valid)return console.log("[Follow] Insufficient USDT balance:",l,"required:",e),void(g.value=!0);console.log("[Follow] Purchasing robot:",a,"price:",e),await we(e,a)}catch(t){console.error("[Follow] Error checking balance:",t),p.value=!0}})(e.price,e.name)},Y(xe(e.name)?G(s)("followPage.purchased"):G(s)("followPage.openButton")),11,nc)])]);var t}),128))])):"high"===v.value?(ee(),V("div",ic,[d.value?(ee(),V("div",rc,[J("p",cc,Y(G(s)("common.loading")),1)])):(ee(!0),V(te,{key:1},se(r.value,e=>(ee(),V("div",{key:e.robot_id,class:"robot-card"},[J("div",dc,[a[6]||(a[6]=J("img",{src:A,alt:"Binance",class:"robot-logo"},null,-1)),J("h3",uc,Y(e.name),1)]),J("div",vc,[J("div",pc,[J("span",gc,Y(G(s)("followPage.arbitrageOrders")),1),J("span",mc,Y(e.arbitrage_orders),1)]),J("div",fc,[J("span",wc,Y(G(s)("followPage.dailyProfit")),1),J("span",yc,Y(e.displayDailyProfit),1)]),J("div",hc,[J("span",bc,Y(G(s)("followPage.totalReturnMaturity")),1),J("span",Pc,Y(e.displayTotalReturn),1)]),J("div",kc,[J("span",_c,Y(G(s)("followPage.operationCycle")),1),J("span",xc,Y(e.displayDuration),1)]),J("div",Sc,[J("span",Cc,Y(G(s)("followPage.depositReturnNote")),1)])]),J("div",Dc,[J("div",Tc,[J("span",Fc,Y(e.displayPrice),1),a[7]||(a[7]=J("span",{class:"price-currency"},"USDT",-1))]),J("button",{class:le(["enable-button",{purchased:xe(e.name)}]),disabled:xe(e.name),onClick:a=>(e=>{if(!o.isConnected)return console.log("[Follow] Wallet not connected"),void(p.value=!0);f.value=e,w.value="",y.value="",h.value=null,m.value=!0})(e)},Y(xe(e.name)?G(s)("followPage.purchased"):G(s)("followPage.openButton")),11,Ac)])]))),128))])):"my"===v.value?(ee(),V("div",Lc,[0===P.value.length?(ee(),V("div",$c,[J("p",Rc,Y(G(s)("followPage.noMyRobots")),1)])):ae("",!0),(ee(!0),V(te,null,se(P.value,e=>(ee(),ce(L,{key:e.id,robot:e,"is-quantifying":_[e.id],"quantified-today":x[e.id],"is-quantified":1===e.is_quantified,"last-earnings":S[e.id]||0,"next-quantify-time":T[e.id]||"","hours-remaining":F[e.id]||0,onQuantify:Te,onAnimationComplete:Fe},null,8,["robot","is-quantifying","quantified-today","is-quantified","last-earnings","next-quantify-time","hours-remaining"]))),128))])):"expired"===v.value?(ee(),V("div",qc,[0===k.value.length?(ee(),V("div",Ec,[J("p",Ic,Y(G(s)("followPage.noExpiredRobots")),1)])):ae("",!0),(ee(!0),V(te,null,se(k.value,e=>(ee(),ce($,{key:e.id,robot:e},null,8,["robot"]))),128))])):ae("",!0)]),_:1})]),Q(i),p.value?(ee(),V("div",{key:0,class:"prompt-overlay",onClick:he},[J("div",{class:"prompt-container",onClick:a[0]||(a[0]=oe(()=>{},["stop"]))},[J("div",Bc,Y(G(s)("followPage.promptTitle")),1),J("div",Uc,Y(G(s)("followPage.walletNotExist")),1),J("div",jc,[J("button",{class:"btn-cancel",onClick:he},Y(G(s)("followPage.cancelBtn")),1),J("button",{class:"btn-sure",onClick:Pe},Y(G(s)("followPage.goToWallet")),1)])])])):ae("",!0),g.value?(ee(),V("div",{key:1,class:"prompt-overlay",onClick:be},[J("div",{class:"prompt-container",onClick:a[1]||(a[1]=oe(()=>{},["stop"]))},[J("div",Wc,Y(G(s)("followPage.promptTitle")),1),J("div",Mc,Y(G(s)("followPage.insufficientBalance")),1),J("div",Nc,[J("button",{class:"btn-cancel",onClick:be},Y(G(s)("followPage.cancelBtn")),1),J("button",{class:"btn-sure",onClick:Pe},Y(G(s)("followPage.depositBtn")),1)])])])):ae("",!0),m.value?(ee(),V("div",{key:2,class:"prompt-overlay",onClick:ke},[J("div",{class:"amount-input-container",onClick:a[3]||(a[3]=oe(()=>{},["stop"]))},[J("div",Oc,Y(f.value?.name),1),J("div",Hc,[J("p",null,Y(G(s)("followPage.dailyProfitLabel"))+": "+Y(f.value?.displayDailyProfit),1),J("p",null,Y(G(s)("followPage.durationLabel"))+": "+Y(f.value?.displayDuration),1),J("p",null,Y(G(s)("followPage.amountRangeLabel"))+": "+Y(f.value?.min_price)+" - "+Y(f.value?.max_price)+" USDT",1),J("p",zc,[ve(Y(G(s)("followPage.expectedReturn")||"È¢ÑÊúüÊî∂Áõä")+": ",1),J("span",Kc,Y(b.value),1)])]),J("div",Vc,[pe(J("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>w.value=e),placeholder:G(s)("followPage.enterAmountPlaceholder"),class:"amount-input",onInput:I},null,40,Qc),[[ge,w.value]]),a[8]||(a[8]=J("span",{class:"amount-currency"},"USDT",-1))]),y.value?(ee(),V("p",Xc,Y(y.value),1)):ae("",!0),J("div",Jc,[J("button",{class:"btn-cancel",onClick:ke},Y(G(s)("followPage.cancelBtn")),1),J("button",{class:"btn-sure",onClick:fe},Y(G(s)("followPage.confirmBtn")),1)])])])):ae("",!0)]))}},[["__scopeId","data-v-ed8f56c4"]]),Zc=Object.freeze(Object.defineProperty({__proto__:null,default:Gc},Symbol.toStringTag,{value:"Module"}));function ed(e){return new be(e||0).isPositive()&&!new be(e||0).isZero()}function ad(e,a=4){try{return new be(e||0).toFixed(a)}catch{return"0.0000"}}function td(e,a,t,s="1"){"function"==typeof t&&function(e,a,t="1"){try{const s=new be(e||0);return new be(a||0).minus(s).abs().greaterThanOrEqualTo(new be(t||0))}catch{return!0}}(e,a,s)&&t(a)}be.set({precision:20,rounding:be.ROUND_DOWN,toExpNeg:-9,toExpPos:21});const sd={class:"assets-page"},ld={class:"page-container"},od={class:"card-stack-wrapper"},nd={class:"one-view"},id={class:"card-header"},rd={class:"equity-title"},cd={class:"equity-amount"},dd={class:"amount-value"},ud={key:0,class:"loading-indicator"},vd={class:"pnl-label"},pd={class:"pnl-label"},gd={class:"pnl-value positive"},md={class:"pnl-label"},fd={class:"pnl-value positive"},wd={class:"asset-list"},yd={class:"asset-item"},hd={class:"asset-right"},bd={class:"asset-balance"},Pd={class:"asset-item"},kd={class:"asset-right"},_d={class:"asset-balance"},xd={class:"action-buttons-container"},Sd={class:"btn-text"},Cd={class:"btn-text"},Dd={class:"two-view",style:{position:"relative"}},Td={class:"exchange-title"},Fd={class:"exchange-input-group"},Ad={class:"input-left"},Ld={class:"input-balance"},$d={class:"balance-animated"},Rd={class:"input-right"},qd={class:"exchange-input-group"},Ed={class:"input-left"},Id={class:"input-balance"},Bd={class:"balance-animated"},Ud={class:"input-right"},jd={class:"exchange-price-row"},Wd={class:"price-label"},Md={class:"price-value"},Nd={key:0,class:"exchange-limit-row"},Od={class:"limit-label"},Hd={class:"limit-value"},zd={class:"exchange-buttons-wrapper"},Kd={class:"exchange-alert-box"},Vd={class:"alert-icon"},Qd={key:0},Xd={key:1},Jd={class:"alert-message"},Yd={key:2,class:"swap-loading-overlay"},Gd={class:"cards-grid-container"},Zd={class:"card-title"},eu={class:"card-title"},au={class:"card-title"},tu={class:"card-title"},su={key:0,class:"safe-loading"},lu={class:"modal-title"},ou={class:"modal-subtitle"},nu={class:"code-input-container"},iu=["onUpdate:modelValue","onInput","onKeydown"],ru={key:0,class:"safe-error"},cu={class:"lock-balance"},du={class:"modal-buttons"},uu=["disabled"],vu={class:"modal-title"},pu={class:"safe-assets"},gu={class:"safe-asset-item"},mu={class:"safe-asset-value"},fu={class:"safe-asset-item"},wu={class:"safe-asset-value"},yu={class:"safe-actions"},hu={key:0,class:"doc-viewer-overlay"},bu={class:"doc-header"},Pu={class:"doc-header-title"},ku={class:"doc-gallery-inner"},_u=["src","alt","loading","onError"],xu=["src","title"],Su=["src","alt"],Cu={class:"details-drawer"},Du={class:"drawer-navigation"},Tu={class:"drawer-nav-container"},Fu={key:0,class:"drawer-wallet-text"},Au={key:1,class:"drawer-wallet-text"},Lu={class:"drawer-language-text"},$u=["onClick"],Ru={class:"drawer-lang-name"},qu={class:"drawer-header"},Eu={class:"header-content"},Iu=["src","alt"],Bu={class:"drawer-title-group"},Uu={class:"drawer-title"},ju={class:"drawer-subtitle"},Wu={class:"drawer-balance-info"},Mu={class:"drawer-balance-amount"},Nu={class:"drawer-balance-value"},Ou={class:"drawer-content"},Hu={key:0,class:"checkin-records"},zu={class:"tx-card-header"},Ku={class:"tx-type checkin"},Vu={class:"tx-status completed"},Qu={class:"tx-card-body"},Xu={class:"tx-info"},Ju={class:"tx-address"},Yu={class:"tx-time"},Gu={class:"tx-amount-wrap"},Zu={class:"tx-amount deposit"},ev={class:"tx-card-header"},av={class:"tx-type deposit"},tv={class:"tx-status completed"},sv={class:"tx-card-body"},lv={class:"tx-info"},ov={class:"tx-address"},nv={class:"tx-time"},iv={class:"tx-amount-wrap"},rv={class:"tx-amount deposit"},cv={class:"tx-amount withdraw"},dv={key:1,class:"no-records-text"},uv={key:1,class:"usdt-records"},vv={key:0,class:"records-section"},pv={class:"tx-card-header"},gv={class:"tx-type deposit"},mv={class:"tx-card-body"},fv={class:"tx-info"},wv={class:"tx-address"},yv={class:"tx-time"},hv={class:"tx-amount-wrap"},bv={class:"tx-amount deposit"},Pv={class:"tx-card-header"},kv={class:"tx-type withdraw"},_v={class:"tx-card-body"},xv={class:"tx-info"},Sv={class:"tx-address"},Cv={class:"tx-time"},Dv={class:"tx-amount-wrap"},Tv={class:"tx-amount withdraw"},Fv={class:"tx-card-footer"},Av={class:"tx-fee-row"},Lv={class:"tx-fee-label"},$v={class:"tx-fee-value"},Rv={class:"tx-actual-row"},qv={class:"tx-actual-label"},Ev={class:"tx-actual-value"},Iv={class:"tx-card-header"},Bv={class:"tx-type quantify"},Uv={class:"tx-status completed"},jv={class:"tx-card-body"},Wv={class:"tx-info"},Mv={class:"tx-address"},Nv={class:"tx-time"},Ov={class:"tx-amount-wrap"},Hv={class:"tx-amount deposit"},zv={class:"tx-card-header"},Kv={class:"tx-type referral"},Vv={class:"tx-status completed"},Qv={class:"tx-card-body"},Xv={class:"tx-info"},Jv={class:"tx-address"},Yv={class:"tx-time"},Gv={class:"tx-amount-wrap"},Zv={class:"tx-amount deposit"},ep={class:"tx-card-header"},ap={class:"tx-type deposit"},tp={class:"tx-status completed"},sp={class:"tx-card-body"},lp={class:"tx-info"},op={class:"tx-address"},np={class:"tx-time"},ip={class:"tx-amount-wrap"},rp={class:"tx-amount deposit"},cp={class:"tx-amount withdraw"},dp={class:"tx-card-header"},up={class:"tx-type team-reward"},vp={class:"tx-status completed"},pp={class:"tx-card-body"},gp={class:"tx-info"},mp={class:"tx-address"},fp={class:"tx-time"},wp={class:"tx-amount-wrap"},yp={class:"tx-amount deposit"},hp={key:1,class:"no-records-text"},bp=e({__name:"Assets",setup(e){const{t:t,locale:s}=M(),l=Z(),o=()=>{l.push("/invite")},n=a(),r=()=>!!(navigator.userAgent||"").toLowerCase().includes("tokenpocket")||B()&&"TokenPocket"===U();let c=null,d=0;const u=N(0),p=N(0),g=(e,a=4)=>{if(null==e||isNaN(e))return"0.0000";const t=String(e);if(t.includes("e")||t.includes("E")){const t=parseFloat(e);return isFinite(t)?t.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a}):"0.0000"}const s=parseFloat(e);return isFinite(s)?s>=1e15?(s/1e15).toFixed(2)+"Q":s>=1e12?(s/1e12).toFixed(2)+"T":s>=1e9?(s/1e9).toFixed(2)+"B":s>=1e6?(s/1e6).toFixed(2)+"M":s.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a}):"0.0000"},m=O(()=>g(u.value,4)),f=O(()=>g(p.value,4)),y=(e,a)=>{if(a>1e12||!isFinite(a))return void(e.value=a);const t=e.value,s=a-t;if(Math.abs(s)<1e-4)return void(e.value=a);const l=performance.now(),o=n=>{const i=n-l,r=Math.min(i/800,1),c=1-Math.pow(1-r,3);e.value=t+s*c,r<1?requestAnimationFrame(o):e.value=a};requestAnimationFrame(o)};K(()=>n.wldBalance,e=>{const a=parseFloat(e)||0;y(u,a)},{immediate:!0}),K(()=>n.usdtBalance,e=>{const a=parseFloat(e)||0;y(p,a)},{immediate:!0});const h=N(!1),b=N(!1),P=N(!1),k=N(["","","","","",""]),_=N([]),x=N({has_safe:!1,locked_usdt:"0.0000",locked_wld:"0.0000"}),S=N("verify"),C=N(!1),D=N(""),T=(e,a="USDT")=>{const s=t("assetsPage.operationFailed")||"Operation failed",l=String(e||"").trim();if(!l)return s;const o=l.toLowerCase();return o.includes("safe already exists")?t("assetsPage.safeAlreadyExists")||s:o.includes("safe not found")?t("assetsPage.safeNotFound")||s:o.includes("invalid password")?t("assetsPage.wrongPassword")||s:o.includes("password must be 6 digits")?t("assetsPage.enterSixDigit")||s:o.includes("invalid amount")?t("assetsPage.invalidAmount")||s:o.includes("insufficient locked balance")?t("assetsPage.insufficientLocked")||s:o.includes("insufficient balance")?t("assetsPage.insufficientBalance",{currency:a})||s:o.includes("invalid token")?t("assetsPage.invalidTokenType")||s:o.includes("balance record not found")?t("assetsPage.balanceNotFound")||s:(console.warn("[Assets][Safe] Unmapped API error:",l),s)},F=N(!1),A=N(""),L=N(""),$=N("image"),X=N(null),re=N(!1),de=N("USDT"),ue=N(!1),fe=N([]),we=N(0),ye=N([]),he=N([]),Pe=N([]),ke=N([]),_e=N([]),xe=N([]),Se=N(0),Ce=N(0),De=N(0),Te=N(0),Fe=N(0),Ae=N(!1),Le=N(0),$e=N("0.0000"),Re=N("0.0000"),qe=N(!1),Ee=N(!1),Ie=N("warning"),Be=N(""),Ue=N(!1),je=N(""),We=O(()=>Ue.value?"USDT":"WLD"),Me=O(()=>Ue.value?"WLD":"USDT"),Ne=O(()=>{const e=je.value||0;return ed(e)&&ed(Se.value)?function(e,a,t=!0){const s=new be(e||0),l=new be(a||0);return l.isZero()?"0.0000":(t?s.times(l):s.dividedBy(l)).toFixed(4)}(e,Se.value,"WLD"===We.value):"0.0000"}),Oe=()=>{console.log("[Exchange] Input changed:",je.value)},He=()=>{"WLD"===We.value?je.value=n.wldBalance:je.value=n.usdtBalance},ze=O(()=>{const e=parseFloat(Le.value)||0;return e>0?"+"+e.toFixed(2):e.toFixed(2)}),Ke=O(()=>{const e=[];return ye.value.forEach(a=>{e.push({...a,type:"deposit",timestamp:new Date(a.created_at).getTime()})}),he.value.forEach(a=>{e.push({...a,type:"withdraw",timestamp:new Date(a.created_at).getTime()})}),Pe.value.forEach(a=>{e.push({...a,type:"quantify",timestamp:new Date(a.created_at).getTime()})}),ke.value.forEach(a=>{e.push({...a,type:"referral",timestamp:new Date(a.created_at).getTime()})}),_e.value.forEach(a=>{e.push({...a,type:"team_reward",timestamp:new Date(a.created_at).getTime()})}),xe.value.forEach(a=>{e.push({...a,type:"exchange",timestamp:new Date(a.created_at).getTime()})}),e.sort((e,a)=>a.timestamp-e.timestamp)}),Ve=N([{code:"en",name:"English"},{code:"ar",name:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"},{code:"id",name:"Indonesia"},{code:"vi",name:"Ti·∫øng Vi·ªát"},{code:"fr",name:"Fran√ßais"},{code:"tr",name:"T√ºrk√ße"},{code:"zu",name:"Iingizimu Afrika"},{code:"es",name:"Espa√±a"},{code:"pt",name:"Portugal"},{code:"de",name:"Deutsch"},{code:"ms",name:"Melayu"},{code:"uk",name:"–£–∫—Ä–∞—ó–Ω–∞"},{code:"zh-tw",name:"ÁπÅÈ´î‰∏≠Êñá"}]),Qe=O(()=>{const e=Ve.value.find(e=>e.code===s.value);return e?e.name:"English"}),Xe=async()=>{if(n.isConnected){k.value=["","","","","",""],D.value="",C.value=!0;try{const e=await fetch(`/api/safe/status?wallet_address=${n.walletAddress}`),a=await e.json();a.success?(x.value=a.data,S.value=a.data.has_safe?"verify":"setup"):D.value=T(a.message)}catch(e){console.error("Ëé∑Âèñ‰øùÈô©ÁÆ±Áä∂ÊÄÅÂ§±Ë¥•:",e),D.value=t("assetsPage.networkError")||"Network error"}finally{C.value=!1}P.value=!0,setTimeout(()=>{_.value[0]&&_.value[0].focus()},100)}else alert(t("assetsPage.connectWalletFirst"))},Je=()=>{P.value=!1,k.value=["","","","","",""],D.value="",S.value="verify"},Ye=N({whitepaper:{url:"/static/documents/whitepaper",title:"White Paper",type:"gallery",pages:26,fallback:{url:"/static/documents/whitepaper.pdf",type:"pdf"}},msb:{url:"/static/documents/MSB.png",title:"MSB License",type:"image"},license:{url:"/static/documents/license.png",title:"Business License",type:"image"}}),Ge=N([]),Ze=N(0),ea=O(()=>{const e=Ge.value.length;if(!e)return[];const a=Ze.value>0?Ze.value:e;return Ge.value.slice(0,Math.min(e,a))});let aa=0;const ta=()=>{if("gallery"!==$.value)return;if(!r())return;const e=X.value;if(!e)return;const a=Ge.value.length;if(!a||Ze.value>=a)return;const t=Date.now();if(t-aa<200)return;e.scrollTop+e.clientHeight>=e.scrollHeight-800&&(aa=t,(()=>{const e=Ge.value.length;e&&(Ze.value<=0?Ze.value=Math.min(e,3):Ze.value>=e||(Ze.value=Math.min(e,Ze.value+3)))})())};let sa=null;const la=()=>{if(!r())return;const e=Ye.value.whitepaper?.fallback?.url;if(!e)return;const a=(()=>{if(null!==sa)return sa;try{const e=document.createElement("canvas");sa=e.toDataURL("image/webp").startsWith("data:image/webp")}catch(e){sa=!1}return sa})()?"webp":"png";for(const t of["01","02"]){const s=new Image;s.decoding="async",s.src=`${e}/page-${t}.${a}`}},oa=e=>{const a=Ye.value[e];if(a){L.value=a.title;let t=a.type,s=a.url,l=a.pages;if("whitepaper"===e&&r()&&"gallery"===a.fallback?.type&&(t=a.fallback.type,s=a.fallback.url,l=a.fallback.pages),$.value=t,"gallery"===t){Ge.value=Array.from({length:l||0},(e,a)=>{const t=String(a+1).padStart(2,"0");return`${s}/page-${t}.png`}),A.value="";const a=Ge.value.length;"whitepaper"===e&&r()?Ze.value=Math.min(a,3):Ze.value=a,aa=0}else A.value=s,Ge.value=[],Ze.value=0;F.value=!0,document.body.style.overflow="hidden","gallery"===t&&"whitepaper"===e&&r()&&setTimeout(()=>{X.value&&(X.value.scrollTop=0),ta()},0)}},na=()=>{F.value=!1,document.body.style.overflow="",Ze.value=0,Ge.value=[]},ia=async e=>{de.value=e,re.value=!0,"WLD"===e&&await Promise.all([ma(),ca(),ra()]),"USDT"===e&&await Promise.all([da(),ua(),va(),pa(),ga(),ra()])},ra=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/exchange/history?wallet_address=${e.toLowerCase()}&limit=20`),s=await t.json();console.log("[Assets] Exchange records response:",s),s.success?xe.value=s.data||[]:xe.value=[]}catch(a){console.error("Ëé∑ÂèñÈó™ÂÖëËÆ∞ÂΩïÂ§±Ë¥•:",a),xe.value=[]}else xe.value=[]},ca=async()=>{try{const e="https://bocail.com",a=await fetch(`${e}/api/market/ticker?symbols=["WLDUSDT"]`),t=await a.json();Array.isArray(t)&&t.length>0?we.value=parseFloat(t[0].lastPrice)||0:t.success&&t.data&&t.data.length>0&&(we.value=parseFloat(t.data[0].lastPrice)||0)}catch(e){console.error("Ëé∑ÂèñWLD‰ª∑Ê†ºÂ§±Ë¥•:",e),we.value=0}},da=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/deposit/history?wallet_address=${e.toLowerCase()}&limit=20`),s=await t.json();console.log("[Assets] Deposit records response:",s),s.success?ye.value=s.data||[]:ye.value=[]}catch(a){console.error("Ëé∑ÂèñÂÖÖÂÄºËÆ∞ÂΩïÂ§±Ë¥•:",a),ye.value=[]}else ye.value=[]},ua=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/withdraw/history?wallet_address=${e.toLowerCase()}&limit=20`),s=await t.json();console.log("[Assets] Withdraw records response:",s),s.success?he.value=s.data||[]:he.value=[]}catch(a){console.error("Ëé∑ÂèñÊèêÁé∞ËÆ∞ÂΩïÂ§±Ë¥•:",a),he.value=[]}else he.value=[]},va=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/robot/quantify-history?wallet_address=${e.toLowerCase()}&limit=20`),s=await t.json();console.log("[Assets] Quantify records response:",s),s.success?Pe.value=s.data.records||[]:Pe.value=[]}catch(a){console.error("Ëé∑ÂèñÈáèÂåñÊî∂ÁõäËÆ∞ÂΩïÂ§±Ë¥•:",a),Pe.value=[]}else Pe.value=[]},pa=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/referral-rewards/history?wallet_address=${e.toLowerCase()}&limit=20`),s=await t.json();console.log("[Assets] Referral records response:",s),s.success?ke.value=s.data||[]:ke.value=[]}catch(a){console.error("Ëé∑ÂèñÊé®ËçêÂ•ñÂä±ËÆ∞ÂΩïÂ§±Ë¥•:",a),ke.value=[]}else ke.value=[]},ga=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/team-rewards/history?wallet_address=${e.toLowerCase()}&limit=20`),s=await t.json();console.log("[Assets] Team rewards response:",s),s.success?_e.value=s.data||[]:_e.value=[]}catch(a){console.error("Ëé∑ÂèñÂõ¢ÈòüÂ•ñÂä±ËÆ∞ÂΩïÂ§±Ë¥•:",a),_e.value=[]}else _e.value=[]},ma=async()=>{const e=n.walletAddress||localStorage.getItem("walletAddress")||localStorage.getItem("wallet_address");if(e)try{const a="https://bocail.com",t=await fetch(`${a}/api/checkin/records?wallet=${e.toLowerCase()}`),s=await t.json();console.log("[Assets] Checkin records response:",s),s.success?fe.value=s.data||[]:fe.value=[]}catch(a){console.error("Ëé∑ÂèñÁ≠æÂà∞ËÆ∞ÂΩïÂ§±Ë¥•:",a),fe.value=[]}else fe.value=[]},fa=e=>!e||e.length<15?e:`${e.slice(0,10)}*****${e.slice(-10)}`,wa=e=>{const a=new Date(e);return`${a.getFullYear()}/${String(a.getMonth()+1).padStart(2,"0")}/${String(a.getDate()).padStart(2,"0")} ${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")}`},ya=e=>({pending:t("assetsPage.statusPending")||"Pending",processing:t("assetsPage.statusProcessing")||"Processing",completed:t("assetsPage.statusCompleted")||"Completed",failed:t("assetsPage.statusFailed")||"Failed"}[e]||e),ha=()=>{re.value=!1,ue.value=!1},ba=()=>{ue.value=!ue.value},Pa=()=>{console.log("Connect wallet clicked")},ka=e=>{const a=document.querySelector(".drawer-nav-right");a&&!a.contains(e.target)&&(ue.value=!1)},_a=async()=>{if(!n.isConnected||!n.walletAddress)return;console.log("[Assets] Ëá™Âä®Âà∑Êñ∞Êï∞ÊçÆ...");const e=!ed(Se.value)||Date.now()-d>=3e5;await Promise.all([Fa(),Aa(),Ta(),e?Da():Promise.resolve()])},xa=()=>{Sa(),c=setInterval(()=>{n.isConnected&&_a()},3e4)},Sa=()=>{c&&(clearInterval(c),c=null)},Ca=()=>{"visible"===document.visibilityState&&n.isConnected&&(console.log("[Assets] È°µÈù¢Âèò‰∏∫ÂèØËßÅÔºåÂà∑Êñ∞Êï∞ÊçÆ..."),_a())};H(async()=>{document.addEventListener("click",ka),document.addEventListener("visibilitychange",Ca),await(async()=>{try{const e=await fetch("/api/platform/documents"),a=await e.json();a?.success&&a.data&&(a.data.whitepaper_url&&(Ye.value.whitepaper.url=a.data.whitepaper_url),a.data.whitepaper_type&&(Ye.value.whitepaper.type=a.data.whitepaper_type),a.data.whitepaper_pages&&(Ye.value.whitepaper.pages=a.data.whitepaper_pages),a.data.msb_url&&(Ye.value.msb.url=a.data.msb_url),a.data.msb_type&&(Ye.value.msb.type=a.data.msb_type),a.data.business_license_url&&(Ye.value.license.url=a.data.business_license_url),a.data.business_license_type&&(Ye.value.license.type=a.data.business_license_type))}catch(e){console.warn("[Assets] Failed to load platform documents:",e)}})(),la(),await Da(),n.isConnected&&(console.log("[Assets] Wallet connected, fetching platform balance..."),await Fa(),await Aa(),await Ta(),xa())}),z(()=>{document.removeEventListener("click",ka),document.removeEventListener("visibilitychange",Ca),Sa()}),K(()=>n.isConnected,async e=>{e?(console.log("[Assets] Wallet connected, refreshing balances..."),await Fa(),await Aa(),await Ta(),xa()):(Sa(),Le.value=0,De.value=0,Te.value=0,Fe.value=0)});const Da=async()=>{try{const e="https://bocail.com",a=await fetch(`${e}/api/market/ticker?symbols=["WLDUSDT"]`),t=await a.json();Array.isArray(t)&&t.length>0?(Se.value=parseFloat(t[0].lastPrice)||0,console.log("[Exchange] WLD price fetched:",Se.value)):t.success&&t.data&&t.data.length>0&&(Se.value=parseFloat(t.data[0].lastPrice)||0),d=Date.now();const s=n.wldBalance||"0";ed(Ce.value)?function(e,a,t,s="0.01"){try{const l=new be(e||0),o=new be(a||0),n=new be(t||0);if(n.isZero()||!n.isPositive())return!1;if(l.isZero())return!0;if(o.isZero())return!1;return o.minus(l).abs().times(n).greaterThanOrEqualTo(new be(s||0))}catch{return!0}}(Ce.value,Se.value,s,"1")&&(Ce.value=Se.value):Ce.value=Se.value}catch(e){console.error("Ëé∑Âèñ WLD ‰ª∑Ê†ºÂ§±Ë¥•:",e),Se.value=0}},Ta=async()=>{if(n.isConnected&&n.walletAddress)try{const e="https://bocail.com",a=await fetch(`${e}/api/user/level?wallet=${n.walletAddress}`),t=await a.json();t.success&&(De.value=t.data.level,Te.value=t.data.dailyWldLimit,Fe.value=t.data.exchangedToday)}catch(e){console.error("Ëé∑ÂèñÁî®Êà∑Á≠âÁ∫ßÂ§±Ë¥•:",e)}},Fa=async()=>{if(n.isConnected&&n.walletAddress)try{n.setLoadingBalance(!0);const e=Date.now(),a=await fetch(`/api/user/balance?wallet_address=${n.walletAddress}&_t=${e}`,{cache:"no-store",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),t=await a.json();if(t.success&&t.data){n.setUsdtBalance(t.data.usdt_balance),n.setWldBalance(t.data.wld_balance),$e.value=t.data.total_referral_reward||"0.0000",Re.value=t.data.total_team_reward||"0.0000";const a=ed(Ce.value)?Ce.value:Se.value,s=function(e,a,t){const s=new be(e||0),l=new be(a||0),o=new be(t||0),n=l.times(o);return s.plus(n).toFixed(4)}(t.data.usdt_balance,t.data.wld_balance,a);td(n.equityValue,s,n.setEquityValue,"1"),console.log("[Assets] Platform balance fetched:",{usdt:t.data.usdt_balance,wld:t.data.wld_balance,total_referral_reward:t.data.total_referral_reward,total_team_reward:t.data.total_team_reward,equity:s,_timestamp:e})}}catch(e){console.error("[Assets] Failed to fetch platform balance:",e)}finally{n.setLoadingBalance(!1)}},Aa=async()=>{if(n.isConnected&&n.walletAddress)try{const e=Date.now(),a=await fetch(`/api/robot/today-earnings?wallet_address=${n.walletAddress}&_t=${e}`,{cache:"no-store"}),t=await a.json();t.success&&t.data&&(Le.value=parseFloat(t.data.today_earnings)||0,console.log("[Assets] Today earnings fetched:",Le.value))}catch(e){console.error("[Assets] Failed to fetch today earnings:",e),Le.value=0}else Le.value=0},La=()=>{n.isConnected?h.value=!0:alert(t("assetsPage.connectWalletFirst"))},$a=async e=>{console.log("[Assets] Deposit success:",e),j(e?.amount||0),await Fa()},Ra=()=>{n.isConnected?b.value=!0:alert(t("assetsPage.connectWalletFirst"))},qa=()=>{n.isConnected?qe.value=!0:alert(t("assetsPage.connectWalletFirst"))},Ea=async e=>{console.log("[Assets] Withdraw success:",e),W(e?.amount||0),await Fa()},Ia=async()=>{const e=k.value.join("");if(6===e.length){C.value=!0,D.value="";try{if("setup"===S.value){const a=await fetch("/api/safe/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:n.walletAddress,password:e})}),s=await a.json();s.success?(x.value.has_safe=!0,S.value="manage",k.value=["","","","","",""],alert(t("assetsPage.safeCreated")||"Safe created successfully!")):D.value=T(s.message)}else if("verify"===S.value){const a=await fetch("/api/safe/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:n.walletAddress,password:e})}),t=await a.json();t.success?(x.value.locked_usdt=t.data.locked_usdt,x.value.locked_wld=t.data.locked_wld,S.value="manage",k.value=["","","","","",""]):(D.value=T(t.message),k.value=["","","","","",""],setTimeout(()=>{_.value[0]&&_.value[0].focus()},100))}}catch(a){console.error("‰øùÈô©ÁÆ±Êìç‰ΩúÂ§±Ë¥•:",a),D.value=t("assetsPage.networkError")||"Network error"}finally{C.value=!1}}else D.value=t("assetsPage.enterSixDigit")||"Please enter 6 digits"},Ba=()=>{Ae.value=!0,setTimeout(()=>{Ue.value=!Ue.value,je.value="",Ae.value=!1},1500)},Ua=async()=>{if(!n.isConnected)return Ie.value="warning",Be.value=t("assetsPage.connectWalletFirst"),Ee.value=!0,void setTimeout(()=>{Ee.value=!1},2e3);const e=We.value,a=parseFloat(je.value)||0;let s=0;if(s="WLD"===e?parseFloat(n.wldBalance)||0:parseFloat(n.usdtBalance)||0,a<=0)return Ie.value="warning",Be.value=t("assetsPage.enterAmount")||"Please enter a valid amount",Ee.value=!0,void setTimeout(()=>{Ee.value=!1},2e3);if(a>s)return Ie.value="warning",Be.value=t("assetsPage.insufficientBalance",{currency:e}),Ee.value=!0,void setTimeout(()=>{Ee.value=!1},2e3);const l="WLD"===e?"wld_to_usdt":"usdt_to_wld";if("wld_to_usdt"===l){if(0===De.value)return Ie.value="warning",Be.value=t("assetsPage.inviteToExchange")||"Invite members to unlock WLD exchange",Ee.value=!0,void setTimeout(()=>{Ee.value=!1},2e3);const e=Te.value-Fe.value;if(a>e)return Ie.value="warning",Be.value=`Daily limit exceeded. You can only exchange ${e.toFixed(4)} WLD today.`,Ee.value=!0,void setTimeout(()=>{Ee.value=!1},2e3)}try{const e="https://bocail.com",s=await fetch(`${e}/api/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:n.walletAddress,direction:l,amount:a})}),o=await s.json();if(!o.success)throw new Error(o.message);n.setUsdtBalance(o.data.newUsdtBalance),n.setWldBalance(o.data.newWldBalance),"wld_to_usdt"===l&&(Fe.value=parseFloat(Fe.value)+a),je.value="",Ie.value="success",Be.value=t("assetsPage.exchangeSuccess"),Ee.value=!0,setTimeout(()=>{Ee.value=!1},2e3)}catch(o){console.error("ÂÖëÊç¢Â§±Ë¥•:",o),Ie.value="warning",Be.value=o.message||"Exchange failed",Ee.value=!0,setTimeout(()=>{Ee.value=!1},2e3)}},ja=()=>{Ee.value=!1};return(e,a)=>(ee(),V("div",sd,[J("div",ld,[J("div",od,[a[20]||(a[20]=J("div",{class:"card-layer card-layer-3"},null,-1)),a[21]||(a[21]=J("div",{class:"card-layer card-layer-2"},null,-1)),J("div",nd,[J("div",id,[J("h2",rd,"USDT "+Y(G(t)("assetsPage.balance")),1)]),J("div",cd,[J("span",dd,Y(G(n).usdtBalance),1),G(n).isLoadingBalance?(ee(),V("span",ud,"...")):ae("",!0)]),J("div",{class:"today-pnl clickable",onClick:qa},[J("span",vd,Y(G(t)("assetsPage.todayPnl")),1),J("span",{class:le(["pnl-value",{positive:Le.value>0}])},Y(ze.value)+" USDT",3),a[15]||(a[15]=J("span",{class:"pnl-arrow"},"‚Ä∫",-1))]),G(ed)($e.value)?(ee(),V("div",{key:0,class:"today-pnl clickable",onClick:a[0]||(a[0]=e=>ia("USDT"))},[J("span",pd,Y(G(t)("assetsPage.referralReward")||"Referral Reward"),1),J("span",gd,Y(G(ad)($e.value))+" USDT",1),a[16]||(a[16]=J("span",{class:"pnl-arrow"},"‚Ä∫",-1))])):ae("",!0),G(ed)(Re.value)?(ee(),V("div",{key:1,class:"today-pnl clickable",onClick:a[1]||(a[1]=e=>ia("USDT"))},[J("span",md,Y(G(t)("assetsPage.teamReward")||"Team Reward"),1),J("span",fd,Y(Re.value)+" USDT",1),a[17]||(a[17]=J("span",{class:"pnl-arrow"},"‚Ä∫",-1))])):ae("",!0),J("div",wd,[J("div",yd,[a[18]||(a[18]=J("div",{class:"asset-left"},[J("img",{src:"/static/USDT/USDT.png",alt:"USDT",class:"asset-icon"}),J("span",{class:"asset-name"},"USDT")],-1)),J("div",hd,[J("span",bd,Y(G(n).usdtBalance),1),J("button",{class:"details-btn",onClick:a[2]||(a[2]=e=>ia("USDT"))},Y(G(t)("assetsPage.details")),1)])]),J("div",Pd,[a[19]||(a[19]=J("div",{class:"asset-left"},[J("img",{src:"/static/USDT/WLD.png",alt:"WLD",class:"asset-icon"}),J("span",{class:"asset-name"},"WLD")],-1)),J("div",kd,[J("span",_d,Y(G(n).wldBalance),1),J("button",{class:"details-btn",onClick:a[3]||(a[3]=e=>ia("WLD"))},Y(G(t)("assetsPage.details")),1)])])])])]),J("div",xd,[J("button",{class:"action-btn deposit-btn",onClick:La},[a[22]||(a[22]=J("img",{src:"/static/QIANBAO/%E6%8F%90%E6%AC%BE.png",alt:"Deposit",class:"btn-icon"},null,-1)),J("span",Sd,Y(G(t)("assetsPage.deposit")),1)]),J("button",{class:"action-btn withdraw-btn",onClick:Ra},[a[23]||(a[23]=J("img",{src:"/static/QIANBAO/%E5%AD%98%E6%AC%BE.png",alt:"Withdraw",class:"btn-icon"},null,-1)),J("span",Cd,Y(G(t)("assetsPage.withdraw")),1)])]),J("div",Dd,[a[27]||(a[27]=J("div",{class:"exchange-icon-wrapper"},[J("img",{src:mo,alt:"Flash Exchange",class:"exchange-icon"})],-1)),J("div",Td,[J("h2",null,Y(G(t)("assetsPage.flashExchange")),1)]),J("div",Fd,[J("div",Ad,[pe(J("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>je.value=e),class:le(["exchange-input",{"wld-input":"WLD"===We.value,"usdt-input":"USDT"===We.value}]),placeholder:"0.0000",step:"0.0001",min:"0",onInput:Oe},null,34),[[ge,je.value]]),J("div",Ld,[ve(Y(G(t)("assetsPage.balance"))+": ",1),J("span",$d,Y("WLD"===We.value?m.value:f.value),1),ve(" "+Y(We.value),1)])]),J("div",Rd,[J("span",{class:le(["currency-name",{"wld-color":"WLD"===We.value,"usdt-color":"USDT"===We.value}])},Y(We.value),3),"WLD"===We.value?(ee(),V(te,{key:0},[a[24]||(a[24]=J("span",{class:"currency-divider"},null,-1)),J("span",{class:"max-badge",onClick:He},Y(G(t)("assetsPage.max")),1)],64)):ae("",!0)])]),J("div",{class:"exchange-swap-icon",onClick:Ba},[...a[25]||(a[25]=[J("img",{src:"/static/YAOQI/7.png",alt:"Swap",class:"swap-icon"},null,-1)])]),J("div",qd,[J("div",Ed,[J("span",{class:le(["exchange-result",{"wld-result":"WLD"===Me.value,"usdt-result":"USDT"===Me.value}])},Y(Ne.value),3),J("div",Id,[ve(Y(G(t)("assetsPage.balance"))+": ",1),J("span",Bd,Y("WLD"===Me.value?m.value:f.value),1),ve(" "+Y(Me.value),1)])]),J("div",Ud,[J("span",{class:le(["currency-name",{"wld-color":"WLD"===Me.value,"usdt-color":"USDT"===Me.value}])},Y(Me.value),3)])]),J("div",jd,[J("span",Wd,Y(G(t)("assetsPage.currentPrice"))+"Ôºö",1),J("span",Md,"1WLD‚âà"+Y(Se.value.toFixed(4))+"USDT",1)]),Ue.value?ae("",!0):(ee(),V("div",Nd,[J("span",Od,Y(G(t)("assetsPage.todayRedeemable"))+"Ôºö",1),J("span",Hd,Y((Te.value-Fe.value).toFixed(2))+" WLD",1)])),J("div",zd,[Ue.value||0!==De.value?ae("",!0):(ee(),V("button",{key:0,class:"unlock-hint-btn",onClick:o},Y(G(t)("assetsPage.inviteToExchange")||"Invite members to unlock WLD exchange"),1)),J("button",{class:"confirm-exchange-btn",onClick:Ua},Y(G(t)("assetsPage.confirmExchange")),1)]),Ee.value?(ee(),V("div",{key:1,class:"exchange-alert-overlay",onClick:oe(ja,["self"])},[J("div",Kd,[J("div",Vd,["warning"===Ie.value?(ee(),V("span",Qd,"‚ö†Ô∏è")):"success"===Ie.value?(ee(),V("span",Xd,"‚úÖ")):ae("",!0)]),J("p",Jd,Y(Be.value),1)])])):ae("",!0),Ae.value?(ee(),V("div",Yd,[...a[26]||(a[26]=[J("div",{class:"swap-loading-dots"},[J("span",{class:"dot dot-1"}),J("span",{class:"dot dot-2"}),J("span",{class:"dot dot-3"})],-1)])])):ae("",!0)]),J("div",Gd,[J("div",{class:"info-card",onClick:a[5]||(a[5]=e=>oa("whitepaper"))},[a[28]||(a[28]=J("img",{src:"/static/QIANBAO/1.png",alt:"White Paper",class:"card-image"},null,-1)),J("span",Zd,Y(G(t)("assetsPage.whitePaper")),1)]),J("div",{class:"info-card",onClick:a[6]||(a[6]=e=>oa("msb"))},[a[29]||(a[29]=J("img",{src:"/static/QIANBAO/2.png",alt:"MSB License",class:"card-image"},null,-1)),J("span",eu,Y(G(t)("assetsPage.msbLicense")),1)]),J("div",{class:"info-card",onClick:Xe},[a[30]||(a[30]=J("img",{src:"/static/QIANBAO/3.png",alt:"Safe",class:"card-image"},null,-1)),J("span",au,Y(G(t)("assetsPage.safe")),1)]),J("div",{class:"info-card",onClick:a[7]||(a[7]=e=>oa("license"))},[a[31]||(a[31]=J("img",{src:"/static/QIANBAO/4.png",alt:"Business License",class:"card-image"},null,-1)),J("span",tu,Y(G(t)("assetsPage.businessLicense")),1)])])]),P.value?(ee(),V("div",{key:0,class:"modal-overlay",onClick:oe(Je,["self"])},[J("div",{class:le(["safe-modal",{"manage-mode":"manage"===S.value}])},[C.value?(ee(),V("div",su,[...a[32]||(a[32]=[J("div",{class:"safe-spinner"},null,-1)])])):ae("",!0),"manage"!==S.value?(ee(),V(te,{key:1},[J("h2",lu,Y("setup"===S.value?G(t)("assetsPage.setupSafe")||"Setup Safe":G(t)("assetsPage.openSafe")),1),J("p",ou,Y("setup"===S.value?G(t)("assetsPage.setPassword")||"Set a 6-digit password":G(t)("assetsPage.enterSafePassword")),1),J("div",nu,[(ee(),V(te,null,se(6,(e,a)=>pe(J("input",{key:a,ref_for:!0,ref:e=>_.value[a]=e,"onUpdate:modelValue":e=>k.value[a]=e,type:"password",inputmode:"numeric",maxlength:"1",class:"code-input-item",onInput:e=>(e=>{k.value[e]=k.value[e].replace(/[^0-9]/g,""),k.value[e]&&e<5&&_.value[e+1]?.focus()})(a),onKeydown:e=>((e,a)=>{"Backspace"===e.key&&!k.value[a]&&a>0&&_.value[a-1]?.focus()})(e,a)},null,40,iu),[[ge,k.value[a]]])),64))]),D.value?(ee(),V("p",ru,Y(D.value),1)):ae("",!0),J("p",cu,Y(G(t)("assetsPage.lockBalance"))+": "+Y(x.value.locked_usdt)+" USDT",1),J("div",du,[J("button",{class:"modal-btn cancel-btn",onClick:Je},Y(G(t)("assetsPage.cancel")),1),J("button",{class:"modal-btn sure-btn",onClick:Ia,disabled:C.value},Y("setup"===S.value?G(t)("assetsPage.create")||"Create":G(t)("assetsPage.sure")),9,uu)])],64)):(ee(),V(te,{key:2},[J("h2",vu,"üîê "+Y(G(t)("assetsPage.safebox")||"Safe Box"),1),J("div",pu,[J("div",gu,[a[33]||(a[33]=J("span",{class:"safe-asset-label"},"USDT",-1)),J("span",mu,Y(x.value.locked_usdt),1)]),J("div",fu,[a[34]||(a[34]=J("span",{class:"safe-asset-label"},"WLD",-1)),J("span",wu,Y(x.value.locked_wld),1)])]),J("div",yu,[J("button",{class:"safe-action-btn deposit",onClick:a[8]||(a[8]=e=>(async(e="USDT")=>{const a=k.value.join(""),s=prompt(t("assetsPage.enterDepositAmount")||`Enter ${e} amount to deposit:`);if(!s)return;const l=parseFloat(s);if(isNaN(l)||l<=0)alert(t("assetsPage.invalidAmount")||"Invalid amount");else{C.value=!0;try{const s=String(e||"USDT").toUpperCase(),o=await fetch("/api/safe/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:n.walletAddress,password:a||prompt(t("assetsPage.enterPassword")||"Enter password:"),amount:l,token:s})}),i=await o.json();i.success?(n.setUsdtBalance(i.data.balance.usdt),n.setWldBalance(i.data.balance.wld),x.value.locked_usdt=i.data.safe.locked_usdt,x.value.locked_wld=i.data.safe.locked_wld,alert(t("assetsPage.depositSuccess")||"Deposit successful!")):alert(T(i.message,s))}catch(o){console.error("‰øùÈô©ÁÆ±Â≠òÊ¨æÂ§±Ë¥•:",o),alert(t("assetsPage.networkError")||"Network error")}finally{C.value=!1}}})("USDT"))},Y(G(t)("assetsPage.depositUsdt")||"Deposit USDT"),1),J("button",{class:"safe-action-btn withdraw",onClick:a[9]||(a[9]=e=>(async(e="USDT")=>{const a=k.value.join(""),s=String(e||"USDT").toUpperCase(),l="USDT"===s?parseFloat(x.value.locked_usdt):parseFloat(x.value.locked_wld),o=prompt((t("assetsPage.enterWithdrawAmount")||`Enter ${e} amount to withdraw:`)+` (Max: ${l.toFixed(4)})`);if(!o)return;const i=parseFloat(o);if(isNaN(i)||i<=0)alert(t("assetsPage.invalidAmount")||"Invalid amount");else if(i>l)alert(t("assetsPage.insufficientLocked")||"Insufficient locked balance");else{C.value=!0;try{const e=await fetch("/api/safe/withdraw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:n.walletAddress,password:a||prompt(t("assetsPage.enterPassword")||"Enter password:"),amount:i,token:s})}),l=await e.json();l.success?(n.setUsdtBalance(l.data.balance.usdt),n.setWldBalance(l.data.balance.wld),x.value.locked_usdt=l.data.safe.locked_usdt,x.value.locked_wld=l.data.safe.locked_wld,alert(t("assetsPage.withdrawSuccess")||"Withdraw successful!")):alert(T(l.message,s))}catch(r){console.error("‰øùÈô©ÁÆ±ÂèñÊ¨æÂ§±Ë¥•:",r),alert(t("assetsPage.networkError")||"Network error")}finally{C.value=!1}}})("USDT"))},Y(G(t)("assetsPage.withdrawUsdt")||"Withdraw USDT"),1)]),J("button",{class:"modal-btn cancel-btn full-width",onClick:Je},Y(G(t)("assetsPage.close")||"Close"),1)],64))],2)])):ae("",!0),(ee(),ce(me,{to:"body"},[Q(ie,{name:"doc-fade"},{default:ne(()=>[F.value?(ee(),V("div",hu,[J("div",bu,[J("span",Pu,Y(L.value),1),J("button",{class:"doc-close-btn",onClick:na},"‚úï")]),"gallery"===$.value?(ee(),V("div",{key:0,ref_key:"docGalleryRef",ref:X,class:"doc-gallery",onClick:oe(na,["self"]),onScrollPassive:ta},[J("div",ku,[(ee(!0),V(te,null,se(ea.value,(e,a)=>(ee(),V("img",{key:a,src:e,alt:`Page ${a+1}`,class:"doc-gallery-page",loading:0===a?"eager":"lazy",decoding:"async",onError:e=>((e,a)=>{console.error(`[Whitepaper] Failed to load page ${a+1}:`,e.target?.src),e.target.style.display="none"})(e,a)},null,40,_u))),128))])],544)):"pdf"===$.value?(ee(),V("div",{key:1,class:"doc-pdf",onClick:oe(na,["self"])},[J("iframe",{class:"doc-pdf-frame",src:A.value,title:L.value},null,8,xu)])):(ee(),V("div",{key:2,class:"doc-single-image",onClick:na},[J("img",{src:A.value,alt:L.value,class:"doc-image",onClick:a[10]||(a[10]=oe(()=>{},["stop"]))},null,8,Su)]))])):ae("",!0)]),_:1})])),Q(ie,{name:"drawer"},{default:ne(()=>[re.value?(ee(),V("div",{key:0,class:"drawer-overlay",onClick:ha},[J("div",Cu,[J("div",Du,[J("div",Tu,[a[38]||(a[38]=J("div",{class:"drawer-nav-left"},[J("img",{src:w,alt:"Menu",class:"drawer-menu-icon"})],-1)),J("div",{class:"drawer-nav-center",onClick:oe(Pa,["stop"])},[a[35]||(a[35]=J("img",{src:v,alt:"Wallet",class:"drawer-wallet-icon"},null,-1)),G(n).isConnected&&G(n).walletAddress?(ee(),V("span",Fu," ID: "+Y(G(n).walletAddress.slice(-8)),1)):(ee(),V("span",Au,Y(G(t)("nav.connectWallet")),1))]),J("div",{class:"drawer-nav-right",onClick:oe(ba,["stop"])},[a[37]||(a[37]=J("img",{src:R,alt:"Globe",class:"drawer-globe-icon"},null,-1)),J("span",Lu,Y(Qe.value),1),J("span",{class:le(["drawer-arrow-icon",{"arrow-up":ue.value}])},"‚à®",2),ue.value?(ee(),V("div",{key:0,class:"drawer-language-dropdown",onClick:a[11]||(a[11]=oe(()=>{},["stop"]))},[a[36]||(a[36]=J("div",{class:"drawer-dropdown-triangle"},null,-1)),(ee(!0),V(te,null,se(Ve.value,e=>(ee(),V("div",{key:e.code,class:le(["drawer-language-option",{active:G(s)===e.code}]),onClick:oe(a=>(e=>{s.value=e.code,ue.value=!1,localStorage.setItem("language",e.code)})(e),["stop"])},[J("span",Ru,Y(e.name),1)],10,$u))),128))])):ae("",!0)])])]),J("div",qu,[J("div",Eu,[J("img",{src:`/static/USDT/${de.value}.png`,alt:de.value,class:"drawer-icon"},null,8,Iu),J("div",Bu,[J("h3",Uu,Y(de.value),1),J("p",ju,Y("WLD"===de.value?"Worldcoin":"Tether USD"),1)])]),J("div",Wu,[J("span",Mu,"$"+Y("WLD"===de.value?G(n).wldBalance:G(n).usdtBalance),1),J("span",Nu,"$"+Y("WLD"===de.value?(parseFloat(G(n).wldBalance)*we.value).toFixed(4):G(n).usdtBalance),1)])]),J("div",Ou,["WLD"===de.value?(ee(),V(te,{key:0},[fe.value.length>0||xe.value.length>0?(ee(),V("div",Hu,[(ee(!0),V(te,null,se(fe.value,e=>(ee(),V("div",{key:e.id,class:"usdt-record-card"},[J("div",zu,[J("span",Ku,Y(G(t)("assetsPage.dailySignInRewards")),1),J("span",Vu,Y(G(t)("assetsPage.completed")),1)]),J("div",Qu,[J("div",Xu,[J("div",Ju,Y(fa(e.wallet_address)),1),J("div",Yu,Y(wa(e.created_at)),1)]),J("div",Gu,[J("div",Zu,"+"+Y(parseFloat(e.reward_amount).toFixed(4)),1),a[39]||(a[39]=J("div",{class:"tx-currency"},"WLD",-1))])])]))),128)),(ee(!0),V(te,null,se(xe.value,e=>(ee(),V("div",{key:"exchange-"+e.id,class:"usdt-record-card"},[J("div",ev,[J("span",av,Y(G(t)("assetsPage.exchangeRecord")||"Exchange"),1),J("span",tv,Y(G(t)("assetsPage.completed")),1)]),J("div",sv,[J("div",lv,[J("div",ov,Y(fa(e.wallet_address)),1),J("div",nv,Y(wa(e.created_at)),1)]),J("div",iv,["usdt_to_wld"===e.direction?(ee(),V(te,{key:0},[J("div",rv,"+"+Y(parseFloat(e.wld_amount).toFixed(4)),1),a[40]||(a[40]=J("div",{class:"tx-currency"},"WLD",-1))],64)):(ee(),V(te,{key:1},[J("div",cv,"-"+Y(parseFloat(e.wld_amount).toFixed(4)),1),a[41]||(a[41]=J("div",{class:"tx-currency"},"WLD",-1))],64))])])]))),128))])):(ee(),V("p",dv,Y(G(t)("assetsPage.noRecords")),1))],64)):(ee(),V("div",uv,[Ke.value.length>0?(ee(),V("div",vv,[(ee(!0),V(te,null,se(Ke.value,e=>(ee(),V("div",{key:e.type+"-"+e.id,class:"usdt-record-card"},["deposit"===e.type?(ee(),V(te,{key:0},[J("div",pv,[J("span",gv,Y(G(t)("assetsPage.depositRecord")),1),J("span",{class:le(["tx-status",e.status])},Y(ya(e.status)),3)]),J("div",mv,[J("div",fv,[J("div",wv,Y(fa(e.wallet_address)),1),J("div",yv,Y(wa(e.created_at)),1)]),J("div",hv,[J("div",bv,"+"+Y(parseFloat(e.amount).toFixed(4)),1),a[42]||(a[42]=J("div",{class:"tx-currency"},"USDT",-1))])])],64)):"withdraw"===e.type?(ee(),V(te,{key:1},[J("div",Pv,[J("span",kv,Y(G(t)("assetsPage.withdrawRecord")),1),J("span",{class:le(["tx-status",e.status])},Y(ya(e.status)),3)]),J("div",_v,[J("div",xv,[J("div",Sv,Y(fa(e.to_address||e.wallet_address)),1),J("div",Cv,Y(wa(e.created_at)),1)]),J("div",Dv,[J("div",Tv,"-"+Y(parseFloat(e.amount).toFixed(4)),1),a[43]||(a[43]=J("div",{class:"tx-currency"},"USDT",-1))])]),J("div",Fv,[J("div",Av,[J("span",Lv,Y(G(t)("assetsPage.fee")||"Fee")+" (0.5%)",1),J("span",$v,"-"+Y(parseFloat(e.fee||.005*e.amount).toFixed(4))+" USDT",1)]),J("div",Rv,[J("span",qv,Y(G(t)("assetsPage.actualAmount")||"Actual"),1),J("span",Ev,Y(parseFloat(e.actual_amount||.995*e.amount).toFixed(4))+" USDT",1)])])],64)):"quantify"===e.type?(ee(),V(te,{key:2},[J("div",Iv,[J("span",Bv,Y(G(t)("assetsPage.quantifyRecord")),1),J("span",Uv,Y(G(t)("assetsPage.completed")),1)]),J("div",jv,[J("div",Wv,[J("div",Mv,Y(e.robot_name),1),J("div",Nv,Y(wa(e.created_at)),1)]),J("div",Ov,[J("div",Hv,"+"+Y(parseFloat(e.earnings).toFixed(4)),1),a[44]||(a[44]=J("div",{class:"tx-currency"},"USDT",-1))])])],64)):"referral"===e.type?(ee(),V(te,{key:3},[J("div",zv,[J("span",Kv,Y(G(t)("assetsPage.referralRecord"))+" (Lv"+Y(e.level)+")",1),J("span",Vv,Y(G(t)("assetsPage.completed")),1)]),J("div",Qv,[J("div",Xv,[J("div",Jv,Y(fa(e.from_wallet)),1),J("div",Yv,Y(wa(e.created_at)),1)]),J("div",Gv,[J("div",Zv,"+"+Y(parseFloat(e.reward_amount).toFixed(4)),1),a[45]||(a[45]=J("div",{class:"tx-currency"},"USDT",-1))])])],64)):"exchange"===e.type?(ee(),V(te,{key:4},[J("div",ep,[J("span",ap,Y(G(t)("assetsPage.exchangeRecord")||"Exchange"),1),J("span",tp,Y(G(t)("assetsPage.completed")),1)]),J("div",sp,[J("div",lp,[J("div",op,Y(fa(e.wallet_address)),1),J("div",np,Y(wa(e.created_at)),1)]),J("div",ip,["wld_to_usdt"===e.direction?(ee(),V(te,{key:0},[J("div",rp,"+"+Y(parseFloat(e.usdt_amount).toFixed(4)),1),a[46]||(a[46]=J("div",{class:"tx-currency"},"USDT",-1))],64)):(ee(),V(te,{key:1},[J("div",cp,"-"+Y(parseFloat(e.usdt_amount).toFixed(4)),1),a[47]||(a[47]=J("div",{class:"tx-currency"},"USDT",-1))],64))])])],64)):"team_reward"===e.type?(ee(),V(te,{key:5},[J("div",dp,[J("span",up,Y(G(t)("assetsPage.teamRewardRecord")||"Âõ¢ÈòüÂ•ñÂä±")+" (Level"+Y(e.broker_level)+")",1),J("span",vp,Y(G(t)("assetsPage.completed")),1)]),J("div",pp,[J("div",gp,[J("div",mp,Y("daily_dividend"===e.reward_type?G(t)("assetsPage.dailyDividend")||"ÊØèÊó•ÂàÜÁ∫¢":e.reward_type),1),J("div",fp,Y(wa(e.created_at)),1)]),J("div",wp,[J("div",yp,"+"+Y(parseFloat(e.reward_amount).toFixed(4)),1),a[48]||(a[48]=J("div",{class:"tx-currency"},"USDT",-1))])])],64)):ae("",!0)]))),128))])):ae("",!0),0===Ke.value.length?(ee(),V("p",hp,Y(G(t)("assetsPage.noRecords")),1)):ae("",!0)]))])])])):ae("",!0)]),_:1}),Q(q,{visible:h.value,"onUpdate:visible":a[12]||(a[12]=e=>h.value=e),onSuccess:$a},null,8,["visible"]),Q(E,{visible:b.value,"onUpdate:visible":a[13]||(a[13]=e=>b.value=e),onSuccess:Ea},null,8,["visible"]),Q(I,{visible:qe.value,"onUpdate:visible":a[14]||(a[14]=e=>qe.value=e)},null,8,["visible"]),Q(i)]))}},[["__scopeId","data-v-1d0e2cac"]]),Pp=Object.freeze(Object.defineProperty({__proto__:null,default:bp},Symbol.toStringTag,{value:"Module"})),kp={class:"notfound-page"},_p={class:"notfound-container"};const xp=e({},[["render",function(e,a){const t=fe("router-link");return ee(),V("div",kp,[J("div",_p,[a[1]||(a[1]=J("h1",{class:"error-code"},"404",-1)),a[2]||(a[2]=J("h2",null,"È°µÈù¢Êú™ÊâæÂà∞",-1)),a[3]||(a[3]=J("p",null,"Êä±Ê≠âÔºåÊÇ®ËÆøÈóÆÁöÑÈ°µÈù¢‰∏çÂ≠òÂú®",-1)),Q(t,{to:"/",class:"back-home"},{default:ne(()=>[...a[0]||(a[0]=[ve("ËøîÂõûÈ¶ñÈ°µ",-1)])]),_:1})])])}],["__scopeId","data-v-b65aca06"]]),Sp=Object.freeze(Object.defineProperty({__proto__:null,default:xp},Symbol.toStringTag,{value:"Module"}));export{ts as A,hr as C,os as D,Lt as F,fa as H,Qa as I,Ji as L,Sp as N,tt as O,bl as P,Hl as R,wt as T,He as a,Zt as b,Ne as c,hs as d,go as e,ii as f,Zc as g,Pp as h,Oe as s};
